<!DOCTYPE html>
<html>
  <!-- meta/link... -->
  



<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>


  <title>院龙的博客</title>

  <link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="/favicon.ico">
  <link rel="stylesheet" href="https://at.alicdn.com/t/font_1911880_c1nvbyezg17.css">
  <link href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="/js/swiper/swiper@5.4.1.min.css" rel="stylesheet">
  
  
    <script>
        var themeModelId = '1';
        if (themeModelId) {
            localStorage.setItem('modelId', themeModelId);
        }
    </script>
    
    <script defer src="https://cdn.jsdelivr.net/gh/yuang01/live2d-widget@latest/autoload.js"></script>
    <script>
        var live2dOpen = eval('true') || false;
        if (!live2dOpen) {
            localStorage.setItem('waifu-display', 1609323474481);
        }
    </script>
  
  
  
<link rel="stylesheet" href="/css/animate.min.css">

  
<link rel="stylesheet" href="/css/style.css">

  
  
    <link href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css" rel="stylesheet">
  
  
    
<link rel="stylesheet" href="/js/shareJs/share.min.css">

  
  <style>
        @media (max-width: 992px) {
            #waifu {
                display: none;
            }
        }
    </style>
    <script defer src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">

    
    
    <!-- 依赖于jquery和vue -->
    
        <script src="https://unpkg.com/jquery@3.5.1/dist/jquery.min.js"></script>
    

    
        <script src="https://unpkg.com/vue@2.6.11/dist/vue.min.js"></script>
    

    <!-- import link -->
    
        
            
        
            
        
    
    <!-- import script -->
    
        
            
        
            
        
    

<meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/atom.xml" title="院龙的博客" type="application/atom+xml">
</head>

  
  <!-- 预加载动画 -->
  <!-- 页面预加载动画 -->

  
    <div class="preloader_2" id="loader">
  <div class="loader"></div>
</div>

  
<script>
  var endLoading = function () {
    document.body.style.overflow = 'auto';
    document.getElementById('loader').classList.add("loading");
  }
  window.addEventListener('DOMContentLoaded',endLoading);
</script>

  <body>
    <!-- 判断是否为暗黑风格 -->
    <!-- 判断是否为黑夜模式 -->
<script>
  let isDark = JSON.parse(localStorage.getItem('dark')) || JSON.parse('false');

  if (isDark) {
    $(document.body).addClass('darkModel');
  }
</script>

    <!-- 需要在上面加载的js -->
    <script>
  function loadScript(src, cb) {
    return new Promise(resolve => {
      setTimeout(function () {
        var HEAD = document.getElementsByTagName("head")[0] || document.documentElement;
        var script = document.createElement("script");
        script.setAttribute("type", "text/javascript");
        if (cb) {
          if (JSON.stringify(cb)) {
            for (let p in cb) {
              if (p == "onload") {
                script[p] = () => {
                  cb[p]()
                  resolve()
                }
              } else {
                script[p] = cb[p]
                script.onload = resolve
              }
            }
          } else {
            script.onload = () => {
              cb()
              resolve()
            };
          }
        } else {
          script.onload = resolve
        }
        script.setAttribute("src", src);
        HEAD.appendChild(script);
      });
    });
  }

  //https://github.com/filamentgroup/loadCSS
  var loadCSS = function (src) {
    return new Promise(resolve => {
      setTimeout(function () {
        var link = document.createElement('link');
        link.rel = "stylesheet";
        link.href = src;
        link.onload = resolve;
        document.getElementsByTagName("head")[0].appendChild(link);
      });
    });
  };

</script> 

<!-- 轮播图所需要的js -->
<script src="/js/swiper/swiper.min.js"></script>
<script src="/js/swiper/vue-awesome-swiper.js"></script>
<script src="/js/swiper/swiper.animate1.0.3.min.js"></script>

<script type="text/javascript">
  Vue.use(window.VueAwesomeSwiper)
</script>


  <script src="/js/vue-typed-js/index.js"></script>


<!-- 首页的公告滚动插件的js需要重新加载 -->
<script src="/js/vue-seamless-scroll/index.js"></script>

<!-- 打字机效果js -->
<script src="https://unpkg.com/typed.js@2.0.11"></script>


    <div id="safearea">
      <main class="main" id="pjax-container">
        <!-- 头部导航 -->
        
<header class="header  " 
  id="navHeader"
  style="position: fixed;
  left: 0; top: 0; z-index: 10;width: 100%;"
>
  <div class="header-content">
    <div class="bars">
      <div id="appDrawer" class="sidebar-image">
  <div class="drawer-box-icon">
    <i class="fas fa-bars" aria-hidden="true" @click="showDialogDrawer"></i>
  </div>
  
  <transition name="fade">
    <div class="drawer-box_mask" v-cloak style="display: none;" v-show="visible" @click.self="cancelDialogDrawer">
    </div>
  </transition>
  <div class="drawer-box" :class="{'active': visible}">
    <div class="drawer-box-head bg-color">
      <img class="drawer-box-head_logo lazyload placeholder" src="/medias/logo.png" class="lazyload placeholder" data-srcset="/medias/logo.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="logo">
      <h3 class="drawer-box-head_title">院龙的博客</h3>
      <h5 class="drawer-box-head_desc"></h5>
    </div>
    
    <div class="drawer-box-content">
      <ul class="drawer-box-content_menu">
        
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/" class="drawer-menu-item-link">
                  
                    <i class="fas fa-home" aria-hidden="true"></i>
                  
                  <span class="name">首页</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/archives" class="drawer-menu-item-link">
                  
                    <i class="fas fa-archive" aria-hidden="true"></i>
                  
                  <span class="name">归档</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/tags" class="drawer-menu-item-link">
                  
                    <i class="fas fa-tags" aria-hidden="true"></i>
                  
                  <span class="name">标签</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/categories" class="drawer-menu-item-link">
                  
                    <i class="fas fa-bookmark" aria-hidden="true"></i>
                  
                  <span class="name">分类</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/friends" class="drawer-menu-item-link">
                  
                  <span class="name">友情链接</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="javascript:;" class="drawer-menu-item-link has-children" @click="openOrCloseMenu(5)">
                  <span>
                    
                      <i class="fas fa-link"></i>
                    
                    <span class="name">更多</span>
                  </span>
                  <i class="fas fa-chevron-left arrow " :class="{'icon-rotate': isOpen(5)}" aria-hidden="true"></i>
                </a>
                <ul class="drawer-sub-menu" v-if="isOpen(5)">
                  
                  <li>
                    <a href="/gallery">
                      
                      <i class="fas fa-music" style="margin-top: -20px;"></i>
                      
                      <span>图库</span>
                    </a>
                  </li>
                  
                  <li>
                    <a href="/huoban">
                      
                      <i class="fas fa-film" style="margin-top: -20px;"></i>
                      
                      <span>友情连接</span>
                    </a>
                  </li>
                  
                  <li>
                    <a href="/me">
                      
                      <i class="fas fa-film" style="margin-top: -20px;"></i>
                      
                      <span>关于我</span>
                    </a>
                  </li>
                  
                  <li>
                    <a target="_blank" rel="noopener" href="http://baidu.com">
                      
                      <i class="fas fa-film" style="margin-top: -20px;"></i>
                      
                      <span>百度</span>
                    </a>
                  </li>
                  
                </ul>
              
            </li>
          
        
        
          <li class="drawer-box-content_item">
            <a target="_blank" rel="noopener" href="https://github.com/Humble2967738843">
              <i class="fas fa-github" aria-hidden="true"></i>
              <span>Github</span>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>

<script>
  var body = document.body || document.documentElement || window;
  var vm = new Vue({
    el: '#appDrawer',
    data: {
      visible: false,
      top: 0,
      openArr: [],
    },
    computed: {
    },
    mounted() {
    },
    methods: {
      isOpen(index) {
        if (this.openArr.includes(index)) {
          return true;
        } else {
          return false;
        }
      },
      openOrCloseMenu(curIndex) {
        const index = this.openArr.indexOf(curIndex);
        if (index !== -1) {
          this.openArr.splice(index, 1);
        } else {
          this.openArr.push(curIndex);
        }
      },
      showDialogDrawer() {
        this.visible = true;
        // 防止页面滚动，只能让弹框滚动
        this.top = $(document).scrollTop()
        body.style.cssText = 'width: 100%; height: 100%;overflow: hidden;';
      },
      cancelDialogDrawer() {
        this.visible = false;
        body.removeAttribute('style');
        $(document).scrollTop(this.top)
      }
    },
    created() {}
  })
</script>

    </div>
    <div class="blog-title" id="author-avatar">
      
        <div class="avatar">
          <img src="/medias/logo.png" class="lazyload placeholder" data-srcset="/medias/logo.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="logo">
        </div>
      
      <a href="/" class="logo">院龙的博客</a>
    </div>
    <nav class="navbar">
      <ul class="menu">
        
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/" class="menu-item-link" title="首页">
                  
                    <i class="fas fa-home" aria-hidden="true"></i>
                  
                  <span class="name">首页</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/archives" class="menu-item-link" title="归档">
                  
                    <i class="fas fa-archive" aria-hidden="true"></i>
                  
                  <span class="name">归档</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/tags" class="menu-item-link" title="标签">
                  
                    <i class="fas fa-tags" aria-hidden="true"></i>
                  
                  <span class="name">标签</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/categories" class="menu-item-link" title="分类">
                  
                    <i class="fas fa-bookmark" aria-hidden="true"></i>
                  
                  <span class="name">分类</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/friends" class="menu-item-link" title="友情链接">
                  
                  <span class="name">友情链接</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="javascript:;" class="menu-item-link" title="更多">
                  
                    <i class="fas fa-link"></i>
                  
                  <span class="name">更多</span>
                  <i class="fas fa-chevron-down arrow" aria-hidden="true"></i>
                </a>
                <ul class="sub-menu">
                  
                  <li>
                    <a href="/gallery">
                      
                      <i class="fas fa-music" style="margin-top: -20px;"></i>
                      
                      <span>图库</span>
                    </a>
                  </li>
                  
                  <li>
                    <a href="/huoban">
                      
                      <i class="fas fa-film" style="margin-top: -20px;"></i>
                      
                      <span>友情连接</span>
                    </a>
                  </li>
                  
                  <li>
                    <a href="/me">
                      
                      <i class="fas fa-film" style="margin-top: -20px;"></i>
                      
                      <span>关于我</span>
                    </a>
                  </li>
                  
                  <li>
                    <a target="_blank" rel="noopener" href="http://baidu.com">
                      
                      <i class="fas fa-film" style="margin-top: -20px;"></i>
                      
                      <span>百度</span>
                    </a>
                  </li>
                  
                </ul>
              
            </li>
          
        
      </ul>
      
      
        <div id="appSearch">
  <div class="search"  @click="showDialog()"><i class="fas fa-search" aria-hidden="true"></i></div>
  <transition name="fade">
    <div class="message-box_wrapper" style="display: none;" v-cloak v-show="dialogVisible" @click.self="cancelDialogVisible()">
      <div class="message-box animated bounceInDown">
        <h2>
          <span>
            <i class="fas fa-search" aria-hidden="true"></i>
            <span class="title">本地搜索</span>
          </span>
          <i class="fas fa-times close" pointer style="float:right;" aria-hidden="true" @click.self="cancelDialogVisible()"></i>
        </h2>
        <form class="site-search-form">
          <input type="text"
            placeholder="请输入关键字"
            id="local-search-input" 
            @click="getSearchFile()"
            class="st-search-input"
            v-model="searchInput"
          />
        </form>
        <div class="result-wrapper">
          <div id="local-search-result" class="local-search-result-cls"></div>
        </div>
      </div>
    </div>
  </transition>
</div>
<script src="/js/local_search.js"></script>
<script>
  var body = document.body || document.documentElement || window;
  var vm = new Vue({
    el: '#appSearch',
    data: {
      dialogVisible: false,
      searchInput: '',
      top: 0,
    },
    computed: {
    },
    mounted() {
      window.addEventListener('pjax:complete', () => {
        this.cancelDialogVisible();
      })
    },
    methods: {
      showDialog() {
        this.dialogVisible = true;
        // 防止页面滚动，只能让弹框滚动
        this.top = $(document).scrollTop()
        body.style.cssText = 'overflow: hidden;';
      },
      getSearchFile() {
        if (!this.searchInput) {
          getSearchFile("/search.xml");
        }
      },
      cancelDialogVisible() {
        this.dialogVisible = false;
        body.removeAttribute('style');
        $(document).scrollTop(this.top)
      },
    },
    created() {}
  })
</script>
<!-- 解决刷新页面闪烁问题，可以在元素上添加display: none, 或者用vue.extend方法，详情：https://blog.csdn.net/qq_31393401/article/details/81017912 -->
<!-- 下面是搜索基本写法 -->
<!-- <script type="text/javascript" id="local.search.active">
  var inputArea = document.querySelector("#local-search-input");
  inputArea.onclick   = function(){ getSearchFile(); this.onclick = null }
  inputArea.onkeydown = function(){ if(event.keyCode == 13) return false }
</script> -->

      

    </nav>
  </div>
  
    <a target="_blank" rel="noopener" href="https://github.com/Humble2967738843" class="github-corner color-primary" aria-label="View source on GitHub"><svg width="60" height="60" viewBox="0 0 250 250" style="fill:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  
  
    <div id="he-plugin-simple"></div>
    <script>
      WIDGET = {
        CONFIG: {
          "modules": "012",
          "background": 5,
          "tmpColor": "4A4A4A",
          "tmpSize": 16,
          "cityColor": "4A4A4A",
          "citySize": 16,
          "aqiSize": 16,
          "weatherIconSize": 24,
          "alertIconSize": 18,
          "padding": "10px 10px 10px 10px",
          "shadow": "1",
          "language": "auto",
          "borderRadius": 5,
          "fixed": "false",
          "vertical": "middle",
          "horizontal": "center",
          "key": "2784dd3fcb1e4f0f9a9b579bf69641f2"
        }
      }
    </script>
    <script defer src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script> 
    
</header>
        <!-- 内容区域 -->
        
 <!-- prismjs 代码高亮 -->
 


<div class="bg-dark-floor" style="position: fixed;left: 0;top: 0;width: 100%;height: 100%;z-index: -1;"></div>


  <!-- 文章详情页顶部图片和标题 -->




<div class="post-detail-header" id="thumbnail_canvas" style="background-repeat: no-repeat; background-size: cover; 
  background-position: center center;position: relative;background-image:url('https://pic1.zhimg.com/80/v2-03a22891ccba9bccf6424dfd7cbf4be7_1440w.webp')">
  <div class="post-detail-header-mask"></div>
  <canvas id="header_canvas"style="position:absolute;bottom:0;pointer-events:none;"></canvas>
  
  <div class="post-detail-header_info-box">
    <div class="title-box">
      <span class="title">
        
      </span>
    </div>
    
    
      
        <span class="post-detail-header_date">
          <i class="fas fa-calendar"></i> 发表于：2023-11-25 |
        </span>
      

      

      
    
  </div>
  
  
    <script src="/js/bubble/bubble.js"></script>
  
</div>





<div class="post-detail-content post-row" 
  style="padding-top: 0px;">
  <div class="main-content">
    <article class="post post-detail">
      <div class="post-content">
        <h1 id="事件提取作为问题生成和回答"><a href="#事件提取作为问题生成和回答" class="headerlink" title="事件提取作为问题生成和回答"></a>事件提取作为问题生成和回答</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>最近有关事件提取的工作已将该任务重新定义为问答（QA），并取得了有希望的结果。这种方法的优点在于，<span style="background-color: #2ea8e580">它通过直接预测事件参数而不先提取候选者来解决传统基于标记的分类方法中发现的错误传播问题</span>。然而，<span style="background-color: #5fb23680">这些问题通常基于固定模板，很少利用相关论点等上下文信息</span>。此外，<span style="background-color: #5fb23680">先前基于 QA 的方法很难处理同一角色有多个参数的情况</span>。在本文中，我们提出了 QGA-EE，<span style="background-color: #ff666680">它使问题生成（QG）模型能够生成包含丰富上下文信息的问题，而不是使用固定模板</span>。我们还提出了<span style="background-color: #ff666680">动态模板来辅助 QG 模型的训练</span>。实验表明，QGA-EE 在 ACE05 英语数据集上优于所有先前基于单任务的模型。</p>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1 Introduction"></a>1 Introduction</h2><p><span style="background-color: #2ea8e580">事件提取（EE）旨在从文本中提取核心信息元素（例如人物、事件、地点、时间），是自然语言处理（NLP）中非常重要的任务</span>。它为下游应用程序提供输入，例如摘要（Filatova 和 Hatzivassiloglou，2004 年）、知识库填充（Ji 和 Grishman，2011 年）和推荐（Lu 等人，2016 年）。之前的工作（Li et al., 2013; Nguyen et al., 2016; Sha et al., 2018）通常<span style="background-color: #2ea8e580">基于管道方法，该方法首先识别事件触发词&#x2F;短语和参数候选，然后应用分类器根据成对特征对候选人的角色进行分类</span>。<span style="background-color: #5fb23680">不幸的是，错误往往会沿着管道传播。</span>最近，一些方法<span style="background-color: #2ea8e580">制定了EE作为问答 (QA) 问题（Du 和 Cardie，2020；Li 等人，2020；Lyu 等人，2021）来缓解该问题，其中每个论证角色的问题都是由模板手动定义的</span>。例如，<span style="background-color: #2ea8e580">从 Conflict.Attack 事件中提取“那是因为联军战斗机袭击了查姆查马尔上方山上的伊拉克阵地，伊拉克军队仓促撤退”这句话中的 Attack 参数，被重新构造为回答“谁是那个人”这个问题</span>。<span style="background-color: #2ea8e580">这些方法已经显示出有希望的结果，但基于模板的问题是有限的：由于模板是手动构建的，因此它们是固定的，并且很少包含上下文信息（即特定于输入的信息），除了某些工作中的触发词之外（杜和卡迪，2020）</span>。然而，事实证明，<span style="background-color: #5fb23680">提出好的问题可以提高标准 QA 任务的性能</span>（Rajpurkar 等人，2018）。<span style="background-color: #ff666680">对于基于 QA 的 EE，包含更丰富的上下文信息（例如其他事件参数）的问题可能会产生更好的结果（例如，图 1 中的“谁在山上的袭击中使用了喷气式飞机？”）</span>。</p>
<p><img src="/attachments/B4PIWFJE.png" class="lazyload placeholder" data-srcset="/attachments/B4PIWFJE.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;B4PIWFJE&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22IV5VC27S%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%221%22%2C%22position%22%3A%7B%22pageIndex%22%3A0%2C%22rects%22%3A%5B%5B296.786%2C430.461%2C530.893%2C631.354%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%221%22%7D%7D&quot; width=&quot;390&quot; height=&quot;335&quot; src=&quot;attachments/B4PIWFJE.png&quot; ztype=&quot;zimage&quot;&gt;"><br>在本文中，我们提出了 QGA-EE，它由 1）<span style="background-color: #ff666680">一个用于生成以目标参数 arXiv:2307.05567v1 [cs.CL] 10 Jul 202 角色为条件的上下文感知问题的 QG 模型和 2）一个用于回答用于提取事件参数的上下文感知问题</span>。我们还<span style="background-color: #ff666680">设计了动态模板来生成 QG 模型训练的黄金上下文感知问题</span>。</p>
<p>     据我们所知，这是第一个基于 QA 的 EE 工作，<span style="background-color: #ff666680">它利用动态模板并专注于生成上下文感知问题</span>。李等人。 （2020）<span style="background-color: #ff666680">还提出了一个模型来生成包含事件触发器和参数的上下文信息的问题</span>。然而，我们的工作有两个主要优点。首先，在李等人中。 （2020）该问题仅包含本体层面的上下文信息（例如论证角色、事件类型）。在我们的工作中，<span style="background-color: #ff666680">生成的问题包含事件提及级别的上下文信息。例如，我们的模型生成的问题包括真实事件论证而不仅仅是论证角色（例如“山丘”与“地点”）。其次，他们工作中的问题是通过填写模板生成的，但我们的模板是动态的，用于训练 QG 模型，该模型可以在给定特定事件提及和相关论点角色的情况下自动生成最佳问题</span>。</p>
<p>     实验结果表明，QGA-EE 在自动内容提取 (ACE) 2005 英语数据集（Doddington 等人，2004）上优于所有基于单任务的模型，甚至与最先进的联合模型实现了竞争性能IE 模型。</p>
<h2 id="2-Model"><a href="#2-Model" class="headerlink" title="2 Model"></a>2 Model</h2><p>图1展示了QGA-EE的总体框架。它仅专注于事件参数提取 (EAE)，但可以与任何事件触发标记器配对以执行端到端 EE。在第 4 节中，我们将其与标准序列标记触发标记器配对，以评估其端到端 EE 性能。</p>
<h2 id="2-1-Question-Generation-Model"><a href="#2-1-Question-Generation-Model" class="headerlink" title="2.1 Question Generation Model"></a>2.1 Question Generation Model</h2><p>之前基于 QA 的 EE 工作（Du 和 Cardie，2020）<span style="background-color: #2ea8e580">使用触发信息填充预先设计的模板，以生成 QA 模型的输入问题</span>。然而，<span style="background-color: #2ea8e580">问题中缺少上下文信息是 QA 模型性能的瓶颈</span>。</p>
<p>    <span style="background-color: #ff666680">QGA-EE 使用 QG 模型根据输入句子和目标角色生成上下文感知问题，该问题基于序列到序列架构（例如 BART（Lewis et al., 2020）、T5（Raffel et al., 2020） ）。为了训练QG模型，我们为ACE本体中的每个角色设计了动态模板</span>。2我们为每个角色设计了多个模板，每个模板都包含其他参数角色的不同组合。</p>
<p><img src="/attachments/3RIUDJ3H.png" class="lazyload placeholder" data-srcset="/attachments/3RIUDJ3H.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;3RIUDJ3H&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22E5HNGP4A%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%222%22%2C%22position%22%3A%7B%22pageIndex%22%3A1%2C%22rects%22%3A%5B%5B302.647%2C567.478%2C527.647%2C700.714%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%222%22%7D%7D&quot; width=&quot;375&quot; height=&quot;222&quot; src=&quot;attachments/3RIUDJ3H.png&quot; ztype=&quot;zimage&quot;&gt;"><br>     例如，<span style="background-color: #2ea8e580">ACE 中的 Conflict.Attack 事件有四个预定义的参数角色：攻击者、目标、工具和地点</span>。3 对于攻击者角色，我们使用问题中包含的其他角色的所有可能组合详尽地设计了八个模板（表格1）。<span style="background-color: #5fb23680">当模型填充给定特定事件提及的模板时，事件提及中通常不存在某些预定义的参数角色。因此，该模型仅保留包含事件提及中出现的参数角色槽的模板</span>。对于图 1 中的示例，<span style="background-color: #ff666680">未提及 Target 角色。因此，我们忽略所有包含 [Target] 槽的模板，并获得攻击者角色的四个候选问题，并填写相应的参数： (1)谁是攻击者？ (2) 谁在袭击中使用了喷气式飞机？ (3) 谁在山上发动袭击？ (4) 谁在山地袭击中使用了喷气式飞机？</span></p>
<p>     为了训练 QG 模型来生成涵盖尽可能多的上下文信息的问题，我们使用<span style="background-color: #ff666680">包含最多上下文参数的问题作为基本事实</span>。对于图 1 中的示例，我们选择问题“谁在山上袭击中使用了喷气机？”，因为它包含两个参数：“喷气机”和“山丘”，上面列出的其他三个候选问题包含一个或零个参数。如果多个候选问题包含最多的上下文参数，我们就会选择第一个。 QG模型的输入输出示例如下：</p>
<p><img src="/attachments/72QYSGI8.png" class="lazyload placeholder" data-srcset="/attachments/72QYSGI8.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;72QYSGI8&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22UYMF4D67%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B66.346%2C695.928%2C304.038%2C773.813%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%223%22%7D%7D&quot; width=&quot;396&quot; height=&quot;130&quot; src=&quot;attachments/72QYSGI8.png&quot; ztype=&quot;zimage&quot;&gt;"></p>
<h2 id="2-2-Question-Answering-Model"><a href="#2-2-Question-Answering-Model" class="headerlink" title="2.2 Question Answering Model"></a>2.2 Question Answering Model</h2><p><span style="background-color: #2ea8e580">与之前基于 QA 的 EE 工作不同，后者采用仅编码器架构并预测事件参数的偏移量</span>（Chen 等人，2019；Du 和 Cardie，2020；Li 等人，2020；Liu 等人，2020） ; Feng et al., 2020; Lyu et al., 2021; Zhou et al., 2021），<span style="background-color: #2ea8e580">我们的 QA 模型基于序列到序列架构（例如 BART、T5），并直接生成答案字符串。这使得能够预测与同一角色关联的多个事件参数</span>。李等人。 (2021)也采用了生成模型，但输入模板是固定的。输入输出示例如下：</p>
<p><img src="/attachments/YH68ECKJ.png" class="lazyload placeholder" data-srcset="/attachments/YH68ECKJ.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;YH68ECKJ&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22AHLQWG3Q%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%223%22%2C%22position%22%3A%7B%22pageIndex%22%3A2%2C%22rects%22%3A%5B%5B66.136%2C427.345%2C303.409%2C516.663%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%223%22%7D%7D&quot; width=&quot;395&quot; height=&quot;149&quot; src=&quot;attachments/YH68ECKJ.png&quot; ztype=&quot;zimage&quot;&gt;"><br><strong>后处理<span style="background-color: #ff666680">：</span></strong><span style="background-color: #ff666680">我们将输出分成候选列表（通过“;”），并通过与原始句子精确匹配来检索带有偏移量的参数</span>。我们<span style="background-color: #ff666680">动态更改搜索的起始位置以保留检索到的事件参数的顺序</span>。<span style="background-color: #ff666680">如果参数候选者无法与原始句子匹配，我们将丢弃它</span>。<span style="background-color: #ff666680">与 QG 模型不同，我们在训练期间使用所有可能的问题作为输入，以实现数据增强目的，并且训练数据的大小从 15,426 增加到 20,681</span>。但<span style="background-color: #ff666680">在测试阶段，我们对每个论证角色使用 QG 模型生成的单个问题</span>。</p>
<h2 id="3-Experimental-Setup"><a href="#3-Experimental-Setup" class="headerlink" title="3 Experimental Setup"></a>3 Experimental Setup</h2><h3 id="3-1-Dataset-and-Evalution-Metrics"><a href="#3-1-Dataset-and-Evalution-Metrics" class="headerlink" title="3.1 Dataset and Evalution Metrics"></a>3.1 Dataset and Evalution Metrics</h3><p>我们在ACE 2005英语语料库上进行了实验，该语料库有33个事件类型和22个论元角色。它包含从新闻专线、博客、广播对话和广播新闻收集的 599 份文档。更具体地说，我们遵循 Wadden 等人中的预处理步骤。 (2019),4 并在生成的 ACE05-E 数据集上评估我们的模型。</p>
<p>     对于评估，我们使用与先前工作相同的标准（Li et al., 2013）：<span style="background-color: #2ea8e580">如果事件触发器的偏移量与参考完全匹配，则事件触发器被正确识别。如果它的偏移量和事件类型都与参考匹配，则它被正确分类。如果事件参数的偏移量和事件类型与基本事实中的引用匹配，则事件参数被正确识别（Arg-I）。如果它的所有偏移量、事件类型和参数角色都与引用匹配，则它被正确分类 (Arg-C)</span>。</p>
<h3 id="3-2-Compared-Baselines"><a href="#3-2-Compared-Baselines" class="headerlink" title="3.2 Compared Baselines"></a>3.2 Compared Baselines</h3><p><strong>模型变体</strong>。为了评估我们方法的普遍性，我们评估了两个 QGA-EE 变体：QGA-EE<sub>BART</sub> 和 QGA-EE<sub>T5</sub>，它们分别使用 BART 和 T5 作为主干。</p>
<p>      我们将所提出的模型与 SOTA EE 模型进行比较。 <span style="background-color: #2ea8e580">BERT QA（Du 和 Cardie，2020）使用 BERT 作为编码器，并通过角色驱动的问题直接预测论点的位置</span>。 <span style="background-color: #2ea8e580">TANL（Paolini et al., 2021）将输入句子转换为增强自然语言句子以进行结构化预测</span>。 <span style="background-color: #2ea8e580">TEXT2EVENT（Lu 等人，2021）是一种用于事件提取的序列到结构网络</span>。5 <span style="background-color: #2ea8e580">Ma 等人。 （2020）利用依赖解析作为附加功能</span>。 <span style="background-color: #2ea8e580">BART-Gen（Li et al., 2021）是一种基于 BART 的生成模型，旨在用于文档级事件提取</span>。我们还与<span style="background-color: #2ea8e580">在所有 ACE 注释（包括实体、关系和事件）上训练的联合 IE 模型进行比较</span>。它们<span style="background-color: #2ea8e580">受益于其他任务的附加信息，并且通常比在单个任务上训练的模型获得更好的性能</span>。直接将我们的模型与联合模型进行比较是不公平的，因为它们包含了标准 EE 训练集之外的更多信息，但我们仍然列出它们的分数作为参考。 <span style="background-color: #2ea8e580">DYGIE++（Wadden 等人，2019）是一种基于 BERT 的模型，可对句子内和跨句子上下文的跨度表示进行建模</span>。 <span style="background-color: #2ea8e580">ONEIE（Lin et al., 2020）利用了全局特征。 FourIE (Nguyen et al., 2021) 和 GraphIE (Van Nguyen et al., 2022) 是基于图卷积网络的模型，AMRIE (Zhang and Ji, 2021) 使用 AMR (Banarescu et al., 2013) 解析器</span>。</p>
<h3 id="3-3-Implementation-Details"><a href="#3-3-Implementation-Details" class="headerlink" title="3.3 Implementation Details"></a>3.3 Implementation Details</h3><p>我们在单个 V100 GPU 上进行所有实验。为了进行微调，我们使用 Adafactor（Shazeer 和 Stern，2018）优化器以及学习率为 1 * 10−4，权重衰减为 1 * 10−5，剪辑阈值为 1.0。我们训练模型 20 个 epoch。模型训练和评估的超参数和数据统计等更多详细信息参见附录 C。</p>
<h2 id="4-Result"><a href="#4-Result" class="headerlink" title="4 Result"></a>4 Result</h2><h3 id="4-1-Event-Argument-Extraction-Performance"><a href="#4-1-Event-Argument-Extraction-Performance" class="headerlink" title="4.1 Event Argument Extraction Performance"></a>4.1 Event Argument Extraction Performance</h3><p><img src="/attachments/DQ3BNJ7Z.png" class="lazyload placeholder" data-srcset="/attachments/DQ3BNJ7Z.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;DQ3BNJ7Z&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22EQ985JR5%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%224%22%2C%22position%22%3A%7B%22pageIndex%22%3A3%2C%22rects%22%3A%5B%5B68.077%2C473.236%2C293.077%2C645.736%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%224%22%7D%7D&quot; width=&quot;375&quot; height=&quot;288&quot; src=&quot;attachments/DQ3BNJ7Z.png&quot; ztype=&quot;zimage&quot;&gt;"><br>表 2 显示了 QGA-EE 模型在具有黄金触发器的 ACE05-E 测试集上的性能。<span style="background-color: #ff666680">6 两种 QGA-EE 变体均优于所有其他方法，并且使用 T5 作为骨干比 BART 提高了 2.5%</span>。相对于之前基于 QA 的模型 BERT_QA 的改进表明，<span style="background-color: #ff666680">对于 EE，基于代的 QA 模型比基于位置的 QA 模型更有效</span>。 QGA-EE<sub>BART</sub> 优于基于 BART 的基线 BART-Gen，QGA-EE<sub>T5</sub> 优于基于 T5 的基线 TANL，这证明了<span style="background-color: #ff666680">我们具有不同骨干的模型的有效性</span>。我们的模型<span style="background-color: #ff666680">甚至优于联合 IE 模型 DYGIE++ 和 ONEIE</span>，它们利用了来自实体和关系的附加信息。</p>
<h3 id="4-2-Event-Extraction-Performance"><a href="#4-2-Event-Extraction-Performance" class="headerlink" title="4.2 Event Extraction Performance"></a>4.2 Event Extraction Performance</h3><p>我们还以更“真实世界”的方式评估我们在 ACE05-E 上的模型，<span style="background-color: #2ea8e580">并使用基于 ALBERT（Lan 等人，2019）的序列标记模型提取的预测触发因素（表 3）</span>。7 与黄金上的表现类似触发器方面，QGA-EE 在预测触发器上从 T5 主干网中受益更多。两种 QGA-EE 变体在 Arg-C 上均优于所有以 EE 任务为中心的基线 1% 以上。</p>
<p><img src="/attachments/GAXELCRL.png" class="lazyload placeholder" data-srcset="/attachments/GAXELCRL.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;GAXELCRL&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22GGB6TK7K%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%224%22%2C%22position%22%3A%7B%22pageIndex%22%3A3%2C%22rects%22%3A%5B%5B304.038%2C574.775%2C529.615%2C779.582%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%224%22%7D%7D&quot; width=&quot;376&quot; height=&quot;341&quot; src=&quot;attachments/GAXELCRL.png&quot; ztype=&quot;zimage&quot;&gt;"><br>我们还包括 SOTA 联合 IE 模型、DYGIE++、ONEIE、FourIE、AMR-IE 和 GraphIE 的分数作为参考。但是，如前所述，直接将我们的模型与它们进行比较是不公平的，因为它们受益于使用来自实体、关系和事件的所有注释进行训练。还应该指出的是，<span style="background-color: #5fb23680">他们的触发标记模型具有更复杂的架构，因此比我们使用的基于序列标记的标记器表现更好（F1 75.4% 来自 FourIE，F1 74.7% 来自 OneIE）。这进一步提高了端到端的 EE 性能。</span></p>
<h3 id="4-3-Ablation-Study"><a href="#4-3-Ablation-Study" class="headerlink" title="4.3 Ablation Study"></a>4.3 Ablation Study</h3><p>表 4 显示了 QGAEE<sub>T5</sub> 模型在带有金触发器的 ACE05 测试装置上的消融研究。<span style="background-color: #ff666680">通过用简单的上下文感知模板替换 QG 模型，F1 分数降低了 1.65%</span>。它表明我们的 QG 组件生成的上下文感知问题增强了端到端事件参数提取性能。此外，<span style="background-color: #ff666680">基于生成的 QA 模型可以更好地处理多参数情况，并提高了 4.24%</span>。</p>
<p><img src="/attachments/ECP9H55H.png" class="lazyload placeholder" data-srcset="/attachments/ECP9H55H.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;ECP9H55H&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22IKLTA7G9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%224%22%2C%22position%22%3A%7B%22pageIndex%22%3A3%2C%22rects%22%3A%5B%5B301.154%2C147.852%2C535.385%2C226.89%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%224%22%7D%7D&quot; width=&quot;390&quot; height=&quot;132&quot; src=&quot;attachments/ECP9H55H.png&quot; ztype=&quot;zimage&quot;&gt;"></p>
<h3 id="4-4-Impact-of-Data-Augmentation"><a href="#4-4-Impact-of-Data-Augmentation" class="headerlink" title="4.4 Impact of Data Augmentation"></a>4.4 Impact of Data Augmentation</h3><p>正如我们在第 2.2 节中提到的，<span style="background-color: #5fb23680">由于我们提出的动态模板的好处，训练数据的大小从 15,426 增加到 20,681</span>。为了评估数据增强的贡献，<span style="background-color: #ff666680">我们使用部分训练数据（带有黄金触发器）评估了 QGA-EE 在 ACE05 测试数据上的性能。数据增强后有 40% 的训练样例 (8,272)，QGA-EE 在具有黄金触发器的 ACE05-E 测试集上实现了 71.42% 的 F1 分数</span>。它优于表 2 中的所有基线，这证明了我们提出的模型的有效性。</p>
<h3 id="4-5-Analysis-and-Discussion"><a href="#4-5-Analysis-and-Discussion" class="headerlink" title="4.5 Analysis and Discussion"></a>4.5 Analysis and Discussion</h3><p><img src="/attachments/B9LBNQ5P.png" class="lazyload placeholder" data-srcset="/attachments/B9LBNQ5P.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;B9LBNQ5P&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22L2A689RQ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%225%22%2C%22position%22%3A%7B%22pageIndex%22%3A4%2C%22rects%22%3A%5B%5B66.346%2C356.121%2C291.923%2C485.928%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%225%22%7D%7D&quot; width=&quot;376&quot; height=&quot;216&quot; src=&quot;attachments/B9LBNQ5P.png&quot; ztype=&quot;zimage&quot;&gt;">\ <span style="background-color: #ff666680">QGA-EE</span><sub>T 5</sub><span style="background-color: #ff666680"> 生成的问题的平均长度为 10.5 个标记，而 Du 和 Cardie (2020) 中的问题平均长度为 6.7 个</span>。它们包含更多上下文。例如，QGA-EE 为“印度东北部特里普拉邦的一个家庭的至少三名成员被部落暴民 [hackedConflict.Attack] 杀害，据称是因为警方周四表示，“他们练习巫术。”它包含攻击者（“暴民”）和地点（“国家”）信息。我们将错误分为四组：</p>
<ol>
<li><strong>QG 模型生成的错误问题</strong>。例如，QGA-EE 生成<em>“国家在 * 出售 * 事件中购买了什么？”</em>，用于“*……斯大林主义国家已开发核武器并暗示可能会出售或使用核武器，具体取决于美国的行动”<em>中的神器角色。 ‘。它应该是“</em>国家在 * 出售 * 事件中出售了什么？*”，这会给 QA 模型带来错误。</li>
<li><strong>由于 QA 输出结果不匹配而导致的错误</strong>。如果目标候选与原始句子中的多个文本字符串匹配，QGA-EE 可能会检索到错误的偏移量。例如，QGA-EE 将候选人“Welch”与“他还想传唤 Shearman 在 Jane Beasley Welch 人事档案中维护的所有文件”中首次提及的内容进行匹配； Sterling 是一家著名的公司律师事务所，她在 [marriedLife.Marry] Welch 之前曾在此工作过。’，其中第二个提及的是正确的。</li>
<li><strong>由于缺少实体会议而导致的错误</strong>。例如，QGA-EE 将“Jacques Chirac”识别为 Contact.Phone-Write 事件的实体，“法国总统雅克·希拉克（Jacques Chirac）在周二试图通过向布什拨打电话来修补关系时只收到了保留的回应。”。但“他”是事实真相，指的是“雅克·希拉克”。</li>
<li><strong>未明确提及的预测</strong>。例如，在“美国负责东亚和太平洋事务的助理国务卿凯利周五从北京抵达首尔，向外交部长尹先生通报情况”中，QGA-EE 将“首尔”推断为“接触.会面”活动的地点，但上下文中没有明确提及，因此没有被黄金注释覆盖。</li>
</ol>
<p>     我们手动分析了测试集中的错误子集（50 个示例），并在图 2 中显示了每个类别错误的部分。</p>
<h2 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5 Conclusion"></a>5 Conclusion</h2><p>在本文中，我们提出了 QGA-EE，<span style="background-color: #ff666680">一种新颖的基于序列到序列的 EE 框架，它利用 QG 模型生成上下文感知问题作为 EAE QA 模型的输入</span>。我们的<span style="background-color: #ff666680">模型自然支持多个事件参数在特定事件提及中扮演相同角色的情况</span>。我们在 ACE05-E 数据集上进行了实验，<span style="background-color: #ff666680">所提出的模型优于所有基于单任务的模型，并与最先进的联合 IE 模型取得了竞争结果</span>。未来，我们计划利用 QA 框架的可扩展性来整合来自<span style="background-color: #5fb23680">半结构化事件相关数据（例如维基百科信息框）的知识。我们还计划将我们的方法扩展到多语言 EE 和联合 IE</span>。</p>
<h2 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h2><p>动态模板的设计需要事件本体的知识并且非常耗时。该论文的作者花了 30 个小时设计了专属模板，涵盖了 ACE 本体中每个论证角色的所有可能的论证组合。对于更复杂的本体，需要更多的时间。</p>
<p>     我们方法的另一个限制是偏移检索方法。<span style="background-color: #5fb23680">如果一个句子包含多次提及相同的实体，甚至多个文本字符串具有相同的拼写但引用不同的实体，则 QGA-EE 模型始终会检索该提及在句子中第一次出现的位置作为偏移量提取的目标</span>。可以通过<span style="background-color: #5fb23680">要求模型生成上下文文本作为位置参考来改进它。</span></p>
<h2 id="A-ACE05-E-Data-Preprocessing"><a href="#A-ACE05-E-Data-Preprocessing" class="headerlink" title="A ACE05-E Data Preprocessing"></a>A ACE05-E Data Preprocessing</h2><p>我们遵循 Wadden 等人中的预处理步骤。 (2019) 预处理 ACE2005 语料库。更具体地说，我们使用 https:&#x2F;&#x2F;github.com&#x2F;dwadden&#x2F;dygiepp 上的预处理脚本。<span style="background-color: #ff666680">此外，我们还检索事件触发器和参数的字符位置，因为 T5 使用 SentencePiece 分词器</span>。表6显示了ACE05-E数据集的统计数据。</p>
<p><img src="/attachments/3GNR5HNG.png" class="lazyload placeholder" data-srcset="/attachments/3GNR5HNG.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;3GNR5HNG&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%222K972WM9%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%228%22%2C%22position%22%3A%7B%22pageIndex%22%3A7%2C%22rects%22%3A%5B%5B75%2C653.236%2C282.692%2C741.505%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%228%22%7D%7D&quot; width=&quot;346&quot; height=&quot;147&quot; src=&quot;attachments/3GNR5HNG.png&quot; ztype=&quot;zimage&quot;&gt;"></p>
<h2 id="B-Complete-Dynamic-Templates-for-ACE-ontology"><a href="#B-Complete-Dynamic-Templates-for-ACE-ontology" class="headerlink" title="B Complete Dynamic Templates for ACE ontology"></a>B Complete Dynamic Templates for ACE ontology</h2><p>表 12 显示了每个 ACE 事件参数角色的已知参数角色的不同组合的模板的完整列表。</p>
<h2 id="C-Implementation-Details"><a href="#C-Implementation-Details" class="headerlink" title="C Implementation Details"></a>C Implementation Details</h2><p>我们使用 Huggingface Transformers 库（Wolf 等人，2020）来加载模型检查点。</p>
<h3 id="C-1-Event-Trigger-Labeling-Model"><a href="#C-1-Event-Trigger-Labeling-Model" class="headerlink" title="C.1 Event Trigger Labeling Model"></a>C.1 Event Trigger Labeling Model</h3><p><img src="/attachments/A5UNJV4V.png" class="lazyload placeholder" data-srcset="/attachments/A5UNJV4V.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;A5UNJV4V&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22BVKNK76E%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%228%22%2C%22position%22%3A%7B%22pageIndex%22%3A7%2C%22rects%22%3A%5B%5B63.5%2C339.39%2C297%2C470.39%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%228%22%7D%7D&quot; width=&quot;389&quot; height=&quot;218&quot; src=&quot;attachments/A5UNJV4V.png&quot; ztype=&quot;zimage&quot;&gt;"></p>
<p>我们实现了基于 ALBERT 的序列标记模型，用于事件触发检测。我们简单地在 ALBERT 编码器之上应用 Softmax 来预测基于 BIO 模式的事件标签。我们在训练期间对 Huggingface 提供的 albert-xxlarge-v2 检查点进行了微调。 8. 我们使用 Adam 优化器，剪辑阈值为 1.0，预热比例为 0.1。表 7 显示了训练事件触发标签模型的超参数。</p>
<h3 id="C-2-QG-model"><a href="#C-2-QG-model" class="headerlink" title="C.2 QG model"></a>C.2 QG model</h3><p>在生成 QG 模型训练的基本事实时，如果事件提及中不存在目标事件角色，我们将使用基本模板（例如“谁是攻击者？”），而不包含任何参数。我们不限制 QG 模型生成仅出现</p>
<p><img src="/attachments/SDT7EJRF.png" class="lazyload placeholder" data-srcset="/attachments/SDT7EJRF.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;SDT7EJRF&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22NS25ZWAZ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%228%22%2C%22position%22%3A%7B%22pageIndex%22%3A7%2C%22rects%22%3A%5B%5B314.423%2C632.467%2C518.077%2C777.275%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%228%22%7D%7D&quot; width=&quot;339&quot; height=&quot;241&quot; src=&quot;attachments/SDT7EJRF.png&quot; ztype=&quot;zimage&quot;&gt;"></p>
<p>在模板。它们被保留用于训练 QA 模型。我们在训练期间对 Huggingface 提供的 T5-large 检查点进行了微调。 9 使用 Adafactor 优化器，剪辑阈值为 1.0，预热比例为 0.1。表 8 显示了训练 QG 模型的超参数。表 9 显示了用于训练和评估 QG 模型的示例数量。</p>
<p><img src="/attachments/LHML5GB3.png" class="lazyload placeholder" data-srcset="/attachments/LHML5GB3.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;LHML5GB3&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%222GUCTDDW%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%228%22%2C%22position%22%3A%7B%22pageIndex%22%3A7%2C%22rects%22%3A%5B%5B301.731%2C399.39%2C527.308%2C492.275%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%228%22%7D%7D&quot; width=&quot;376&quot; height=&quot;155&quot; src=&quot;attachments/LHML5GB3.png&quot; ztype=&quot;zimage&quot;&gt;"></p>
<h3 id="C-3-QA-model"><a href="#C-3-QA-model" class="headerlink" title="C.3 QA model"></a>C.3 QA model</h3><p><img src="/attachments/CKTQ2VJY.png" class="lazyload placeholder" data-srcset="/attachments/CKTQ2VJY.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;CKTQ2VJY&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22KFY2X7XY%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%228%22%2C%22position%22%3A%7B%22pageIndex%22%3A7%2C%22rects%22%3A%5B%5B303.462%2C214.775%2C526.154%2C365.928%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%228%22%7D%7D&quot; width=&quot;371&quot; height=&quot;252&quot; src=&quot;attachments/CKTQ2VJY.png&quot; ztype=&quot;zimage&quot;&gt;"><br>对于 QA 模型训练，我们使用 Adafactor 优化器，学习率为 2e-4，权重衰减为 1e-5，剪辑阈值为 1.0。我们将所有relative_step、scale_parameter 和warmup_init 参数设置为False。对于优化器调度程序，我们将预热比例设置为 0.1。如果参数角色没有事件参数，则输出为空，如下例所示。我们将它们用于训练 QA 模型。表9显示用于训练和评估 QA 模型的示例数量。</p>
<p><img src="/attachments/EZ7RG4XY.png" class="lazyload placeholder" data-srcset="/attachments/EZ7RG4XY.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;EZ7RG4XY&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%224N7REFAZ%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%229%22%2C%22position%22%3A%7B%22pageIndex%22%3A8%2C%22rects%22%3A%5B%5B68.077%2C642.275%2C294.231%2C745.544%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%229%22%7D%7D&quot; width=&quot;377&quot; height=&quot;172&quot; src=&quot;attachments/EZ7RG4XY.png&quot; ztype=&quot;zimage&quot;&gt;"><br>在后处理中，我们动态更改搜索的起始位置以保持检索到的事件参数的顺序。</p>
<h2 id="D-Experiment-Details"><a href="#D-Experiment-Details" class="headerlink" title="D Experiment Details"></a>D Experiment Details</h2><p>对于本文中报告的所有分数，这些数字均基于使用固定随机种子 42 的单次运行。</p>
<h3 id="D-1-Event-Trigger-Labeling-Model"><a href="#D-1-Event-Trigger-Labeling-Model" class="headerlink" title="D.1 Event Trigger Labeling Model"></a>D.1 Event Trigger Labeling Model</h3><p>表 11 显示了事件触发标签模型在 ACE05-E 测试集上的性能。</p>
<p><img src="/attachments/EV3VXP6Z.png" class="lazyload placeholder" data-srcset="/attachments/EV3VXP6Z.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;EV3VXP6Z&quot; data-annotation=&quot;%7B%22attachmentURI%22%3A%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FZX576GM4%22%2C%22annotationKey%22%3A%22UYI2SIDA%22%2C%22color%22%3A%22%23ffd400%22%2C%22pageLabel%22%3A%229%22%2C%22position%22%3A%7B%22pageIndex%22%3A8%2C%22rects%22%3A%5B%5B66.346%2C389.005%2C294.231%2C477.852%5D%5D%7D%2C%22citationItem%22%3A%7B%22uris%22%3A%5B%22http%3A%2F%2Fzotero.org%2Fusers%2Flocal%2FiUeV0SQs%2Fitems%2FY8PMKXZP%22%5D%2C%22locator%22%3A%229%22%7D%7D&quot; width=&quot;380&quot; height=&quot;148&quot; src=&quot;attachments/EV3VXP6Z.png&quot; ztype=&quot;zimage&quot;&gt;"></p>
<h3 id="D-2-QG-model"><a href="#D-2-QG-model" class="headerlink" title="D.2 QG model"></a>D.2 QG model</h3><p>我们使用Rouge（Lin，2004）得分（ROUGE-1）作为QG模型训练的评估指标，在ACE05-E测试集上的得分为0.892。</p>
<h1 id="1-实验设置"><a href="#1-实验设置" class="headerlink" title="1.实验设置"></a>1.实验设置</h1><p><img src="/attachments/KL4J4BKL.png" class="lazyload placeholder" data-srcset="/attachments/KL4J4BKL.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="\&lt;img alt=&quot;&quot; data-attachment-key=&quot;KL4J4BKL&quot; width=&quot;1073&quot; height=&quot;840&quot; src=&quot;attachments/KL4J4BKL.png&quot; ztype=&quot;zimage&quot;&gt;"></p>
<h1 id="2-已完成实验"><a href="#2-已完成实验" class="headerlink" title="2.已完成实验"></a>2.已完成实验</h1><p>t5-large</p>
<p>异常情况：预处理ACE05-en数据集的时候，有些句子长度超过1030tokens，截断处理</p>
<h1 id="3-训练过程记录与指标"><a href="#3-训练过程记录与指标" class="headerlink" title="3.训练过程记录与指标"></a>3.训练过程记录与指标</h1><p><strong>train_trigger_detect_output：</strong></p>
<p>Epoch: 3, Step: 3354 &#x2F; 3378, used_time &#x3D; 8018.48s, loss &#x3D; 0.024840</p>
<p>!!! Best dev f1_c (lr&#x3D;2.6682445759368836e-05, epoch&#x3D;3): dev: p_i: 80.02, r_i: 77.39, f1_i: 78.68, p_c: 77.19, r_c: 74.64, f1_c: 75.89, test: p_i: 76.20, r_i: 77.77, f1_i: 76.98 p_c: 73.52, r_c: 75.03, f1_c: 74.27</p>
<p>Epoch: 8, Step: 1076 &#x2F; 3378, used_time &#x3D; 16318.63s, loss &#x3D; 0.012551</p>
<p>!!! Best dev f1_c (lr&#x3D;1.947731755424063e-05, epoch&#x3D;8): dev: p_i: 81.41, r_i: 77.39, <strong>f1_i: 79.35</strong>, p_c: 78.75, r_c: 74.86, f1_c: 76.76, test: p_i: 77.37, r_i: 77.19, f1_i: 77.28 p_c: 74.86, r_c: 74.69, <strong>f1_c: 74.77</strong></p>
<p>Epoch: 16, Step: 3276 &#x2F; 3378, used_time &#x3D; 32568.55s, loss &#x3D; 0.006763</p>
<p>!!! Best dev f1_c (lr&#x3D;5.0670611439842204e-06, epoch&#x3D;16): dev: p_i: 82.89, r_i: 75.52, f1_i: 79.04, p_c: 80.72, r_c: 73.55, f1_c: 76.97, test: p_i: 78.64, r_i: 73.89, f1_i: 76.19 p_c: 76.58, r_c: 71.95, f1_c: 74.19</p>
<p><strong>t5_train_question_generation_output</strong></p>
<p>Epoch: 0, Step: 3200 &#x2F; 6154, used_time &#x3D; 1439.74s, loss &#x3D; 0.077903, dev rouge score &#x3D; 0.713, dev bleu score &#x3D; 0.582, test rouge score &#x3D; 0.709, test bleu score &#x3D; 0.554</p>
<p>Epoch: 1, Step: 246 &#x2F; 6154, used_time &#x3D; 2931.31s, loss &#x3D; 0.048461, dev rouge score &#x3D; 0.813, dev bleu score &#x3D; 0.721, test rouge score &#x3D; 0.816, test bleu score &#x3D; 0.715</p>
<p>Epoch: 1, Step: 3446 &#x2F; 6154, used_time &#x3D; 4474.92s, loss &#x3D; 0.035675, dev rouge score &#x3D; 0.847, dev bleu score &#x3D; 0.766, test rouge score &#x3D; 0.849, test bleu score &#x3D; 0.765</p>
<p>Epoch: 2, Step: 3692 &#x2F; 6154, used_time &#x3D; 7112.13s, loss &#x3D; 0.023807, dev rouge score &#x3D; 0.871, dev bleu score &#x3D; 0.798, test rouge score &#x3D; 0.878, test bleu score &#x3D; 0.806</p>
<p>Epoch: 3, Step: 738 &#x2F; 6154, used_time &#x3D; 8687.71s, loss &#x3D; 0.020602, dev rouge score &#x3D; 0.873, dev bleu score &#x3D; 0.795, test rouge score &#x3D; 0.877, test bleu score &#x3D; 0.803</p>
<p>Epoch: 3, Step: 3938 &#x2F; 6154, used_time &#x3D; 10308.56s, loss &#x3D; 0.018197, dev rouge score &#x3D; 0.883, dev bleu score &#x3D; 0.807, test rouge score &#x3D; 0.882, test bleu score &#x3D; 0.803</p>
<p>Epoch: 4, Step: 984 &#x2F; 6154, used_time &#x3D; 11907.69s, loss &#x3D; 0.016330, dev rouge score &#x3D; 0.885, dev bleu score &#x3D; 0.810, test rouge score &#x3D; 0.888, test bleu score &#x3D; 0.812</p>
<p>Epoch: 5, Step: 1230 &#x2F; 6154, used_time &#x3D; 14574.76s, loss &#x3D; 0.013600, dev rouge score &#x3D; 0.890, dev bleu score &#x3D; 0.822, test rouge score &#x3D; 0.895, test bleu score &#x3D; 0.822</p>
<p>Epoch: 6, Step: 1476 &#x2F; 6154, used_time &#x3D; 17217.12s, loss &#x3D; 0.011679, dev rouge score &#x3D; 0.898, dev bleu score &#x3D; 0.830, test rouge score &#x3D; 0.904, test bleu score &#x3D; 0.833</p>
<p>Epoch: 7, Step: 1722 &#x2F; 6154, used_time &#x3D; 19865.61s, loss &#x3D; 0.010258, dev rouge score &#x3D; 0.900, dev bleu score &#x3D; 0.837, test rouge score &#x3D; 0.905, test bleu score &#x3D; 0.839</p>
<p>Epoch: 8, Step: 1968 &#x2F; 6154, used_time &#x3D; 22485.64s, loss &#x3D; 0.009141, dev rouge score &#x3D; 0.901, dev bleu score &#x3D; 0.834, test rouge score &#x3D; 0.907, test bleu score &#x3D; 0.840</p>
<p>Epoch: 9, Step: 5414 &#x2F; 6154, used_time &#x3D; 26139.36s, loss &#x3D; 0.007860, dev rouge score &#x3D; 0.904, dev bleu score &#x3D; 0.840, test rouge score &#x3D; 0.908, test bleu score &#x3D; 0.843</p>
<p>Epoch: 12, Step: 2952 &#x2F; 6154, used_time &#x3D; 31883.89s, loss &#x3D; 0.006368, dev rouge score &#x3D; 0.906, dev bleu score &#x3D; 0.842, test rouge score &#x3D; 0.910, test bleu score &#x3D; 0.844</p>
<p>Epoch: 15, Step: 490 &#x2F; 6154, used_time &#x3D; 37482.23s, loss &#x3D; 0.005356, dev rouge score &#x3D; 0.907, dev bleu score &#x3D; 0.845, test rouge score &#x3D; 0.908, test bleu score &#x3D; 0.841</p>
<p>Epoch: 17, Step: 982 &#x2F; 6154, used_time &#x3D; 42367.79s, loss &#x3D; 0.004752, dev rouge score &#x3D; 0.908, dev bleu score &#x3D; 0.844, test rouge score &#x3D; 0.906, test bleu score &#x3D; 0.838</p>
<p><strong>t5_train_argument_extraction_output</strong></p>
<p>Epoch: 0&#x2F;20, Step: 3200 &#x2F; 8034, used_time &#x3D; 931.82s, loss &#x3D; 0.052471</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00003968, epoch&#x3D;0): p_c: 70.03, r_c: 37.12, f1_c: 48.52, p_i: 77.08, r_i: 38.64, f1_i: 51.48, test: p_c: 69.01, r_c: 32.54, f1_c: 44.22, p_i: 76.06, r_i: 34.43, f1_i: 47.40</p>
<p>Epoch: 0&#x2F;20, Step: 6400 &#x2F; 8034, used_time &#x3D; 1904.85s, loss &#x3D; 0.033544</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00007937, epoch&#x3D;0): p_c: 72.97, r_c: 49.28, f1_c: 58.83, p_i: 77.10, r_i: 50.63, f1_i: 61.12, test: p_c: 72.74, r_c: 46.37, f1_c: 56.63, p_i: 77.56, r_i: 48.46, f1_i: 59.65</p>
<p>Epoch: 1&#x2F;20, Step: 1566 &#x2F; 8034, used_time &#x3D; 2916.74s, loss &#x3D; 0.025784</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00011905, epoch&#x3D;1): p_c: 71.03, r_c: 57.60, f1_c: 63.62, p_i: 75.44, r_i: 59.75, f1_i: 66.68, test: p_c: 72.04, r_c: 56.02, f1_c: 63.03, p_i: 75.99, r_i: 58.21, f1_i: 65.92</p>
<p>Epoch: 1&#x2F;20, Step: 4766 &#x2F; 8034, used_time &#x3D; 3901.02s, loss &#x3D; 0.021521</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00015873, epoch&#x3D;1): p_c: 77.91, r_c: 57.07, f1_c: 65.88, p_i: 81.32, r_i: 58.32, f1_i: 67.92, test: p_c: 74.65, r_c: 51.84, f1_c: 61.19, p_i: 79.58, r_i: 54.53, f1_i: 64.71</p>
<p>Epoch: 2&#x2F;20, Step: 3132 &#x2F; 8034, used_time &#x3D; 5639.74s, loss &#x3D; 0.016539</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00019577, epoch&#x3D;2): p_c: 75.36, r_c: 58.94, f1_c: 66.15, p_i: 77.89, r_i: 60.55, f1_i: 68.14, test: p_c: 75.13, r_c: 55.62, f1_c: 63.92, p_i: 78.27, r_i: 58.21, f1_i: 66.77</p>
<p>Epoch: 3&#x2F;20, Step: 1498 &#x2F; 8034, used_time &#x3D; 7398.84s, loss &#x3D; 0.013610</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00018695, epoch&#x3D;3): p_c: 74.27, r_c: 66.28, f1_c: 70.05, p_i: 77.95, r_i: 68.16, f1_i: 72.73, test: p_c: 71.27, r_c: 61.69, f1_c: 66.13, p_i: 75.08, r_i: 64.18, f1_i: 69.20</p>
<p>Epoch: 4&#x2F;20, Step: 6264 &#x2F; 8034, used_time &#x3D; 10693.42s, loss &#x3D; 0.010128</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00016931, epoch&#x3D;4): p_c: 73.11, r_c: 70.66, f1_c: 71.86, p_i: 78.01, r_i: 72.54, f1_i: 75.17, test: p_c: 72.47, r_c: 64.98, f1_c: 68.52, p_i: 76.24, r_i: 67.36, f1_i: 71.53</p>
<p>Epoch: 5&#x2F;20, Step: 1430 &#x2F; 8034, used_time &#x3D; 11767.19s, loss &#x3D; 0.009508</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00016490, epoch&#x3D;5): p_c: 77.20, r_c: 69.68, f1_c: 73.25, p_i: 80.75, r_i: 71.56, f1_i: 75.87, test: p_c: 74.22, r_c: 63.38, f1_c: 68.38, p_i: 77.91, r_i: 66.17, f1_i: 71.56</p>
<p>Epoch: 6&#x2F;20, Step: 2996 &#x2F; 8034, used_time &#x3D; 14269.70s, loss &#x3D; 0.008048</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00015168, epoch&#x3D;6): p_c: 74.51, r_c: 72.36, f1_c: 73.42, p_i: 78.04, r_i: 74.15, f1_i: 76.05, test: p_c: 73.30, r_c: 65.97, f1_c: 69.44, p_i: 76.86, r_i: 69.15, f1_i: 72.80</p>
<p>Epoch: 7&#x2F;20, Step: 1362 &#x2F; 8034, used_time &#x3D; 15932.42s, loss &#x3D; 0.007287</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00014286, epoch&#x3D;7): p_c: 75.63, r_c: 72.54, f1_c: 74.05, p_i: 79.03, r_i: 74.69, f1_i: 76.80, test: p_c: 73.84, r_c: 66.87, f1_c: 70.18, p_i: 77.93, r_i: 69.95, f1_i: 73.73</p>
<p>Epoch: 7&#x2F;20, Step: 4562 &#x2F; 8034, used_time &#x3D; 16886.39s, loss &#x3D; 0.006963</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00013845, epoch&#x3D;7): p_c: 78.64, r_c: 71.11, f1_c: 74.69, p_i: 81.32, r_i: 72.63, f1_i: 76.73, test: p_c: 75.03, r_c: 65.27, f1_c: 69.81, p_i: 78.39, r_i: 68.46, f1_i: 73.09</p>
<p>Epoch: 10&#x2F;20, Step: 6060 &#x2F; 8034, used_time &#x3D; 23062.37s, loss &#x3D; 0.005113</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00010317, epoch&#x3D;10): p_c: 76.57, r_c: 72.99, f1_c: 74.74, p_i: 79.95, r_i: 75.04, f1_i: 77.42, test: p_c: 73.03, r_c: 68.66, f1_c: 70.78, p_i: 76.60, r_i: 71.94, f1_i: 74.20</p>
<p>Epoch: 11&#x2F;20, Step: 7626 &#x2F; 8034, used_time &#x3D; 25554.76s, loss &#x3D; 0.004643</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00008995, epoch&#x3D;11): p_c: 77.87, r_c: 72.00, f1_c: 74.82, p_i: 80.95, r_i: 73.70, f1_i: 77.16, test: p_c: 74.50, r_c: 66.27, f1_c: 70.14, p_i: 77.83, r_i: 69.55, f1_i: 73.46</p>
<p>Epoch: 12&#x2F;20, Step: 2792 &#x2F; 8034, used_time &#x3D; 26513.86s, loss &#x3D; 0.004505</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00008554, epoch&#x3D;12): p_c: 77.11, r_c: 73.08, f1_c: 75.04, p_i: 80.77, r_i: 74.78, f<strong>1_i: 77.66</strong>, test: p_c: 73.76, r_c: 67.86, f1_c: 70.69, p_i: 77.53, r_i: 71.14, <strong>f1_i: 74.20</strong></p>
<p>Epoch: 13&#x2F;20, Step: 4358 &#x2F; 8034, used_time &#x3D; 28986.51s, loss &#x3D; 0.004139</p>
<p>!!! Best dev f1_c (lr&#x3D;0.00007231, epoch&#x3D;13): p_c: 77.37, r_c: 73.88, f1_c: 75.59, p_i: 80.75, r_i: 75.85, f1_i: 78.22, test: p_c: 73.51, r_c: 68.06, f1_c: 70.68, p_i: 77.02, r_i: 71.14, f1_i: 73.97</p>
<h1 id="4-实验结果"><a href="#4-实验结果" class="headerlink" title="4.实验结果"></a>4.实验结果</h1><h2 id="4-1-trigger-predictions"><a href="#4-1-trigger-predictions" class="headerlink" title="4.1 trigger_predictions"></a>4.1 trigger_predictions</h2><h2 id="4-2-t5-generated-questions"><a href="#4-2-t5-generated-questions" class="headerlink" title="4.2 t5_generated_questions"></a>4.2 t5_generated_questions</h2><p><span style="background-color: #ff666680">Text: role: entity context: A political public service * message * brought to you by Clear Channel.”</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who communicated with others?</span></p>
<p><span style="background-color: #ff666680">文本：角色：实体上下文：Clear Channel 为您带来的政治公共服务*消息*。”</span></p>
<p><span style="background-color: #ff666680">生成的问题：谁与他人交流？（什么与他人交流？）</span></p>
<p><span style="background-color: #5fb23680">Text: role: destination context: the pentagon tonight said coalition troops have * reached * baghdad international airport.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where was troops transported to?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：目的地背景：五角大楼今晚表示，联军部队已*抵达*巴格达国际机场。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：部队被运送到哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: tonight, a series of large * explosions * rocking central baghdad, as we’ve been reporting to you over the course of this hour.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：仪器背景：今晚，一系列大型*爆炸*震撼了巴格达市中心，正如我们在这一小时内向您报告的那样。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: prosecutor context: prosecutors * charge * lindsey ryan with stealing firearms from her parents’ home. police caught up with the two in california.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who executed the indictment?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：检察官背景：检察官*指控*林赛·瑞恩从她父母家偷窃枪支。 警方在加利福尼亚抓获了这两人。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁执行了起诉书？</span></p>
<p><span style="background-color: #ffd40080">Text: role: agent context: Some of the 40,000 British troops are kicking up a lot of dust in the Iraqi desert making sure that nothing is left behind them that could * hurt * them.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who enacted the harm?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：特工背景：40,000 名英国军队中的一些人正在伊拉克沙漠中扬起大量灰尘，以确保没有留下任何可能<em>伤害</em>他们的东西。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁造成了伤害？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: two f-14 tomcats struck the targets, the same area was a site of heavy * bombing * yesterday.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：攻击者背景：两架 F-14 雄猫袭击了目标，同一地区昨天曾遭受猛烈<em>轰炸</em>。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #ffd40080">Text: role: origin context: WOODRUFF And, as we listened to John King’s report, we can tell you that President Bush has just – his plane has just * landed * at Andrews Air Force Base, just close to the Washington area, the president having flown back to the United States from that meeting in Northern Ireland in Belfast with the British prime minister, Tony Blair.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Where was Bush transported from with plane?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：起源背景：WOODRUFF 而且，当我们听取约翰·金的报告时，我们可以告诉您布什总统刚刚——他的飞机刚刚*降落*在安德鲁斯空军基地，靠近华盛顿地区 总统在北爱尔兰贝尔法斯特与英国首相托尼·布莱尔会面后飞回美国。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：布什是从哪里被飞机运来的？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: They primarily talked about the * war * in Iraq, the aftermath of Iraq. But they also discussed the Middle East and, as well, getting the Northern Ireland peace process started up again.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文字： 角色： 目标背景： 他们主要谈论了伊拉克*战争*的后果。 但他们也讨论了中东问题，以及重新启动北爱尔兰和平进程的问题。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #ffd40080">Text: role: place context: What was to follow was a horrific education in terror and torture: in the smoking basement of the * bombed * building, a warren of cells.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：地点背景：接下来是一场有关恐怖和酷刑的可怕教育：在被炸毁的大楼冒着烟的地下室里，牢房密布。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：攻击发生在哪里？ （用bombed更好）</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: UNIDENTIFIED MALE People died, people in prison without court, without * trial *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the trial take place?</span></p>
<p><span style="background-color: #5fb23680">文本： 角色： 地点 背景： 身份不明的男性 人们死了，人们在没有法庭的监狱里，没有*审判*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 审判在哪里进行？</span></p>
<p><span style="background-color: #ffd40080">Text: role: victim context: The hook in the ceiling is for one purpose only, another hook in a different cell and a different form of * torture *.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was harmed?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：受害者背景：天花板上的钩子仅用于一个目的，另一个钩子在不同的牢房中以及不同形式的*酷刑*。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁受到伤害？（用原词torture 更好？）</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Hamid Fatil (ph) may look like he’s acting, but he was tortured here, along with his two brothers, who were * executed *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the execution take place?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：地点背景：Hamid Fatil（ph）可能看起来像是在演戏，但他和他的两个兄弟在这里受到了酷刑，他们被*处决*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 执行是在哪里进行的？</span></p>
<p><span style="background-color: #ffd40080">Text: role: agent context: He was hanged there, * hanged *.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who executed person for crime?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：特工上下文：他被绞死在那里，* 被绞死*。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁因犯罪而处决了人？（生硬，逻辑）</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: Journalists * killed * in the line of duty in Baghdad – how neutral are reporters in a war supposed to be?</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the killer?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：特工背景：记者在巴格达执行任务时*杀害*——记者在战争中应该保持怎样的中立？</span></p>
<p><span style="background-color: #5fb23680">产生的问题：谁是凶手？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Anwar will be taken to the * appeal * court early Friday for a bail application pending his appeal to the country’s highest Federal Court againt his sodomy conviction, counsel Sankara Nair said.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the appeal take place?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：地点 背景：律师桑卡拉·奈尔 (Sankara Nair) 表示，安瓦尔将于周五早些时候被带到上诉法院申请保释，等待他就鸡奸定罪向该国最高联邦法院提出上诉。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 上诉在哪里进行？</span></p>
<p><span style="background-color: #ffd40080">Text: role: artifact context: But * this * is also conditional on police approval.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was transported?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：神器上下文：但是*这个*也是以警方批准为条件的。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁被运送了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: defendant context: He completed four years in prison on a corruption charge last month and is now serving a nine-year sodomy * sentence *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was sentenced for crime?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：被告背景：他上个月因腐败指控入狱四年，目前正在服刑九年*刑期*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 谁因犯罪被判刑？</span></p>
<p><span style="background-color: #ff666680">Text: role: entity context: Maurice R. “Hank” Greenberg, who turns 80 in May, groomed two sons to be successors, but both have since * left * AIG.Greenberg Sr. then created an office of the chairman in 2002, which includes co-COOs Martin J. Sullivan and Donald P. Kanak.</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who fired employee?</span></p>
<p><span style="background-color: #ff666680">文本：角色：实体背景：莫里斯·R·“汉克”·格林伯格 (Maurice R. “Hank” Greenberg) 今年 5 月就年满 80 岁了，他培养了两个儿子作为继任者，但后来两人都离开了 * AIG.Greenberg Sr. 随后在 2002 年，其中包括联合首席运营官 Martin J. Sullivan 和 Donald P. Kanak。</span></p>
<p><span style="background-color: #ff666680">生成的问题：谁解雇了员工？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: 2005-01-06T13:10:00 Feminists have a reason to celebrate today as an * appeals * court just threw out the convictions of their martyr, Andrea Yates, by ruling that one of the prosecutor’s expert witnesses gave false testimony at her trial.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the appeal take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点 上下文：2005-01-06T13:10:00 女权主义者今天有理由庆祝，因为*上诉*法院刚刚驳回了对烈士安德里亚·耶茨（Andrea Yates）的定罪，裁定检察官之一 专家证人在对她的审判中作了虚假证词。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 上诉在哪里进行？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: No such ceremonies were held for her five * dead * children.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the killer?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：特工背景：没有为她的五个*死去的*孩子举行这样的仪式。</span></p>
<p><span style="background-color: #5fb23680">产生的问题：谁是凶手？</span></p>
<p><span style="background-color: #5fb23680">Text: role: adjudicator context: She was not tried in the deaths of the other two. Today the 1st Court of Appeals overturned the * convictions * and ordered a new trial.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who convicted defendant for crime?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：审判员背景：她在另外两人的死亡中没有受到审判。 今天，第一上诉法院推翻了*定罪*并下令进行新的审判。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁判定被告犯罪？</span></p>
<p><span style="background-color: #5fb23680">Text: role: origin context: - Start on Texas Ave. and head away from Bryan - Go down Texas Ave. until you * come * to South West Parkway - Take right on SW Parkway -</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the transporting originate?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：起源背景： - 从 Texas Ave. 出发，远离 Bryan - 沿着 Texas Ave. 行驶，直到到达 South West Parkway - 在 SW Parkway 右转 -</span></p>
<p><span style="background-color: #5fb23680">生成的问题：运输起源于哪里？</span></p>
<p><span style="background-color: #ffd40080">Text: role: agent context: The charismatic leader of Turkey’s governing party was named prime minister Tuesday, a step that probably boosts chances that the United States will get permission to * deploy * troops in the country along Iraq’s northern border.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who transported troops to country?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：特工背景：土耳其执政党的魅力领袖周二被任命为总理，这一举措可能会增加美国获得许可在该国伊拉克北部边境部署军队的机会。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁向国家运送军队？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: Turks overwhelmingly oppose a * war * _ by 94 percent, according to some polls.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：工具背景：根据一些民意调查，土耳其人以 94% 的压倒性反对 * 战争 * _。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: destination context: If the resolution is not passed, Washington would likely want to use the airspace for strikes against Iraq and for * airlifting * troops to northern Iraq.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did Washington transport troops to?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目的地背景：如果该决议未获得通过，华盛顿可能希望利用该领空对伊拉克进行打击，并向伊拉克北部空运部队。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：华盛顿将军队运送到哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: person context: After he was * elected *, Erdogan said Turkey wanted assurances from the United States on its role in Iraq.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was elected?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：人物背景：埃尔多安当选后表示，土耳其希望美国就其在伊拉克的角色做出保证。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁当选了？</span></p>
<p><span style="background-color: #ffd40080">Text: role: place context: Iraqi Kurds fear that Turkish troops could move deep into the autonomous enclave in northern Iraq and have threatened * clashes *.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Where did troops make an attack?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：地点背景：伊拉克库尔德人担心土耳其军队可能深入伊拉克北部的自治飞地，并威胁“发生冲突”。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：部队在哪里发起攻击？（冲突在哪里发生？）</span></p>
<p><span style="background-color: #5fb23680">Text: role: person context: Erdogan, a leader of Turkey’s pro-Islamic movement when he was * jailed *, said he moderated his policies in prison.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was arrested?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：人物背景：埃尔多安是土耳其亲伊斯兰运动的领导人，他在入狱时表示，他在监狱中缓和了自己的政策。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被捕了？</span></p>
<p><span style="background-color: #ff666680">Text: role: agent context: other p.o.w.s from iraq after they were captured and released, that dramatic release that sunday morning when they were picked up by a squadron of marines who had wanted * wandered * in a town in baghdad and were told where they were being kept.</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who is responsible for the transport event?</span></p>
<p><span style="background-color: #ff666680">文本：角色：特工背景：其他来自伊拉克的战俘在被抓获并被释放后，周日早上戏剧性地释放了他们，当时他们被一个海军陆战队中队抓了起来，他们想要在巴格达的一个小镇<em>徘徊</em>并被告知 他们被关押的地方。</span></p>
<p><span style="background-color: #ff666680">生成的问题：谁负责运输事件？</span></p>
<p><span style="background-color: #ffd40080">Text: role: place context: moving on now, in upstate new york stock exchange criminal * charges * have been filed in last month’s fraternity hazing death at platsberg state university of new york.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Where did the indictment take place?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：地点背景：现在继续，纽约州北部证券交易所对上个月发生在纽约普拉茨伯格州立大学兄弟会欺凌死亡事件的刑事指控已被提起。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：起诉发生在哪里？（哪里发生了指控或者指控地点在哪里）</span></p>
<p><span style="background-color: #5fb23680">Text: role: adjudicator context: the fraternity also faces more than 150 * charges * for other hazing activities, as well.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who adjudicated the indictment?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：裁决者背景：兄弟会还因其他欺凌活动而面临 150 多项*指控*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁对起诉书作出裁决？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: 2004-12-01T23:13:00 More than a few e-mails have come in wondering why I haven’t remarked on the horrible hunting * tragedy * on Nov. 21 that left six people dead, and why I haven’t updated the ASSAULT WEAPONS BAN COUNTER.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the killer?</span></p>
<p><span style="background-color: #5fb23680">文本： 角色： 代理人 上下文： 2004-12-01T23:13:00 很多电子邮件都在问我为什么没有对 11 月 21 日造成六人死亡的可怕狩猎 * 悲剧 * 发表评论 死了，以及为什么我没有更新攻击武器禁令计数器。</span></p>
<p><span style="background-color: #5fb23680">产生的问题：谁是凶手？</span></p>
<p><span style="background-color: #ffd40080">Text: role: agent context: The ban expired in September and at the time of this posting, no one has been * killed * by any one of those weapons since the ban expired.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was the killer?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：特工背景：禁令已于 9 月份到期，截至发帖时，自禁令到期以来，没有人被任何一种武器*杀死*。</span></p>
<p><span style="background-color: #ffd40080">产生的问题：谁是凶手？（模板、生硬）</span></p>
<p><span style="background-color: #5fb23680">Text: role: victim context: If convicted of the * killings *, Vang faces life in prison as Minnesota does not honor the death penalty.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was killed?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：受害者背景：如果因“杀人”罪名成立，Vang 将面临终身监禁，因为明尼苏达州不执行死刑。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被杀了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: Although North Korea accused the United States of leading the region toward * war * in its state media, U.S. officials denied reports the talks had broken down.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：目标背景：尽管朝鲜在其官方媒体上指责美国带领该地区走向“战争”，但美国官员否认了谈判破裂的报道。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: They said reports of a breakdown in the * talks * were a misrepresentation.’’</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the meeting takes place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：他们说有关*会谈失败的报道*是一种歪曲事实。”</span></p>
<p><span style="background-color: #5fb23680">生成的问题：会议在哪里举行？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Discussions were scheduled to end Friday, when Kelly was to fly to Seoul the same day to * meet * with South Korean officials.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did Kelly meet others?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：讨论定于周五结束，凯利当天将飞往首尔与韩国官员*会面*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：凯利在哪里认识其他人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: The situation on the Korean Peninsula is so tense that a * war * may break out any moment due to the U.S. moves,’’ the KCNA statement said.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：攻击者背景：朝鲜半岛局势如此紧张，由于美国的举动，“战争”随时可能爆发，”朝中社声明称。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #5fb23680">Text: role: beneficiary context: The North also likely wants aid for its economy, which has been crippled by the loss of Soviet * subsidies * and years of drought and mismanagement.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who benefited from the transfer?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：受益人背景：朝鲜也可能希望为其经济提供援助，该国经济因苏联*补贴*的丧失以及多年的干旱和管理不善而陷入瘫痪。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁从转移中受益？</span></p>
<p><span style="background-color: #5fb23680">Text: role: beneficiary context: China, the North’s ally and major aid donor, says it doesn’t want Pyongyang to * acquire * nuclear weapons and has appealed for a negotiated settlement to the crisis.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who benefits from the transaction?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：受益人背景：作为朝鲜的盟友和主要援助国，中国表示不希望平壤“获得”核武器，并呼吁通过谈判解决危机。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁从交易中受益？</span></p>
<p><span style="background-color: #ffd40080">Text: role: agent context: CHILCOTE He orders his men * back * to their compound to await cooler heads.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who is responsible for the transport event?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：特工背景：CHILCOTE 他命令他的部下*返回*他们的大院，等待头脑冷静。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁负责运输事件？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: In one of the incidents, a soldier was * killed * and several others wounded.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the death take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：在其中一次事件中，一名士兵*被杀*，其他几人受伤。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：死亡发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Before word of that death, 40 Americans had been killed by hostile * fire * in Operation Iraqi Freedom.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：在死亡消息传出之前，40 名美国人在伊拉克自由行动中被敌对的“火力”杀害。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Eleven of them by friendly fire or in other accidents. Most of the 27 British troops killed have been victims of friendly * fire * or accidents.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：地点背景：其中十一次因友军火力或其他事故而发生。 阵亡的 27 名英国士兵中的大多数都是友军“炮火”或事故的受害者。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: origin context: Well, when they do finally * enter * Baghdad, U.S. and coalition troops could face urban combat with the Republican Guard, some of whom may have withdrawn into the city.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the transporting originate?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：起源背景：好吧，当他们最终*进入*巴格达时，美国和联军可能会面临与共和国卫队的城市战斗，其中一些人可能已经撤回了该市。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：运输起源于哪里？</span></p>
<p><span style="background-color: #ffd40080">Text: role: prosecutor context: like any good spy movie, it’s already had a sequel with the first * indictment * earlier in the week and another one just yesterday.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who executed the indictment?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：检察官背景：就像任何一部优秀的间谍电影一样，它已经有了续集，第一部*起诉书*在本周早些时候发布，昨天又发布了另一部。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁执行了起诉书？</span></p>
<p><span style="background-color: #5fb23680">Text: role: prosecutor context: leung’s lawyers wasted little time responding to the grand jury * indictment *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who indicated leung for crime?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：检察官背景：梁振英的律师几乎没有浪费时间回应大陪审团*起诉书*。</span></p>
<p><span style="background-color: #5fb23680">生成问题：谁指认梁某犯罪？</span></p>
<p><span style="background-color: #5fb23680">Text: role: adjudicator context: 2005-01-05T09:22:00 Yesterday’s bad day for Krispy Kreme included some speculation that the new securities * lawsuit * filed against the company would be granted class action status.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who adjudicated the suing?</span></p>
<p><span style="background-color: #5fb23680">文本： 角色：裁决者 背景： 2005-01-05T09:22:00 昨天 Krispy Kreme 的糟糕日子包括一些猜测，即针对该公司提起的新证券*诉讼*将被授予集体诉讼地位。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁对起诉做出裁决？</span></p>
<p><span style="background-color: #ff666680">Text: role: adjudicator context: The results highlight trends in types of filings (increase in product market related * filings *), affected sectors (big increase in energy &#x26;amp; technology sector), and overall number of filings (fairly steady).</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who adjudicated the suing?</span></p>
<p><span style="background-color: #ff666680">文本：角色：裁决者背景：结果突出了申请类型的趋势（与产品市场相关的*申请*增加）、受影响的行业（能源和技术行业大幅增加）以及申请总数（相当稳定） 。</span></p>
<p><span style="background-color: #ff666680">生成的问题：谁对起诉做出裁决？</span></p>
<p><span style="background-color: #ffd40080">Text: role: entity context: once he gets out of the helicopter he’ll transfer to air force one to come home after a 20-hour * visit * with the prime minister of great britain.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who met with others?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：实体背景：一旦他下了直升机，他将转乘空军一号，在与英国首相进行 20 小时的“访问”后回家。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁见过其他人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: and i asked him about the news that saddam hussein was targeted in yesterday’s strike and how iraqis would react if saddam was * killed *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What device was used to kill?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：工具背景：我向他询问了萨达姆·侯赛因在昨天的袭击中成为目标的消息，以及如果萨达姆被*杀死*，伊拉克人将如何反应。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 使用什么设备进行杀人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: victim context: What do you think of Israel’s policies surrounding Arafat’s illness and * death *?</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was killed?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：受害者背景：您如何看待以色列围绕阿拉法特患病和*死亡*的政策？</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被杀了？</span></p>
<p><span style="background-color: #ffd40080">Text: role: attacker context: They’re fi- they don’t even know why they’re * fighting * anymore. They just they hate each other – and they’re always going to hate each other – and it doesn’t matter who started it, but – i- you know, somebody eh, th- somebody’s in always intent on winning.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：攻击者上下文：他们是——他们甚至不知道为什么要* 战斗* 了。 他们只是互相憎恨——而且他们总是会互相憎恨——谁先开始的并不重要，但是——我——你知道，有人呃，有人总是一心想赢。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #ffd40080">Text: role: attacker context: There were – two very strong – militant groups that were Israeli and they – committed a lot of terrorist * acts *,</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：攻击者背景：有两个非常强大的以色列激进组织，他们犯下了许多恐怖行为*，</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #ff666680">Text: role: target context: Mike He was he was basically – I mean, I’ve read I’ve read articles an- and- and- and – stories that basically have linked him to the to the to the Munich – * massacre * – th- you know, the Munich Olympic massacre th- the Is- the Israeli team.</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #ff666680">文字：角色：目标背景：迈克 他基本上是——我的意思是，我读过我读过的文章和——以及——基本上将他与慕尼黑联系起来的故事—— -*屠杀*–你知道，慕尼黑奥运会的屠杀就是-以色列队。</span></p>
<p><span style="background-color: #ff666680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: These pictures were taken on the runway just moments after the coalition * attack *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文字： 角色： 目标背景： 这些照片是在联军*攻击*后不久在跑道上拍摄的。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #ffd40080">Text: role: attacker context: MATES Outside the airport, the * fighting * was fierce, but the battle unequal. Here, the remains of an Iraqi armored car, and by its side the body of an Iraqi soldier, all that remains of a column that pushed up the airport road last night in a final effort to defend the airport.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #ffd40080">文字：角色：袭击者背景：伙伴 机场外，*战斗*很激烈，但战斗不平等。 这里有一辆伊拉克装甲车的残骸，旁边还有一名伊拉克士兵的尸体，这些都是昨晚在机场道路上奋力保卫机场的一支纵队的残骸。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: But the final push into the city could yet prove to be the toughest * fighting * of all.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：但最后的进城可能会被证明是最艰难的*战斗*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #ffd40080">Text: role: instrument context: This isn’t a football game, and it’s not two drunken cousins * fighting * at a family reunion.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：乐器背景：这不是一场足球比赛，也不是两个喝醉的表兄弟在家庭聚会上*打架*。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #ff666680">Text: role: beneficiary context: The rebels have * captured * the country’s main international airport, said a top official in a 300-strong African security force policing the city.</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who benefits from the transaction?</span></p>
<p><span style="background-color: #ff666680">文字：角色：受益人背景：负责该市治安的 300 名非洲安全部队的一名高级官员表示，叛乱分子已经<em>占领</em>了该国的主要国际机场。</span></p>
<p><span style="background-color: #ff666680">生成的问题：谁从交易中受益？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: he is also suspected in three atlanta-area * bombings *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：仪器背景：他还涉嫌参与亚特兰大地区三起*爆炸案*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: The Revolutionary Armed Forces of Colombia (FARC) said Monday that it was prepared to exchange prisoners with the government despite the * death * of 10 hostages held by the rebel group.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the death take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：哥伦比亚革命武装力量 (FARC) 周一表示，尽管反叛组织扣押的 10 名人质“死亡”，但仍准备与政府交换囚犯。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：死亡发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: victim context: The 17,000-strong FARC, the largest guerrilla force in Colombia, has been fighting a war against the government for more than 40 years, leaving 400,000 * dead *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was killed?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：受害者背景：17,000 人的哥伦比亚最大游击队哥伦比亚革命武装力量 (FARC) 与政府的战争已持续 40 多年，造成 40 万人*死亡*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被杀了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: Despite a security crackdown over the weekend in Baghdad and an announcement that some 7,000 policemen had returned to their jobs since the end of the * war *, ordinary Iraqis still felt unsafe on the street with gunfire rife and police a near invisible presence.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：尽管巴格达周末进行了安全镇压，并宣布自*战争*结束以来大约7,000名警察已返回工作岗位，但普通伊拉克人在枪林弹雨的街道上仍然感到不安全 警察几乎是隐形的存在。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: The comments came on the same day that a prominent Iraqi called for internationally-supervised * elections * in Iraq.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the voting agent?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：特工背景：在发表上述评论的同一天，一位著名的伊拉克人呼吁在伊拉克进行国际监督的*选举*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是投票代理人？</span></p>
<p><span style="background-color: #ff666680">Text: role: person context: coalition forces in baghdad have * arrested * the palestinian terrorist who led the hijacking of the italian cruise ship the achille lauro in 1985.</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who was arrested by forces in baghdad?</span></p>
<p><span style="background-color: #ff666680">文本：角色：人物背景：巴格达的联军已*逮捕*1985年领导劫持意大利游轮阿奇·劳罗号的巴勒斯坦恐怖分子。</span></p>
<p><span style="background-color: #ff666680">生成的问题： 谁在巴格达被部队逮捕？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: They also serve as a reminder that many of our colleagues covering this * war * are putting their lives on the line every day.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：攻击者背景：它们还提醒我们，我们报道这场*战争*的许多同事每天都在冒着生命危险。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #a28ae580">Text: role: place context: At a nearby hotel, two other journalists, a photographer from Reuters and another from Tele 5 Spain * died *, another case, CENTCOM says, of coalition forces returning fire.</span></p>
<p><span style="background-color: #a28ae580">Generated Question: Where was photographer killed?</span></p>
<p><span style="background-color: #a28ae580">文本：角色：地点背景：在附近的一家酒店，另外两名记者、一名来自路透社的摄影师和另一名来自西班牙第五电视台的摄影师*死亡*，中央司令部称，这是联军还击的另一起案件。</span></p>
<p><span style="background-color: #a28ae580">生成的问题：摄影师在哪里被杀？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: And an American writer&#x2F;editor, “Washington Post” editorial columnist Michael Kelly, was killed when his Humvee plunged into a canal while evading Iraqi * fire *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：乐器背景：美国作家&#x2F;编辑、《华盛顿邮报》社论专栏作家迈克尔·凯利在躲避伊拉克*火力*时，他的悍马车陷入运河中身亡。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: Famed combat photographer Robert Capa, who took a classic photo of a fighter’s death during the Spanish Civil * War *, himself died from a land mine in Indochina.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：仪器背景：著名战地摄影师罗伯特·卡帕在西班牙内战时期拍摄了一张战士死亡的经典照片，他本人也在印度支那死于地雷。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: ABC News producer David Kaplan was killed by sniper * fire * in the Balkans in 1992. Sometimes reporters, like “The Wall Street Journal”‘s Danny Pearl, die in covering a different kind of war.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：乐器背景：1992 年，ABC 新闻制片人戴维·卡普兰 (David Kaplan) 在巴尔干半岛被狙击手 * 火力 * 杀死。有时，像《华尔街日报》的丹尼·珀尔 (Danny Pearl) 这样的记者，会在报道不同类型的战争时丧生 。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: The 600 journalists embedded with American troops in Iraq will be threatened by the same * fire * as the troops they are covering.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：工具背景：随驻伊拉克美军的 600 名记者将受到与他们报道的部队相同的“火力”威胁。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: Reporters who ignore or distort facts are betraying their craft no matter what and no matter how much that may anger the people running a * war *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：工具背景：忽视或歪曲事实的记者正在背叛他们的技艺，无论怎样，无论这可能激怒正在发动*战争*的人们。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #ffd40080">Text: role: place context: Just now, we want to show you scenes from Andrews Air Force Base just moments ago, President Bush returning to the United States from his * summit * in Northern Ireland in Belfast with British Prime Minister Tony Blair, the president back on American soil after a quick two-day trip, less than two-day trip to Belfast, he and the prime minister discussing, of course, the war in Iraq, what happens after, as well as the peace process in the Middle East, and restarting the peace process in Northern Ireland.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Where did Bush meet others?</span></p>
<p><span style="background-color: #ffd40080">文字：角色：地点背景：刚才，我们想向您展示不久前安德鲁斯空军基地的场景，布什总统与英国首相托尼·布莱尔在贝尔法斯特举行的北爱尔兰峰会返回美国 总统在结束了为期两天的快速访问后回到了美国领土，贝尔法斯特的访问还不到两天，他和总理当然讨论了伊拉克战争、之后发生的事情，以及伊拉克的和平进程。 中东局势，重启北爱尔兰和平进程。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：布什在哪里见到其他人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: a massive manhunt underway where a rapist is * targeting * children.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was attacked by rapist?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：大规模搜捕正在进行中，一名强奸犯正在以儿童为目标。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被强奸犯袭击了？</span></p>
<p><span style="background-color: #ffd40080">Text: role: vehicle context: the who says sars advisories against * travel * to hong kong, beijing and the chinese provences will remain in effect.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: What vehicle was used for transporting?</span></p>
<p><span style="background-color: #ffd40080">文字：角色：车辆背景：世卫组织表示，针对“非典”旅行建议，禁止前往香港、北京和中国普罗旺斯地区旅行。</span></p>
<p><span style="background-color: #ffd40080">生成的问题： 使用什么车辆进行运输？</span></p>
<p><span style="background-color: #5fb23680">Text: role: victim context: ask any american marine and they’ll tell you they’ll do anything possible to recover the bodies of * fallen * comrades. that grim task was carried out by marines engaged in the fierce battle for the city of nasiriyah nasiriyah.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was killed?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：受害者背景：询问任何美国海军陆战队员，他们会告诉你他们会尽一切可能来找回<em>倒下的</em>战友的尸体。 这项艰巨的任务是由参与纳西里耶市激烈战斗的海军陆战队员执行的。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被杀了？</span></p>
<p><span style="background-color: #ffd40080">Text: role: artifact context: I wonder if B had a huge messy divorce, and his ex * took * the kid out of state.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was transported?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：神器背景：我想知道 B 是否经历了一次巨大而混乱的离婚，并且他的前<em>把</em>孩子带出了州。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁被运送了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: person context: Sometimes we want to see * marriage * one dimensionally.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was married?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：人物背景：有时我们希望以一维的方式看待<em>婚姻</em>。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁结婚了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: I really haven’t changed very much from who I was before. Although, the dog thing is really post * divorce *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the divorce take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：我与以前相比确实没有太大改变。 不过，狗的事情确实是<em>离婚后</em>的。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 离婚发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Especially for those of us who still have so many years (if one year for every 2 * married *, then I’ve still got another 7 or so) to go to get our heads screwed back on and find some sort of life that rivals what we had or what our ex has or what you and your ex have.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the marriage take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：特别是对于我们这些还有很多年时间（如果每 2 个结婚*一年，那么我还有另外 7 年左右）去把我们的头拧回去并 找到某种与我们或我们的前任或你和你的前任拥有的生活相媲美的生活。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 婚姻在哪里举行？</span></p>
<p><span style="background-color: #5fb23680">Text: role: defendant context: It would be, certainly, to know, to apprehend him, to * bring * him before a court of justice.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was on trial?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：被告背景：当然，这将是了解、逮捕将他<em>带</em>上法庭。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 谁受审？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: the store’s owner and the palestinian bomber were * killed *. the store is a total loss.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the death take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：商店老板和巴勒斯坦轰炸机被<em>杀死</em>。 商店完全亏损。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：死亡发生在哪里？</span></p>
<p><span style="background-color: #ff666680">Text: role: agent context: powell is wrapping up a trip to southeast asia, he’s * due * here in jerusalem tomorrow morning for talks with the israeli prime minister and the foreign minister.</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who is responsible for the transport event?</span></p>
<p><span style="background-color: #ff666680">文本：角色：特工背景：鲍威尔即将结束东南亚之行，他将于明天早上在耶路撒冷与以色列总理和外交部长举行会谈。</span></p>
<p><span style="background-color: #ff666680">生成的问题：谁负责运输事件？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: Five Iraqi civilians, including a woman, were * killed * Monday when their houses were hit by a missile fired by the US-led coalition warplanes, witnesses said.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the killer?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：特工背景：目击者称，周一，五名伊拉克平民（其中包括一名妇女）的房屋被美国领导的联军战机发射的导弹击中而死亡。</span></p>
<p><span style="background-color: #5fb23680">产生的问题：谁是凶手？</span></p>
<p><span style="background-color: #e56eee80">Text: role: instrument context: Five Iraqi civilians, including a woman, were killed Monday when their houses were * hit * by a missile fired by the US-led coalition warplanes, witnesses said.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: What instrument did warplanes use to attack houses?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：仪器背景：目击者称，周一，五名伊拉克平民（包括一名妇女）的房屋被美国领导的联军战机发射的导弹击中身亡。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：战机使用什么工具来攻击房屋？</span></p>
<p><span style="background-color: #5fb23680">Text: role: victim context: Although the coalition leaders have repeatedly assured that every effort would be made to minimize civilian casualties in the current Iraq * war *, at least 130 Iraqi civilians have been reportedly killed since the war started five days ago.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was killed?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：受害者背景：尽管联军领导人一再保证将尽一切努力减少当前伊拉克<em>战争</em>中的平民伤亡，但据报道，自五天前战争爆发以来，至少有130名伊拉克平民被杀。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被杀了？</span></p>
<p><span style="background-color: #e56eee80">Text: role: victim context: According to other reports reaching here, five Syrian bus passengers were killed and 10 others were * injured * on Sunday morning when a US missile hit the bus they were traveling in near the Iraqi border.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who was harmed with missile?</span></p>
<p><span style="background-color: #e56eee80">文字：角色：受害者背景：根据其他报道，周日早上，一枚美国导弹击中了他们在伊拉克边境附近行驶的巴士，导致 5 名叙利亚巴士乘客死亡，另有 10 人受伤。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：谁被导弹伤害了？</span></p>
<p><span style="background-color: #e56eee80">Text: role: destination context: The vehicle was * carrying * Syrians fleeing the war in Iraq.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Where was Syrians transported to with vehicle?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：目的地背景：这辆车<em>载着</em>逃离伊拉克战争的叙利亚人。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：叙利亚人被车辆运到哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: origin context: The convoy was * escorted * by U.S. soldiers.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the transporting originate?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：起源背景：车队由美国士兵<em>护送</em>。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：运输起源于哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: After days of fierce * fighting * that shut down the city of Umm Qasr, Iraqi youths cheered and swarmed British troops as they handed out yellow meal packets and bottles of water Wednesday.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：袭击者背景：经过数天的激烈“战斗”，乌姆盖斯尔市被封锁，星期三，伊拉克年轻人欢呼雀跃，蜂拥而至英国军队，分发黄色餐包和瓶装水。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #ffd40080">Text: role: place context: White House spokesman Ari Fleischer blamed Saddam Hussein’s regime for slowing the flow of US$105 million in U.S. * aid * by placing mines in the port of Umm Qasr.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Where was the amount transferred?</span></p>
<p><span style="background-color: #ffd40080">文字：角色：地点背景：白宫发言人阿里·弗莱舍尔 (Ari Fleischer) 指责萨达姆·侯赛因政权在乌姆盖斯尔港埋设地雷，减缓了美国<em>援助</em>的 1.05 亿美元的流动。<br><br>生成的问题： 转账金额到哪里了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: The World Food Program, a U.N. agency, said it would make its biggest single request for cash in its history _ more than US$1 billion to help feed the * war *-stricken nation for about six months.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：攻击者背景：联合国机构世界粮食计划署表示，将提出其历史上最大的单笔现金请求——超过 10 亿美元，以帮助为这个饱受战争之苦的国家提供大约六个月的粮食。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: Because the United States and Britain failed to get U.N. backing for the war, Russia, France, Germany and China want to ensure that the immediate humanitarian costs of the * war * are paid by the United States</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：攻击者背景：由于美国和英国未能获得联合国对战争的支持，俄罗斯、法国、德国和中国希望确保<em>战争</em>的直接人道主义费用由美国支付</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: while we do, we want to tell you marines * battling * for control of the bridges in the southern city of nasiriyah face stiff resistance from iraqi paramilitary groups today. for some perspective, let’s turn to miles o’brien with retired air force general don shepperd.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：工具背景：在我们这样做的同时，我们想告诉你们，为控制南部城市纳西里耶的桥梁而进行的海军陆战队员今天面临着伊拉克准军事组织的顽强抵抗。 为了了解一些观点，让我们转向迈尔斯·奥布莱恩和退役空军将军唐·谢珀德。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #ff666680">Text: role: place context: this is one technique, one possible way u.s. forces might * seize * a bridge, a bridge that might be defended by iraqis.</span></p>
<p><span style="background-color: #ff666680">Generated Question: Where did the sale take place?</span></p>
<p><span style="background-color: #ff666680">文本：角色：地点上下文：这是一种技术，一种可能的方式。 军队可能会夺取一座桥梁，一座可能由伊拉克人保卫的桥梁。</span></p>
<p><span style="background-color: #ff666680">生成的问题： 销售在哪里进行？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: they have burns in front of them. artillery behind them * firing * back.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：乐器背景：他们前面有烧伤。 他们身后的大炮<em>开火</em>还击。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #e56eee80">Text: role: attacker context: There was fierce * fighting * in Kut, to the south of Baghdad, where desperate Iraqis armed with rifles charged tanks in a suicide raid. We mowed down’’ the attackers, said Lt. Col. B.P. McCoy.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who made the attack in Kut?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：袭击者背景：巴格达南部的库特发生了激烈的“战斗”，绝望的伊拉克人手持步枪向坦克发起自杀式袭击。 B.P. 中校说，我们击落了袭击者。 麦考伊。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：谁在库特发动了袭击？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: Despite declarations that more tough fighting lies ahead, the top U.S. military official indicated there may not be an all-out * battle * for Baghdad.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：攻击者背景：尽管有声明称未来将有更艰苦的战斗，但美国高级军事官员表示，巴格达可能不会发生全面的“战斗”。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #e56eee80">Text: role: place context: Tracer rounds * lit * the night sky and artillery boomed near the airport a few kilometers (miles) from the heart of President Saddam Hussein’s capital of 5 million people.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：地点背景：曳光弹*照亮*夜空和炮火在距离萨达姆·侯赛因总统拥有500万人口的首都中心几公里（英里）的机场附近轰鸣。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: vehicle context: Capture of the airport would give American and British troops a facility for * airlifting * equipment and troops to Baghdad.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What vehicle was used for transporting?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：车辆背景：占领机场将为美国和英国军队提供一个设施，用于*空运*设备和部队到巴格达。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 使用什么车辆进行运输？</span></p>
<p><span style="background-color: #5fb23680">Text: role: victim context: Two Marines were killed and one * injured * in the close-quarters fighting in Kut.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was harmed?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：受害者背景：在库特的近距离战斗中，两名海军陆战队员被杀，一名*受伤*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁受到伤害？</span></p>
<p><span style="background-color: #ffd40080">Text: role: artifact context: The overall toll of American troops dead passed 50, and Bush * visited * a Marine camp, which has lost 13 _ more than any other installation.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was transported to camp?</span></p>
<p><span style="background-color: #ffd40080">文本： 角色：神器 背景： 美军死亡总数已超过 50 人，布什 * 参观了 * 一个海军陆战队营地，该营地的死亡人数比任何其他设施都多 13 人。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁被运送到营地？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: God will disgrace them,’’ they said, referring to * invading * American and British troops.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：攻击者背景：上帝会羞辱他们，”他们说，指的是*入侵*美国和英国军队。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #ff666680">Text: role: artifact context: To the far north, U.S. special forces and Kurdish militiamen * captured * the town of Bardarash and a nearby bridge, one of few routes into the city of Mosul near government-held oil fields.</span></p>
<p><span style="background-color: #ff666680">Generated Question: What did militiamen buy in Bardarash?</span></p>
<p><span style="background-color: #ff666680">文本：角色：神器背景：在遥远的北方，美国特种部队和库尔德民兵占领了巴达拉什镇和附近的一座桥梁，这是进入政府控制的油田附近的摩苏尔市的少数路线之一。</span></p>
<p><span style="background-color: #ff666680">生成的问题：民兵在巴达拉什购买了什么？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: American officials cited continuing examples of Iraqis cooperating with * invading * troops.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：工具背景：美国官员列举了伊拉克人与<em>入侵</em>部队合作的持续例子。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: American and British helicopters and planes * bombed * positions in Kut, and Marines and Iraqis lobbed grenades at close quarters.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：美国和英国的直升机和飞机<em>轰炸</em>库特阵地，海军陆战队和伊拉克士兵近距离投掷手榴弹。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Between 10 and 15 Iraqis armed only with rifles charged Marine tanks in the * suicide * charge.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the death take place?</span></p>
<p><span style="background-color: #5fb23680">文本： 角色： 地点 背景： 10 到 15 名仅携带步枪的伊拉克人在“自杀式”冲锋中对海军陆战队坦克发起冲锋。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：死亡发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: origin context: Army forces rolled past dozens of dead Iraqi soldiers and bombed-out hulks of Iraqi military equipment as they made their * way * toward Baghdad from the area around Karbala.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where was forces transported from to Baghdad?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：起源背景：陆军从卡尔巴拉周边地区向巴格达进军时，碾过数十名阵亡的伊拉克士兵和被炸毁的伊拉克军事装备。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：部队是从哪里运到巴格达的？</span></p>
<p><span style="background-color: #5fb23680">Text: role: person context: * Married * for the second time, Hariri has five children.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was married?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：人物背景：第二次结婚，哈里里有五个孩子。</span></p>
<p><span style="background-color: #5fb23680">引发的问题：谁结婚了？</span></p>
<p><span style="background-color: #ffd40080">Text: role: instrument context: I often wondered how he was doing with all the meds because of his illness, which developed before his * paralyzing * accident.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: What device was used to inflict the harm?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：仪器背景：我经常想知道他是如何处理所有药物的，因为他的疾病是在他的*瘫痪*事故之前发展的。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：使用什么设备造成伤害？</span></p>
<p><span style="background-color: #e56eee80">Text: role: instrument context: What I think was quite appalling from what Dana said on the Oprah show was that the doctors wanted to * pull * the life support from Chris *without her being there.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: What device was used to kill?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：仪器背景：我认为达娜在奥普拉节目中所说的非常令人震惊的是，医生想在克里斯不在场的情况下<em>撤回</em>克里斯的生命支持。</span></p>
<p><span style="background-color: #e56eee80">生成的问题： 使用什么设备进行杀人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: person context: Re: The old * wedding * problem</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was married?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：人物背景：回复：旧<em>婚礼</em>问题</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁结婚了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: person context: For my part though, I think we started the * marriage * with a compromise and deined ourselves tremendous blessing and ultimately paid the price.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was married?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：人物背景：但就我而言，我认为我们以妥协开始了“婚姻”，并为自己定义了巨大的祝福，并最终付出了代价。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁结婚了？</span></p>
<p><span style="background-color: #e56eee80">Text: role: place context: A serial killer in Wichita, Kansas who * killed * at least 8 people in the ‘70s and ‘80s.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Where did killer kill people?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：地点背景：堪萨斯州威奇托市的一名连环杀手，在 70 年代和 80 年代“杀死”了至少 8 人。</span></p>
<p><span style="background-color: #e56eee80">生成问题：杀手在哪里杀人？</span></p>
<p><span style="background-color: #e56eee80">Text: role: place context: The rich * hire * private security for a reason–public security is often inadequate.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Where did the employment relationship begin?</span></p>
<p><span style="background-color: #e56eee80">文字：角色：地点背景：富人<em>雇用</em>私人保安是有原因的——公共安全往往不够充分。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：雇佣关系从哪里开始？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: I believe Bind Torture * Kill * &#x3D; BTK. My point about taking so long… for thirty years people didn’t feel safe. The LE has an obligation to keep safe. I bet the neighbors are going through hell.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the death take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点上下文：我相信 Bind Torture <em>Kill</em> &#x3D; BTK。 我的观点是花了这么长时间……三十年来人们都没有感到安全。 LE 有义务保证安全。 我敢打赌邻居们正在经历地狱。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：死亡发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: The * war * in Iraq could last months and require considerable US military reinforcements to assure a victory, the Washington Post reported Thursday, quoting senior US military officials.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：攻击者背景：《华盛顿邮报》周四援引美国高级军事官员的话说，伊拉克的“战争”可能会持续数月，需要大量的美国军事增援才能确保胜利。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #ffd40080">Text: role: target context: The Post also quoted Central Intelligence Agency and Pentagon intelligence analysts complaining that Bush officials largely ignored their warning that Iraqi irregular forces would use guerrilla tactics and offer significant * resistance *.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #ffd40080">文字：角色：目标背景：《华盛顿邮报》还援引中央情报局和五角大楼情报分析人士的话说，布什官员在很大程度上忽视了他们的警告，即伊拉克非正规部队将使用游击战术并提供重大“抵抗”。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #ffd40080">Text: role: artifact context: Meanwhile Blair * arrived * in Washington late Wednesday for two days of talks with Bush at the Camp David presidential retreat.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was transported to Washington?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：神器背景：与此同时，布莱尔周三晚间抵达华盛顿，在戴维营总统度假胜地与布什进行为期两天的会谈。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁被运送到华盛顿？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Britain has deployed some 45,000 troops to * fight * with the more than 250,000 US soldiers lined up against Iraqi troops.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：英国已部署约 45,000 名士兵与超过 250,000 名美国士兵列队对抗伊拉克军队。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: prosecutor context: just one day after being * charged * with a felony. he is accused of leaving the scene of a fatal accident.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who executed the indictment?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：检察官背景：就在被 * 指控 * 重罪一天后。 他被指控离开致命事故现场。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁执行了起诉书？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: WOODRUFF An apparent friendly * fire * incident in northern Iraq is taking more of a toll on Kurdish leaders than we knew at first.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：WOODRUFF 伊拉克北部发生的一场明显的友军“开火”事件给库尔德领导人造成的损失比我们最初知道的还要严重。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: This morning, an American bomb destroyed a convoy carrying high officials of the Kurdish Peshmerga forces, which have been * fighting * alongside the Americans on the northern front.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：今天早上，一枚美国炸弹摧毁了一支载有库尔德自由斗士部队高级官员的车队，该部队一直在北部战线与美国并肩作战。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: The idea was to open the way with heavy sustained American * bombing * of Iraqi positions.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本： 角色： 目标背景： 这个想法是通过美国对伊拉克阵地的持续猛烈轰炸开辟道路。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: Here in the north, Iraqi tanks and guns are still * firing *, and the American effort is looking a little ragged.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：在北方，伊拉克的坦克和大炮仍在*开火*，而美国的努力看起来有点破烂。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #ffd40080">Text: role: artifact context: officials say the pilot reported ice on the plane and planned to * land * in massachusetts when the plane left radar.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was transported?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：神器背景：官员称，飞行员报告飞机上结冰，并计划在飞机离开雷达后在马萨诸塞州降落。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁被运送了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: of course there are ongoing fears about * terrorism * and a war with iraq.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：攻击者背景：当然，人们一直担心*恐怖主义*和与伊拉克的战争。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: At least 19 people were killed and 114 people were wounded in Tuesday’s southern Philippines airport * blast *, officials said, but reports said the death toll could climb to 30.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：袭击者背景：官员称，周二菲律宾南部机场*爆炸*造成至少19人死亡、114人受伤，但有报道称死亡人数可能攀升至30人。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #ffd40080">Text: role: agent context: The Davao Medical Center, a regional government hospital, recorded 19 deaths with 50 * wounded *.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who enacted the harm?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：特工背景：达沃医疗中心是一家地区政府医院，记录了 19 人死亡、50 人受伤。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁造成了伤害？</span></p>
<p><span style="background-color: #ffd40080">Text: role: agent context: There were no reports of * injuries * in the second blast.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who enacted the harm?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：特工背景：第二次爆炸中没有*受伤*的报告。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁造成了伤害？</span></p>
<p><span style="background-color: #5fb23680">Text: role: destination context: Television footage showed medical teams * carting * away dozens of wounded victims with fully armed troops on guard.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where was the transporting directed?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目的地背景：电视画面显示，医疗队在全副武装的士兵的护卫下“运走”了数十名伤者。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：运输的方向是哪里？</span></p>
<p><span style="background-color: #ffd40080">Text: role: target context: hezbollah is an organization based in lebanon that has beenify dn dn been tied to terrorist * activity * and peter bergen mentioned saudi hezbollah an organization working in that country.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：目标背景：真主党是一个总部位于黎巴嫩的组织，已与恐怖分子 * 活动 * 联系在一起，彼得·伯根提到沙特真主党是一个在该国工作的组织。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #ffd40080">Text: role: origin context: we’ll watch and listening very closely to president khatami’s * visit * there in beirut, lebanon.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Where did the transporting originate?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：起源背景：我们将密切关注并密切关注哈塔米总统*访问*黎巴嫩贝鲁特。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：运输起源于哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: destination context: MAJOR ROB MACGOWAN, ROYAL MARINES We * sent * in one of our companies of about 100 men in here this morning and we took about 12 or 13 prisoners, three or four enemy were injured and they’ve now been flown out and we’re treating them including a man who is almost dead with a gunshot wound to the chest.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where was the transporting directed?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：目的地背景：皇家海军陆战队罗布·麦高恩少校今天早上我们派遣了一支约 100 人的连队来到这里，俘虏了大约 12 到 13 名俘虏，三到四名敌人受伤，他们’ 现在我们已经空运出去，我们正在治疗他们，其中包括一名胸部受枪伤、几乎死亡的男子。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：运输的方向是哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: defense attorneys argue that there has been so much pretrial publicity, including an alleged confession from malvo, that this has tainted the jury pool. their more intriguing argument is that one of the * charges * against malvo is under virginia’s anti-terrorism statute and they argue that every resident of fairfax county is potentially a member of the victim’s class.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the indictment take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：辩护律师认为，审前宣传太多，包括马尔沃的供词，这玷污了陪审团。 他们更有趣的论点是，对马尔沃的指控之一是根据弗吉尼亚州的反恐法规，他们认为费尔法克斯县的每个居民都可能是受害者阶层的成员。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：起诉发生在哪里？</span></p>
<p><span style="background-color: #e56eee80">Text: role: place context: that’s just one of the ten sniper * shootings * here in the greater washington area.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Where did sniper make an attack?</span></p>
<p><span style="background-color: #e56eee80">文字：角色：地点背景：这只是大华盛顿地区发生的十起狙击手*枪击事件*之一。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：狙击手在哪里发起攻击？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: that is especially true if you have a loved one in the * war * zone.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：如果您在*战争*区域有一个亲人，则尤其如此。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: 60 percent of the people say they’re watching the * war *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：60% 的人说他们正在观看*战争*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: if you listen to the from’s men it sounds like the * battle * is about to begin, maybe only days from now.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：如果你听从者的话，听起来*战斗*即将开始，也许只有几天后。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: later this hour i’ll speak exclusively to cardinal pio laghi, the man dismatched by pope john paul ii to persuade president bush to avoid * war *, but we begin with reports from the united nations, the pentagon and the white house.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：这个小时晚些时候，我将专门与枢机主教皮奥·拉吉交谈，他被教皇约翰·保罗二世劝说布什总统避免*战争*，但我们从联合国的报告开始， 五角大楼和白宫。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #e56eee80">Text: role: defendant context: Enron’s principal bankers, including JP Morgan Chase and Citigroup, and along with numerous other Enron advisers, have already been * sued * by the company’s shareholders for allegedly helping the company hide debt, and they face investigations from regulators over their involvement.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who was sued by shareholders?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：被告背景：安然的主要银行家，包括摩根大通和花旗集团，以及许多其他安然顾问，已经因涉嫌帮助公司隐藏债务而被公司股东*起诉*，他们面临调查 来自监管机构的参与。</span></p>
<p><span style="background-color: #e56eee80">生成的问题： 谁被股东起诉？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: The excuse is invalid because I’ve been convicted on political not criminal grounds, which doesn’t violate my right for contesting the * elections *,’’ Faisal told The Associated Press.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the voting agent?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：特工背景：这个借口无效，因为我是因政治而非刑事理由被定罪，这并不侵犯我参加*选举*的权利，”费萨尔告诉美联社。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是投票代理人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Jordan’s electoral law bans Jordanians from contesting the polls if they were convicted of any crime, except political, and * sentenced * to more than one year in jail.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the sentencing take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：约旦选举法禁止约旦人在被判犯有政治罪以外的任何罪行的情况下参加投票，并*判处*一年以上监禁。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 量刑是在哪里进行的？</span></p>
<p><span style="background-color: #e56eee80">Text: role: place context: for a week now, protesters have been * clashing * with police and backers of the clerical regime in tehran.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Where did protesters make an attack?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：地点背景：一周以来，抗议者一直在与警察和德黑兰教权政权的支持者发生冲突。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：抗议者在哪里发动袭击？</span></p>
<p><span style="background-color: #e56eee80">Text: role: defendant context: michael jackson filed * suit * against universal music, the parent company of motown records saying he owe him for music he recorded with the jackson five back in the 1970s.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who was sued by michael jackson?</span></p>
<p><span style="background-color: #e56eee80">文字：角色：被告背景：迈克尔·杰克逊对环球音乐提起诉讼，摩城唱片公司的母公司称迈克尔·杰克逊欠他 1970 年代与杰克逊五人组录制的音乐。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：谁被迈克尔·杰克逊起诉？</span></p>
<p><span style="background-color: #e56eee80">Text: role: victim context: Death of Arafat (2) PLO leader PLO leader Yasser Arafat * died * in a Paris hospital last week, after a lot of controversy surrounding his illness and death.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who was killed in hospital?</span></p>
<p><span style="background-color: #e56eee80">文字：角色：受害者 背景：阿拉法特之死 (2) 巴解组织领导人 巴解组织领导人亚西尔·阿拉法特*上周在巴黎一家医院去世*，此前围绕他的病情和死亡引发了很多争议。</span></p>
<p><span style="background-color: #e56eee80">生成的问题： 谁在医院被杀？</span></p>
<p><span style="background-color: #5fb23680">Text: role: artifact context: Ed but it wasn’t – like, ah, wasn’t Bush, I definitely wouldn’t * send * him, I don’t think you want to have him in that part of the world right now.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was transported?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：神器背景：艾德，但它不是——就像，啊，不是布什，我绝对不会 * 发送 * 他，我不认为你想让他出现在那个部分 现在的世界。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被运送了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: James hundreds of years – and a lot of people have * lost * their lives, and and a lot of kids have grown up and all they’ve ever known – on both sides Israeli and Palestinian, all they’ve ever known is war.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the killer?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：特工背景：詹姆斯几百年了——很多人失去了生命，很多孩子已经长大了，他们所知道的一切——以色列和以色列双方 巴勒斯坦人，他们所知道的就是战争。</span></p>
<p><span style="background-color: #5fb23680">产生的问题：谁是凶手？</span></p>
<p><span style="background-color: #ffd40080">Text: role: entity context: North Korea on Sunday rejected the U.N. Security Council’s plan to * discuss * the standoff over its suspected nuclear weapons development, calling it a prelude to war.’’</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who met with others?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：实体背景：朝鲜周日拒绝了联合国安理会“讨论”其疑似核武器开发的僵局的计划，称其为战争的前奏。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁会见了其他人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: But KCNA quoted the spokesman as saying that the U.S. * invasion * of Iraq showed that Washington was not bound by international agreements.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：工具背景：但朝中社援引发言人的话称，美国“入侵”伊拉克表明华盛顿不受国际协议约束。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: Today the Pentagon is comparing * suicide * bombing attacks on coalition forces in Iraq to terrorism.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What device was used to kill?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：工具背景：今天，五角大楼正在将针对伊拉克联军的“自杀式”爆炸袭击与恐怖主义进行比较。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 使用什么设备进行杀人？</span></p>
<p><span style="background-color: #e56eee80">Text: role: instrument context: Four U.S. Army soldiers were killed when a suicide bomber * attacked * a military checkpoint today in Najaf.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: What instrument did bomber use to attack checkpoint in Najaf?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：仪器背景：今天，一枚自杀式炸弹袭击者袭击了纳杰夫的一个军事检查站，四名美国陆军士兵丧生。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：轰炸机使用什么工具攻击纳杰夫的检查站？</span></p>
<p><span style="background-color: #e56eee80">Text: role: artifact context: A man driving what appeared to be a taxicab * came * to the checkpoint, waved soldiers over, appeared to be having mechanical problems of some kind.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who was transported to checkpoint?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：神器背景：一名男子驾驶着一辆看似出租车的车辆*来到*到检查站，挥手示意士兵过来，似乎出现了某种机械问题。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：谁被运送到检查站？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: * This * is something that Iraqi Vice President Ramadan had said would take place.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：工具上下文：* 这个* 是伊拉克副总统拉马丹说过将会发生的事情。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: He reiterated today in a press conference in Baghdad that this would just be the beginning of this that they would plan on killing thousands of U.S. troops with * suicide * bombing similar to this.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the killer?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：特工背景：他今天在巴格达举行的新闻发布会上重申，这只是他们计划通过类似的“自杀式”爆炸杀死数千名美军的开始。</span></p>
<p><span style="background-color: #5fb23680">产生的问题：谁是凶手？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: Also, in southern Iraq today near Basra, two members - claimed to be members of Saddam’s Thataeen (ph) group surrendered to U.S. troops saying that they had been ordered to carry out suicide bombings down there but that they didn’t want to * die * for the regime so they were surrendering.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the killer?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：特工背景：此外，今天在伊拉克南部巴士拉附近，两名自称是萨达姆塔泰恩（Ph）组织成员的成员向美军投降，称他们奉命在那里进行自杀式爆炸，但他们 不想为政权而死，所以他们投降了。</span></p>
<p><span style="background-color: #5fb23680">产生的问题：谁是凶手？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: No * injuries * reported.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What device was used to inflict the harm?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：仪器上下文：无*伤害*报告。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：使用什么设备造成伤害？</span></p>
<p><span style="background-color: #ff666680">Text: role: attacker context: That story when we come back. Since marching into Iraq, coalition troops have engaged in some fierce * battles * with Saddam Hussein’s forces.</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who attacked forces in Iraq?</span></p>
<p><span style="background-color: #ff666680">文本：角色：攻击者上下文：我们回来时的故事。 自从进军伊拉克以来，联军与萨达姆的军队进行了一些激烈的“战斗”。</span></p>
<p><span style="background-color: #ff666680">生成的问题：谁袭击了伊拉克军队？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: on april 9th, about 130 journalists from around the world including myself and a couple of reporters, we were going to try to * cross * the border because we were all desperate to get into iraq, two days after the saddam statue fell and we all knew it was over.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who is responsible for the transport event?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：特工背景：4 月 9 日，来自世界各地的大约 130 名记者，包括我自己和几位记者，我们打算尝试 * 跨越 * 边境，因为我们都迫切希望进入伊拉克，两个 萨达姆雕像倒塌几天后，我们都知道一切都结束了。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁负责运输事件？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: The dictator Suharto has fallen, the constitution has changed, the media was unshackled, democratic * elections * held, and East Timor freed.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the voting agent?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：特工背景：独裁者苏哈托倒台，宪法修改，媒体摆脱束缚，民主*选举*举行，东帝汶获得自由。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是投票代理人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: And, currently, both have opposed the U.S.- led * war * on Iraq.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：攻击者背景：目前，双方都反对美国领导的伊拉克战争。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #e56eee80">Text: role: victim context: Last year’s Bali bombings, which * killed * 202 people, illustrated the threat of terrorism in Indonesia.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who was killed in Bali?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：受害者背景：去年的巴厘岛爆炸案导致 202 人死亡，这说明了印度尼西亚的恐怖主义威胁。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：谁在巴厘岛被杀？</span></p>
<p><span style="background-color: #5fb23680">Text: role: beneficiary context: The United States quickly became the Southeast Asian country’s main weapons supplier, and annual arms * sales * peaked at US$400 million in the 1980s.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who benefits from the transaction?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：受益人背景：美国迅速成为东南亚国家的主要武器供应国，年武器销售额在20世纪80年代达到峰值4亿美元。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁从交易中受益？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: Since then some in the Bush administration _ particularly Deputy Defense Secretary Paul Wolfowitz, a former ambassador to Jakarta and a prime architect of the Iraq * war * _ have pushed for the ban to be repealed.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：目标背景：此后，布什政府中的一些人，特别是国防部副部长保罗·沃尔福威茨（Paul Wolfowitz）、前驻雅加达大使和伊拉克*战争*的主要策划者，一直在推动废除该禁令。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: Currently, Indonesia uses short-range Rapier missiles purchased 30 years ago to protect its vital oil and natural gas fields in Sumatra, Borneo and Papua from air * attack *.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：目标背景：目前，印度尼西亚使用30年前购买的短程剑杆导弹来保护其位于苏门答腊岛、婆罗洲和巴布亚的重要石油和天然气田免受空中*攻击*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: seller context: These problems multiplied when the New England chain Stop n’ Shop * acquired * Giant.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who is the selling agent?</span></p>
<p><span style="background-color: #5fb23680">文本： 角色： 卖家 背景： 当新英格兰连锁店 Stop n’ Shop * 收购 * Giant 时，这些问题更加严重。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 销售代理是谁？</span></p>
<p><span style="background-color: #ff666680">Text: role: person context: Who are they, and why do you think they should be * appointed *?</span></p>
<p><span style="background-color: #ff666680">Generated Question: Who is the employee?</span></p>
<p><span style="background-color: #ff666680">文本：角色：人物背景：他们是谁，您为什么认为他们应该被“任命”？</span></p>
<p><span style="background-color: #ff666680">生成的问题： 员工是谁？</span></p>
<p><span style="background-color: #ff666680">Text: role: place context: Where’s he * going * to Commerce?</span></p>
<p><span style="background-color: #ff666680">Generated Question: Where did the employment relationship begin?</span></p>
<p><span style="background-color: #ff666680">文本：角色：地点上下文：他* 要去* 商务部哪里？</span></p>
<p><span style="background-color: #ff666680">生成的问题：雇佣关系从哪里开始？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: President Bush points this way today, even the most frivolous of * lawsuits * cost money, premiums go up and either way, the patient pays.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the suit take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：布什总统今天指出，即使是最琐碎的*诉讼*也要花钱，保费会上涨，无论哪种方式，患者都会付出代价。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：诉讼发生在哪里？</span></p>
<p><span style="background-color: #ffd40080">Text: role: entity context: If there are any bad doctors we want them * removed * from the practice of medicine.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Who fired employee?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：实体上下文：如果有任何坏医生，我们希望他们从医学实践中“移除”。</span></p>
<p><span style="background-color: #ffd40080">生成的问题：谁解雇了员工？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: NADER Doctors are * leaving * practice because of insurance premium, right?</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the employment relationship end?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点上下文：NADER 医生因为保险费而“离开”诊所，对吗？</span></p>
<p><span style="background-color: #5fb23680">生成的问题：雇佣关系在哪里结束？</span></p>
<p><span style="background-color: #ffd40080">Text: role: place context: BUSH If harmed by a doc, they ought to be able to * recover * their economic costs, economic losses.</span></p>
<p><span style="background-color: #ffd40080">Generated Question: Where was the amount transferred?</span></p>
<p><span style="background-color: #ffd40080">文本：角色：地点背景：布什如果受到医生的伤害，他们应该能够*收回*他们的经济成本、经济损失。</span></p>
<p><span style="background-color: #ffd40080">生成的问题： 转账金额到哪里了？</span></p>
<p><span style="background-color: #e56eee80">Text: role: artifact context: Nine scanners, developed locally for military purposes, were placed at Singapore’s Changi Airport last week to check people * arriving * from SARS-affected countries.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who was transported from countries?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：文物背景：上周，新加坡樟宜机场放置了九台本地开发的用于军事目的的扫描仪，用于检查从受 SARS 影响的国家抵达的人员。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：谁是从其他国家被运送过来的？</span></p>
<p><span style="background-color: #5fb23680">Text: role: vehicle context: Any person found to be * entering * Singapore with a high temperature would be directed to a nearby nurse station for further checks.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What vehicle was used for transporting?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：车辆背景：任何被发现*进入*新加坡并伴有高温的人将被引导到附近的护士站进行进一步检查。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 使用什么车辆进行运输？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: Immigration and Checkpoints Authority spokeswoman Ngoon Pei Ling said during the trial period the scanners would be placed at bus checkpoints, where passengers are already required to * disembark * for immigration purposes.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who is responsible for the transport event?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：代理人背景：移民和检查站管理局发言人 Ngoon Pei Ling 表示，在试用期间，扫描仪将放置在公交车检查站，乘客已经被要求“下车”以进行移民。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁负责运输事件？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Do you think Arafat’s * death * will help or hurt the Israeli-Palestinian peace process?</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the death take place?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：地点背景：您认为阿拉法特*之死*将有助于还是损害以巴和平进程？</span></p>
<p><span style="background-color: #5fb23680">生成的问题：死亡发生在哪里？</span></p>
<p><span style="background-color: #e56eee80">Text: role: instrument context: In which, the state of Israel buys – many expensive military weapons, ah, which is used to – oppress and – to * kill * a lot of Palestinians.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: What device was used to kill Palestinians?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：工具背景：其中，以色列国购买了许多昂贵的军事武器，啊，这些武器用于压迫和杀死许多巴勒斯坦人。</span></p>
<p><span style="background-color: #e56eee80">生成的问题： 使用什么装置来杀害巴勒斯坦人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: WOODRUFF We know that some of the American troops now * fighting * in Iraq are longtime veterans of warfare, probably not most, but some.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：WOODRUFF 我们知道，现在在伊拉克*作战*的一些美国军队是长期参加战争的退伍军人，可能不是大多数，而是一些。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: There’s nothing very pretty about the training that you take to prepare you for * combat *, because it is to kill people.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：为*战斗*做准备而进行的训练并没有什么好看的，因为它是为了杀人。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: victim context: (on camera): Did you at the time or have you since looked back and pondered on * killing * someone?</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was killed?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：受害者背景：（镜头前）：您当时或之后是否回过头来思考*杀死*某人？</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被杀了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: victim context: But I didn’t know * it * was going to bother me as much as it did.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was killed?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：受害者背景：但我不知道 * 它 * 会像它那样困扰我。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被杀了？</span></p>
<p><span style="background-color: #e56eee80">Text: role: victim context: Sergeant Chuck Hagel was seriously * wounded * twice in Vietnam.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who was harmed in Vietnam?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：受害者背景：查克·哈格尔中士在越南两次受重伤。</span></p>
<p><span style="background-color: #e56eee80">生成的问题：谁在越南受到伤害？</span></p>
<p><span style="background-color: #5fb23680">Text: role: victim context: CROWLEY Training is what keeps you running toward the front while trucks loaded with * dead * bodies pass you, going the other way.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was killed?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：受害者背景：CROWLEY 训练可以让你跑到前面，而装载*尸体*的卡车却从你身边经过，朝相反的方向行驶。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁被杀了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: attacker context: Rangel, Cunningham, Ridge and Hagel are all proud, decorated * combat * veterans.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the attacking agent?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：攻击者背景：兰格尔、坎宁安、里奇和哈格尔都是骄傲的、装饰*战斗*的退伍军人。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击者？</span></p>
<p><span style="background-color: #5fb23680">Text: role: entity context: If they are interested in setting up a * meeting * then have them contact me at 979-777-6445 or at <a href="mailto:&#x6c;&#x61;&#x75;&#114;&#111;&#x75;&#x73;&#101;&#x2e;&#46;&#x2e;&#x40;&#121;&#97;&#104;&#111;&#111;&#46;&#99;&#111;&#x6d;">&#x6c;&#x61;&#x75;&#114;&#111;&#x75;&#x73;&#101;&#x2e;&#46;&#x2e;&#x40;&#121;&#97;&#104;&#111;&#111;&#46;&#99;&#111;&#x6d;</a> and I will send the info to Tori, or have them contact Tori Foster to set up a time.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who met with others?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：实体上下文：如果他们有兴趣建立 * 会议 *，请让他们通过 979-777-6445 或 <a href="mailto:&#x6c;&#x61;&#117;&#x72;&#111;&#117;&#115;&#101;&#x2e;&#46;&#46;&#64;&#x79;&#x61;&#x68;&#111;&#111;&#x2e;&#99;&#111;&#109;">&#x6c;&#x61;&#117;&#x72;&#111;&#117;&#115;&#101;&#x2e;&#46;&#46;&#64;&#x79;&#x61;&#x68;&#111;&#111;&#x2e;&#99;&#111;&#109;</a> 与我联系，我会将信息发送给 Tori， 或者让他们联系 Tori Foster 安排时间。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁见过其他人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Iraq, however, took the report as an endorsement of its work and argued not only that * war * plans should be canceled, but that sanctions imposed on it by the Security Council for its 1990 invasion of Kuwait should be removed.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the attack take place?0</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点 背景：然而，伊拉克将该报告视为对其工作的认可，并认为不仅应取消*战争*计划，而且还认为安理会因其1990年入侵伊拉克而对其实施制裁。 科威特应该被删除。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: origin context: Inspectors also * returned * to a former helicopter airfield where Iraq buried bombs it says were armed with biological weapons in 1991.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the transporting originate?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：起源背景：检查人员还*返回*一个前直升机机场，伊拉克1991年在那里埋藏了炸弹，据称这些炸弹配备了生物武器。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：运输起源于哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: entity context: But some Shiite Muslim groups boycotted the * meeting * and thousands protested nearby.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who met with others?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：实体背景：但一些什叶派穆斯林团体抵制*会议*，数千人在附近抗议。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁见过其他人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: entity context: The * meeting * concluded with the delegates voting by show of hands to meet again in 10 days.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who met with others?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：实体上下文：* 会议* 结束，代表们通过举手表决决定在 10 天内再次举行会议。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁见过其他人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: entity context: Tuesday’s * meeting * was the first step toward that goal after the ouster of Saddam.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who met with others?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：实体上下文：周二的*会议*是萨达姆被推翻后朝着这一目标迈出的第一步。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁见过其他人？</span></p>
<p><span style="background-color: #e56eee80">Text: role: artifact context: Chalabi was the first top Iraqi opposition leader to be * airlifted * by the U.S. military into southern Iraq as the fighting wound down, and he and other top members of his group plan to meet soon in Baghdad. U.S. officials said Chalabi was brought in because he offered forces to the coalition.</span></p>
<p><span style="background-color: #e56eee80">Generated Question: Who was transported to Iraq by military?</span></p>
<p><span style="background-color: #e56eee80">文本：角色：神器背景：随着战斗的结束，沙拉比是第一位被美军空运到伊拉克南部的伊拉克反对派高级领导人，他和他的组织的其他高级成员计划很快在巴格达会面 。 美国官员表示，查拉比被引进是因为他向联军提供了部队。</span></p>
<p><span style="background-color: #e56eee80">生成的问题： 谁被军队运送到伊拉克？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Neither Chalabi nor many other leaders of anti-Saddam groups * attended * Tuesday’s meeting, but they sent delegates.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the meeting takes place?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：地点背景：查拉比和许多其他反萨达姆团体的领导人都没有出席周二的会议，但他们派出了代表。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：会议在哪里举行？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: i wasn’t in a position that my dear friend was in when he was * killed * outside bagdad airport but i had long thought and i was in iraq in the previous war that really all the talk that had been about the rush to war, the push for war, the drive for war, all that propaganda, was essentially nonsensical because in 1990, saddam hussein made the only self criticism.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What device was used to kill?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：仪器背景：当我亲爱的朋友在巴格达机场外被杀时，我并没有处于他所处的位置，但我长期以来一直认为，我在上一场战争中在伊拉克，这真的是所有的谈话 那些关于仓促发动战争、推动战争、推动战争的宣传，本质上是荒谬的，因为萨达姆·侯赛因在1990年做了唯一的自我批评。</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 使用什么设备进行杀人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: instrument context: i wasn’t in a position that my dear friend was in when he was killed outside bagdad airport but i had long thought and i was in iraq in the previous war that really all the talk that had been about the rush to war, the push for war, the drive for * war *, all that propaganda, was essentially nonsensical because in 1990, saddam hussein made the only self criticism.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: What instrument was used in the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：工具背景：当我亲爱的朋友在巴格达机场外被杀时，我并没有处于他所处的位置，但我一直在想，而且我在上一场战争中在伊拉克，这确实是所有关于的话题 急于发动战争、推动战争、推动“战争”，所有这些宣传本质上都是荒谬的，因为萨达姆·侯赛因在1990年做了唯一的自我批评。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击中使用了什么工具？</span></p>
<p><span style="background-color: #5fb23680">Text: role: entity context: the little town i was in this southern iraq, as far as i got, i can’t boast of further, is where the * talks * took place.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who met with others?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：实体上下文：据我所知，我在伊拉克南部的那个小镇，我无法进一步夸耀，它就是 * 会谈 * 发生的地方。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁见过其他人？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: who have been horribly * murdered * and tortured and reduced to misery since by a half application of violence through sanctions and overflights.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the death take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：自从一半通过制裁和飞越使用暴力以来，他们遭到可怕的*谋杀*和酷刑，并陷入痛苦。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：死亡发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: entity context: 2005-01-05T16:32:00 Much like the “I told you so’s” everyone is throwing at the UGA basketball program after their hiring and subsequent * firing * of The Harricks, folks around the Buckeye state have to be having similar thoughts.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who fired employee?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：实体上下文：2005-01-05T16:32:00 就像“我告诉过你是这样的”，每个人在雇用哈里克夫妇并随后*解雇*后都向佐治亚大学篮球计划扔东西，周围的人 七叶树州也一定有类似的想法。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁解雇了员工？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Of course, it was discovered that his men’s basketball coach had directly * given * six grand to a Yugoslavian recruit, but that was just his stipend for travel and coach Jim O’Brien was just having a problem with the currency exchange rates…right Andy?</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where was the amount transferred?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：地点背景：当然，人们发现他的男篮教练直接给了一名南斯拉夫新兵*六块钱，但这只是他的旅行津贴，而教练吉姆·奥布莱恩只是在 货币汇率问题……对安迪吗？</span></p>
<p><span style="background-color: #5fb23680">生成的问题： 转账金额到哪里了？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: He looked for the gunshot wounds for the knife * stabbing *, and there is no injury whatsoever.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the attack take place?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：地点背景：他寻找刀*刺伤*的枪伤，没有任何伤害。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：攻击发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: QUESTION If those weren’t gunshot wounds to cause the broken bones, do they know what caused the * fractures *?</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the injuring take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：问题如果这些不是枪伤导致骨折，他们知道是什么导致*骨折*吗？</span></p>
<p><span style="background-color: #5fb23680">生成的问题：受伤发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: target context: ozzy’s wife reportedly got into a * fight * with hollywood agent renee tab.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the target of the attack?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：目标背景：据报道，奥兹的妻子与好莱坞经纪人蕾妮·塔布发生了*争吵*。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：谁是攻击的目标？</span></p>
<p><span style="background-color: #5fb23680">Text: role: agent context: The submarine was on an exercise when the accident occurred, and because of a mechanical malfunction, the 70 crew members on board * died *,’’ the Xinhua report said.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Who was the killer?</span></p>
<p><span style="background-color: #5fb23680">文字：角色：特工背景：事故发生时该潜艇正在演习，由于机械故障，船上70名船员*死亡*，”新华社报道称。</span></p>
<p><span style="background-color: #5fb23680">产生的问题：谁是凶手？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: There have been rumors going around about the loss of submarines, but this is the first * fatal * accident that I know of,’’ said Cole.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the death take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：一直有关于潜艇损失的谣言，但这是我所知道的第一起“致命”事故，”科尔说。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：死亡发生在哪里？</span></p>
<p><span style="background-color: #5fb23680">Text: role: place context: Cole said the * loss * of all hands suggested the vessel was flooded or sank because of a collision or engineering problem.</span></p>
<p><span style="background-color: #5fb23680">Generated Question: Where did the death take place?</span></p>
<p><span style="background-color: #5fb23680">文本：角色：地点背景：科尔表示，所有人员的*损失*表明该船因碰撞或工程问题而被淹没或沉没。</span></p>
<p><span style="background-color: #5fb23680">生成的问题：死亡发生在哪里？</span></p>
<h2 id="4-3-t5-arg-predictions"><a href="#4-3-t5-arg-predictions" class="headerlink" title="4.3 t5_arg_predictions"></a>4.3 t5_arg_predictions</h2><h2 id="4-4-evaluate-e2e-predicted-triggers-t5"><a href="#4-4-evaluate-e2e-predicted-triggers-t5" class="headerlink" title="4.4 evaluate_e2e_predicted_triggers_t5"></a>4.4 evaluate_e2e_predicted_triggers_t5</h2><h1 id="5-结论"><a href="#5-结论" class="headerlink" title="5. 结论"></a>5. 结论</h1><ul>
<li><strong>模板局限性</strong>：非常模板化，好像没有论文中提到的山丘与地点的具象</li>
<li><strong>其他部分</strong>：相较于整个问答系统来说，问题生成的质量，或者说问题生成导致的错误示例仅是一部分，问题回答也有</li>
<li><strong>事件背景信息</strong>：事件背景信息编码到生成的问题可能优于设计的动态模板</li>
<li><strong>90%是模板（模板错用、不同触发器用同一个模板），完全错误（提问不相干，可能是模板选错）、少量包含上下文信息的10左右，1条非常完美与论文符合。</strong></li>
</ul>
<h1 id="6-改进"><a href="#6-改进" class="headerlink" title="6. 改进"></a>6. 改进</h1><p>一共有三个大语言模型，命名实体识别模型为事件参数提取模型提供了基础信息，帮助构建更好的模板，进而更好的事件参数提取</p>
<p><img src="/../imgs/$%7Bfiilename%7D/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91-%E6%AF%95%E8%AE%BE.drawio.png" class="lazyload placeholder" data-srcset="/../imgs/$%7Bfiilename%7D/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91-%E6%AF%95%E8%AE%BE.drawio.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="软件开发-毕设.drawio"></p>
<h1 id="1-代码功能标注"><a href="#1-代码功能标注" class="headerlink" title="1.代码功能标注"></a>1.代码功能标注</h1><h2 id="1-1-load-py"><a href="#1-1-load-py" class="headerlink" title="1.1 load.py"></a>1.1 load.py</h2><h3 id="1-1-1-class-AceExample-object"><a href="#1-1-1-class-AceExample-object" class="headerlink" title="1.1.1 class AceExample(object)"></a>1.1.1 class AceExample(object)</h3><p>这段代码定义了一个名为AceExample的类，用于表示ACE数据集中的单个训练&#x2F;测试样本。让我们逐句分析其作用：</p>
<ol>
<li><p><code>class AceExample(object):</code></p>
<ul>
<li>定义了一个名为AceExample的类，用于表示ACE数据集中的单个训练&#x2F;测试样本。</li>
</ul>
</li>
<li><p><code>def __init__(self, sentence, events, s_start, tokens, trigger_label, char_offset):</code></p>
<ul>
<li>定义了该类的初始化方法（构造函数），用于初始化类的实例（对象）。</li>
<li>方法参数包括sentence, events, s_start, tokens, trigger_label, char_offset等属性，用于接收训练&#x2F;测试样本的各个属性值。</li>
</ul>
</li>
<li><p><code>self.sentence = sentence</code></p>
<ul>
<li>将传入的sentence参数赋值给类的实例变量self.sentence。</li>
</ul>
</li>
<li><p><code>self.events = events</code></p>
<ul>
<li>将传入的events参数赋值给类的实例变量self.events。</li>
</ul>
</li>
<li><p><code>self.s_start = s_start</code></p>
<ul>
<li>将传入的s_start参数赋值给类的实例变量self.s_start。</li>
</ul>
</li>
<li><p><code>self.tokens = tokens</code></p>
<ul>
<li>将传入的tokens参数赋值给类的实例变量self.tokens。</li>
</ul>
</li>
<li><p><code>self.trigger_label = trigger_label</code></p>
<ul>
<li>将传入的trigger_label参数赋值给类的实例变量self.trigger_label。</li>
</ul>
</li>
<li><p><code>self.char_offset = char_offset</code></p>
<ul>
<li>将传入的char_offset参数赋值给类的实例变量self.char_offset。</li>
</ul>
</li>
<li><p><code>def __str__(self):</code></p>
<ul>
<li>定义了该类的__str__方法，用于返回对象的字符串表达形式。</li>
<li>在这里，调用了__repr__方法来实现具体的字符串表达形式。</li>
</ul>
</li>
<li><p><code>def __repr__(self):</code></p>
</li>
</ol>
<ul>
<li>定义了该类的__repr__方法，用于返回对象的规范字符串表示形式。</li>
<li>在这里，根据对象的属性值构建了一个字符串表示，并返回该字符串。</li>
</ul>
<p>这段代码定义了一个用于存储ACE数据集中单个训练&#x2F;测试样本的类，通过初始化方法将属性值赋予类的实例变量，并提供了字符串表示形式的方法，便于对样本进行输出和展示。</p>
<h3 id="1-1-2-class-InputFeatures-trigger-object"><a href="#1-1-2-class-InputFeatures-trigger-object" class="headerlink" title="1.1.2 class InputFeatures_trigger(object)"></a>1.1.2 class InputFeatures_trigger(object)</h3><p>这段代码定义了一个名为InputFeatures_trigger的类，该类用于表示数据的单个特征集合。</p>
<ol>
<li><p><code>class InputFeatures_trigger(object):</code></p>
<ul>
<li>定义了一个名为InputFeatures_trigger的类，它是一个对象类（object）。这个类用于表示数据的特征集合。</li>
</ul>
</li>
<li><p><code>def __init__(self, example_id, tokens, input_ids, segment_ids, mask_ids, labels, trigger_masks, sub_type):</code></p>
<ul>
<li>定义了该类的初始化方法（构造函数），用于初始化类的实例（对象）。</li>
<li>方法参数包括example_id, tokens, input_ids, segment_ids, mask_ids, labels, trigger_masks, sub_type等属性，用于接收特征集合的各个属性值。</li>
</ul>
</li>
<li><p><code>self.example_id = example_id</code></p>
<ul>
<li>将传入的example_id参数赋值给类的实例变量self.example_id。</li>
</ul>
</li>
<li><p><code>self.tokens = tokens</code></p>
<ul>
<li>将传入的tokens参数赋值给类的实例变量self.tokens。</li>
</ul>
</li>
<li><p><code>self.input_ids = input_ids</code></p>
<ul>
<li>将传入的input_ids参数赋值给类的实例变量self.input_ids。</li>
</ul>
</li>
<li><p><code>self.mask_ids = mask_ids</code></p>
<ul>
<li>将传入的mask_ids参数赋值给类的实例变量self.mask_ids。</li>
</ul>
</li>
<li><p><code>self.segment_ids = segment_ids</code></p>
<ul>
<li>将传入的segment_ids参数赋值给类的实例变量self.segment_ids。</li>
</ul>
</li>
<li><p><code>self.trigger_masks = trigger_masks</code></p>
<ul>
<li>将传入的trigger_masks参数赋值给类的实例变量self.trigger_masks。</li>
</ul>
</li>
<li><p><code>self.sub_type = sub_type</code></p>
<ul>
<li>将传入的sub_type参数赋值给类的实例变量self.sub_type。</li>
</ul>
</li>
<li><p><code>self.labels = labels</code></p>
<ul>
<li>将传入的labels参数赋值给类的实例变量self.labels。</li>
</ul>
</li>
</ol>
<p>这段代码定义了一个用于存储特征集合的类，通过初始化方法将特征集合的各个属性值赋予类的实例变量，使得可以方便地对特征集合进行存储和管理。</p>
<h3 id="1-1-3-class-InputFeatures-arg-t5-object"><a href="#1-1-3-class-InputFeatures-arg-t5-object" class="headerlink" title="1.1.3 class InputFeatures_arg_t5(object)"></a>1.1.3 class InputFeatures_arg_t5(object)</h3><h4 id="1-1-3-1-def-load-template-t5-input-doc"><a href="#1-1-3-1-def-load-template-t5-input-doc" class="headerlink" title="1.1.3.1 def load_template_t5(input_doc)"></a>1.1.3.1 def load_template_t5(input_doc)</h4><p>这段代码是一个函数，名为load_template_t5，用于加载ACE数据集的动态模板。让我逐步解释它的作用：</p>
<ol>
<li><p><code>def load_template_t5(input_doc):</code></p>
<ul>
<li>定义了一个函数load_template_t5，接受一个名为input_doc的参数，该参数是用于指定ACE数据集的输入文档。</li>
</ul>
</li>
<li><p><code>data_dic = &#123;&#125;</code></p>
<ul>
<li>创建了一个空字典data_dic，用于存储加载的动态模板数据。</li>
</ul>
</li>
<li><p><code>main_type = None</code>和<code>sub_type = None</code></p>
<ul>
<li>初始化了main_type和sub_type两个变量为None。</li>
</ul>
</li>
<li><p><code>with open(input_doc) as fd:</code></p>
<ul>
<li>打开指定的输入文档，并使用文件句柄fd来操作文件内容。</li>
</ul>
</li>
<li><p><code>rd = csv.reader(fd, delimiter=&quot;\t&quot;, quotechar=&#39;&quot;&#39;)</code></p>
<ul>
<li>使用csv模块创建了一个CSV文件读取器rd，指定了分隔符为制表符”\t”，引用字符为双引号’”‘。</li>
</ul>
</li>
<li><p><code>for row in rd:</code></p>
<ul>
<li>对读取器rd中的每一行进行迭代。</li>
</ul>
</li>
<li><p><code>if rd_index == 0: ... continue</code></p>
<ul>
<li>如果当前行是第一行（索引为0），则跳过该行（continue），因为这一行通常是标题行，不包含有效数据。</li>
</ul>
</li>
<li><p><code>if row[0].strip() != &quot;&quot;: ...</code></p>
<ul>
<li>如果当前行的第一个单元格不为空（去除首尾空白后），则将其作为main_type，创建一个对应的空字典，并将其加入data_dic中。</li>
</ul>
</li>
<li><p><code>if row[1].strip() != &quot;&quot;: ...</code></p>
<ul>
<li>如果当前行的第二个单元格不为空（去除首尾空白后），则将其作为sub_type，创建一个对应的空字典，并将其加入data_dic[main_type]中。</li>
</ul>
</li>
<li><p>接下来的代码段落主要是根据输入文档中的内容，构建了一个嵌套的字典数据结构，用于存储ACE数据集中的动态模板信息，包括角色、问题等。</p>
</li>
<li><p>最后，函数返回了整理好的data_dic字典数据，其中包含了从输入文档中加载的动态模板信息。</p>
</li>
</ol>
<p>总的来说，这段代码的作用是从指定的输入文档中加载ACE数据集的动态模板信息，并以字典的形式返回整理好的数据结构。</p>
<h4 id="1-1-3-2-def-load-sentences-path"><a href="#1-1-3-2-def-load-sentences-path" class="headerlink" title="1.1.3.2 def load_sentences(path)"></a>1.1.3.2 def load_sentences(path)</h4><p>这段代码定义了一个函数load_sentences，用于加载ACE数据集中的句子信息。让我逐步解释它的作用：</p>
<ol>
<li><p><code>def load_sentences(path):</code></p>
<ul>
<li>定义了一个函数load_sentences，接受一个名为path的参数，该参数是用于指定ACE数据集句子信息文件的路径。</li>
</ul>
</li>
<li><p><code>examples = []</code></p>
<ul>
<li>创建了一个空列表examples，用于存储加载的句子信息。</li>
</ul>
</li>
<li><p><code>with open(path) as f:</code></p>
<ul>
<li>打开指定的句子信息文件，并使用文件句柄f来操作文件内容。</li>
</ul>
</li>
<li><p><code>lines = f.readlines()</code></p>
<ul>
<li>使用readlines()方法读取文件中的所有行，并将其存储在列表lines中。</li>
</ul>
</li>
<li><p><code>for line in lines:</code></p>
<ul>
<li>对lines列表中的每一行进行迭代。</li>
</ul>
</li>
<li><p><code>line = json.loads(line)</code></p>
<ul>
<li>将当前行解析为JSON格式，并将解析结果存储在变量line中。</li>
</ul>
</li>
<li><p>提取line中的相关字段，包括token_list、s_start和events等。</p>
</li>
<li><p>根据line中是否包含”tokens”字段判断是否存在更详细的标记信息，如果存在，则提取tokens、trigger_label和char_offset字段。</p>
</li>
<li><p>创建AceExample对象example，将从line中提取的信息作为参数传递给构造函数。</p>
</li>
<li><p>将example添加到examples列表中。</p>
</li>
<li><p>最后，函数返回整理好的examples列表，其中包含了从句子信息文件中加载的句子信息。</p>
</li>
</ol>
<p>总的来说，这段代码的作用是从指定的句子信息文件中加载ACE数据集的句子信息，并将其整理为AceExample对象的列表形式返回。</p>
<h4 id="1-1-3-3-def-convert-examples-to-features-sequence"><a href="#1-1-3-3-def-convert-examples-to-features-sequence" class="headerlink" title="1.1.3.3 def convert_examples_to_features_sequence()"></a>1.1.3.3 def convert_examples_to_features_sequence()</h4><p>这段代码定义了一个函数convert_examples_to_features_sequence，用于将ACE数据集中的句子信息转换为模型的输入特征。让我逐步解释它的作用：</p>
<ol>
<li><p><code>def convert_examples_to_features_sequence(examples, tokenizer, category_to_index, lower_case=False):</code></p>
<ul>
<li>定义了一个函数convert_examples_to_features_sequence，接受四个参数，分别是AceExample对象的列表examples、tokenizer、分类到索引的字典category_to_index和是否将单词转换为小写的标志lower_case。</li>
</ul>
</li>
<li><p>创建了一些空列表和变量，用于存储特征。</p>
</li>
<li><p>对于每个从ACE数据集中读取的例子，将其tokens和trigger_label提取出来。</p>
</li>
<li><p>创建一个空字典offset_category，并在其中存储所有非”O”标签的偏移量和标签对应的映射关系。</p>
</li>
<li><p>初始化tokens、segment_ids、mask_ids、labels和trigger_masks等列表。</p>
</li>
<li><p>将[CLS]标记添加到tokens列表中，并将其对应的segment_id设置为0，mask_id设置为1，label设置为-100，trigger_mask设置为0。</p>
</li>
<li><p>对于原始tokens中的每个单词，如果设置了lower_case标志，则将其转换为小写。</p>
</li>
<li><p>使用tokenizer.tokenize()方法将单词拆分为子单词，并迭代每个子单词。</p>
</li>
<li><p>将子单词添加到tokens列表中，并在segment_ids列表中加入0，在mask_ids列表中加入1。</p>
</li>
<li><p>如果当前子单词是当前单词的第一个子单词，将trigger_masks列表中对应的位置标记为1。</p>
</li>
<li><p>如果当前单词的偏移量在offest_category字典中，则将其对应的标签添加到labels列表中；否则，将0添加到labels列表中。</p>
</li>
<li><p>如果当前子单词不是当前单词的第一个子单词，则在trigger_masks列表中对应的位置设置为0，并将-100添加到labels列表中。</p>
</li>
<li><p>将[SEP]标记添加到tokens列表中，并将其对应的segment_id设置为0，mask_id设置为1，label设置为-100，trigger_mask设置为0。</p>
</li>
<li><p>将tokens列表中的子单词转换为input_ids列表中的数字ID。</p>
</li>
<li><p>将input_ids、segment_ids、mask_ids、labels、trigger_masks和feature_index等信息添加到对应的列表中。</p>
</li>
<li><p>创建一个InputFeatures_trigger对象one_feature，并将从上述步骤中提取的特征作为参数传递给其构造函数。</p>
</li>
<li><p>将one_feature添加到features列表中，并将feature_index加1。</p>
</li>
<li><p>将所有特征列表all_input_ids、all_segment_ids、all_mask_ids、all_labels、all_feature_index和all_trigger_masks作为参数传递给Event_trigger_dataset对象的构造函数，创建一个BucketDataset类型的数据集bucket_dataset。</p>
</li>
<li><p>函数返回bucket_dataset和features两个结果。</p>
</li>
</ol>
<p>总的来说，这段代码的作用是将ACE数据集中的句子信息转换为模型的输入特征并打包成数据集bucket_dataset的形式返回。</p>
<h4 id="1-1-3-4-def-normalize-ace-arg-arg-role-event-type"><a href="#1-1-3-4-def-normalize-ace-arg-arg-role-event-type" class="headerlink" title="1.1.3.4 def normalize_ace_arg(arg_role, event_type)"></a>1.1.3.4 def normalize_ace_arg(arg_role, event_type)</h4><p>这段代码定义了一个函数normalize_ace_arg，用于修正ACE数据集中的论证角色（argument role）的不一致问题。让我逐步解释它的作用：</p>
<ol>
<li><p><code>def normalize_ace_arg(arg_role, event_type):</code></p>
<ul>
<li>定义了一个函数normalize_ace_arg，接受两个参数，分别是论证角色arg_role和事件类型event_type。</li>
</ul>
</li>
<li><p>对于每个事件类型，根据特定的条件修正对应的论证角色。具体的修正规则如下：</p>
<ul>
<li>如果事件类型是”Personnel.Elect”且论证角色是”Entity”，则将论证角色修正为”Agent”。</li>
<li>如果事件类型是”Justice.Appeal”且论证角色是”Plaintiff”，则将论证角色修正为”Defendant”。</li>
<li>如果事件类型是”Life.Die”且论证角色是”Person”，则将论证角色修正为”Victim”。</li>
<li>如果事件类型是”Conflict.Attack”且论证角色是”Victim”，则将论证角色修正为”Target”。</li>
<li>如果事件类型是”Conflict.Attack”且论证角色是”Agent”，则将论证角色修正为”Attacker”。</li>
<li>如果事件类型是”Movement.Transport”且论证角色是”Victim”，则将论证角色修正为”Artifact”。</li>
<li>如果事件类型是”Movement.Transport”且论证角色是”Place”，则将论证角色修正为”Destination”。</li>
</ul>
</li>
<li><p>返回修正后的论证角色。</p>
</li>
</ol>
<p>总的来说，这段代码的作用是根据ACE数据集中的事件类型和论证角色，修正不一致的论证角色标注，并返回修正后的论证角色。</p>
<h4 id="1-1-3-5-def-is-whitespace-c"><a href="#1-1-3-5-def-is-whitespace-c" class="headerlink" title="1.1.3.5 def is_whitespace(c)"></a>1.1.3.5 def is_whitespace(c)</h4><p>这段代码定义了一个函数is_whitespace，用于判断给定的字符是否为空白字符。让我逐步解释它的作用：</p>
<ol>
<li><p><code>def is_whitespace(c):</code></p>
<ul>
<li>定义了一个函数is_whitespace，接受一个参数c，即待判断的字符。</li>
</ul>
</li>
<li><p>使用条件语句判断字符c是否为空白字符。</p>
<ul>
<li>如果字符c是空格、制表符、回车符、换行符或特定Unicode码点（0x202F）表示的空白字符，则返回True。</li>
<li>否则，返回False。</li>
</ul>
</li>
</ol>
<p>总的来说，这段代码的作用是判断给定的字符是否为空白字符，如果是则返回True，否则返回False。</p>
<h4 id="1-1-3-6-def-my-collate-trigger-train-batch"><a href="#1-1-3-6-def-my-collate-trigger-train-batch" class="headerlink" title="1.1.3.6 def my_collate_trigger_train(batch)"></a>1.1.3.6 def my_collate_trigger_train(batch)</h4><p>这段代码定义了一个函数my_collate_trigger_train，用于对触发词训练数据进行批处理的操作。让我逐步解释它的作用：</p>
<ol>
<li><p>初始化一些空列表和变量：</p>
<ul>
<li>list_input_ids：用于存储输入的token id序列。</li>
<li>list_token_type_ids：用于存储token的类型id序列。</li>
<li>list_attention_masks：用于存储attention mask序列。</li>
<li>list_trigger_labels：用于存储触发词标签序列。</li>
<li>list_sentence_id：用于存储句子id序列。</li>
<li>list_trigger_masks：用于存储触发词mask序列。</li>
<li>max_len：用于记录当前batch中最长的输入序列长度。</li>
</ul>
</li>
<li><p>遍历batch中的每个样本，并进行以下操作：</p>
<ul>
<li>获取样本的输入序列input_ids和当前长度cur_len。</li>
<li>将input_ids补齐到最长长度max_len，并添加到list_input_ids中。</li>
<li>将样本的token类型序列token_type_ids补齐到最长长度max_len，并添加到list_token_type_ids中。</li>
<li>将样本的attention mask序列attention_masks补齐到最长长度max_len，并添加到list_attention_masks中。</li>
<li>将样本的触发词标签序列trigger_labels补齐到最长长度max_len，并添加到list_trigger_labels中。</li>
<li>将样本的句子id添加到list_sentence_id中。</li>
<li>将样本的触发词mask序列trigger_masks补齐到最长长度max_len，并添加到list_trigger_masks中。</li>
</ul>
</li>
<li><p>将列表转换为PyTorch的Tensor张量：</p>
<ul>
<li>将list_input_ids转换为LongTensor类型，赋值给input_ids_tensor。</li>
<li>将list_token_type_ids转换为LongTensor类型，赋值给token_type_ids_tensor。</li>
<li>将list_attention_masks转换为LongTensor类型，赋值给attention_masks_tensor。</li>
<li>将list_trigger_labels转换为LongTensor类型，赋值给trigger_labels_tensor。</li>
<li>将list_trigger_masks转换为LongTensor类型，赋值给trigger_masks_tensor。</li>
<li>将list_sentence_id转换为LongTensor类型，赋值给sentence_id_tensor。</li>
</ul>
</li>
<li><p>返回批处理后的张量元组，顺序为：<br>input_ids_tensor,<br>trigger_labels_tensor,<br>attention_masks_tensor,<br>token_type_ids_tensor,<br>sentence_id_tensor,<br>trigger_masks_tensor</p>
</li>
</ol>
<p>总的来说，这段代码的作用是对触发词训练数据进行批处理，将输入序列、触发词标签、attention mask等转换为PyTorch的Tensor张量，并补齐序列长度到当前batch中最长的长度。返回的张量元组可以直接作为训练模型的输入。</p>
<h4 id="1-1-3-7-def-my-collate-qg-train-t5-batch"><a href="#1-1-3-7-def-my-collate-qg-train-t5-batch" class="headerlink" title="1.1.3.7 def my_collate_qg_train_t5(batch)"></a>1.1.3.7 def my_collate_qg_train_t5(batch)</h4><p>这段代码定义了一个函数my_collate_qg_train_t5，用于对T5模型的生成式问答训练数据进行批处理的操作。让我逐步解释它的作用：</p>
<ol>
<li><p>初始化一些空列表和变量：</p>
<ul>
<li>list_input_ids：用于存储输入的token id序列。</li>
<li>list_attention_masks：用于存储attention mask序列。</li>
<li>list_output_ids：用于存储输出的token id序列。</li>
<li>list_feature_idx：用于存储特征索引序列。</li>
<li>max_len_input：用于记录当前batch中最长的输入序列长度。</li>
<li>max_len_output：用于记录当前batch中最长的输出序列长度。</li>
</ul>
</li>
<li><p>遍历batch中的每个样本，并进行以下操作：</p>
<ul>
<li>获取样本的输入序列input_ids、attention mask序列和输出序列output_ids的长度cur_len_input、cur_len_output。</li>
<li>将input_ids补齐到最长长度max_len_input，并添加到list_input_ids中。</li>
<li>将attention mask序列补齐到最长长度max_len_input，并添加到list_attention_masks中。</li>
<li>将output_ids补齐到最长长度max_len_output，并添加到list_output_ids中。</li>
<li>将特征索引添加到list_feature_idx中。</li>
</ul>
</li>
<li><p>将列表转换为PyTorch的Tensor张量：</p>
<ul>
<li>将list_input_ids转换为LongTensor类型，赋值给input_ids_tensor。</li>
<li>将list_attention_masks转换为LongTensor类型，赋值给attention_masks_tensor。</li>
<li>将list_output_ids转换为LongTensor类型，赋值给output_ids_tensor。</li>
<li>将列表中值为0的元素设置为-100，用于T5模型的训练损失计算。</li>
<li>将list_feature_idx转换为LongTensor类型，赋值给feature_idx_tensor。</li>
</ul>
</li>
<li><p>返回批处理后的张量元组，顺序为：<br>input_ids_tensor,<br>attention_masks_tensor,<br>output_ids_tensor,<br>feature_idx_tensor</p>
</li>
</ol>
<p>总的来说，这段代码的作用是对T5模型的生成式问答训练数据进行批处理，将输入序列、输出序列、attention mask等转换为PyTorch的Tensor张量，并补齐序列长度到当前batch中最长的长度。返回的张量元组可以直接作为训练模型的输入。</p>
<h4 id="1-1-3-8-def-my-collate-qg-train-bart-batch"><a href="#1-1-3-8-def-my-collate-qg-train-bart-batch" class="headerlink" title="1.1.3.8 def my_collate_qg_train_bart(batch)"></a>1.1.3.8 def my_collate_qg_train_bart(batch)</h4><p>这段代码定义了一个函数my_collate_qg_train_bart，用于对BART模型的生成式问答训练数据进行批处理的操作。让我逐步解释它的作用：</p>
<ol>
<li><p>初始化一些空列表和变量：</p>
<ul>
<li>pad_id：定义了填充符的id。</li>
<li>list_input_ids：用于存储输入的token id序列。</li>
<li>list_attention_masks：用于存储attention mask序列。</li>
<li>list_output_ids：用于存储输出的token id序列。</li>
<li>list_feature_idx：用于存储特征索引序列。</li>
<li>max_len_input：用于记录当前batch中最长的输入序列长度。</li>
<li>max_len_output：用于记录当前batch中最长的输出序列长度。</li>
</ul>
</li>
<li><p>第一个遍历batch中的每个样本，并获取最长的输入序列长度max_len_input和输出序列长度max_len_output。</p>
</li>
<li><p>第二个遍历batch中的每个样本，并进行以下操作：</p>
<ul>
<li>获取样本的输入序列input_ids、attention mask序列和输出序列output_ids的长度cur_len_input、cur_len_output。</li>
<li>将input_ids补齐到最长长度max_len_input，并添加到list_input_ids中。</li>
<li>将attention mask序列补齐到最长长度max_len_input，并添加到list_attention_masks中。</li>
<li>将output_ids补齐到最长长度max_len_output，并添加到list_output_ids中。</li>
<li>将特征索引添加到list_feature_idx中。</li>
</ul>
</li>
<li><p>将列表转换为PyTorch的Tensor张量：</p>
<ul>
<li>将list_input_ids转换为LongTensor类型，赋值给input_ids_tensor。</li>
<li>将list_attention_masks转换为LongTensor类型，赋值给attention_masks_tensor。</li>
<li>将list_output_ids转换为LongTensor类型，赋值给output_ids_tensor。</li>
<li>将列表中值为0的元素设置为-100，用于BART模型的训练损失计算。</li>
<li>将list_feature_idx转换为LongTensor类型，赋值给feature_idx_tensor。</li>
</ul>
</li>
<li><p>返回批处理后的张量元组，顺序为：<br>input_ids_tensor,<br>attention_masks_tensor,<br>output_ids_tensor,<br>feature_idx_tensor</p>
</li>
</ol>
<p>总的来说，这段代码的作用是对BART模型的生成式问答训练数据进行批处理，将输入序列、输出序列、attention mask等转换为PyTorch的Tensor张量，并补齐序列长度到当前batch中最长的长度。返回的张量元组可以直接作为训练模型的输入。</p>
<h4 id="1-1-3-9-def-convert-examples-to-features-qg"><a href="#1-1-3-9-def-convert-examples-to-features-qg" class="headerlink" title="1.1.3.9 def convert_examples_to_features_qg()"></a>1.1.3.9 def convert_examples_to_features_qg()</h4><p>这段代码的作用是将输入的示例转换为特征，用于问题生成（Question Generation）任务。以下是代码的详细分析：</p>
<ol>
<li><p>代码定义了一个名为<code>convert_examples_to_features_qg</code>的函数，接受四个参数：<code>examples</code>（示例列表）、<code>tokenizer</code>（分词器）、<code>query_templates</code>（查询模板）、<code>lower_case</code>（是否转换为小写）。函数返回转换后的特征数据集。</p>
</li>
<li><p>初始化一些空列表，用于存储所有的输入ID、目标ID、掩码ID和特征索引。</p>
</li>
<li><p>使用两个嵌套的循环遍历示例列表中的每个示例及其事件。</p>
</li>
<li><p>获取事件类型、主要事件类型、子事件类型、触发词和参数。</p>
</li>
<li><p>根据查询模板中的配置，生成针对目标参数类型的查询。</p>
</li>
<li><p>初始化一个字典<code>query_dic</code>，用于存储查询。</p>
</li>
<li><p>遍历参数列表，获取其他参数角色，并将其添加到<code>other_role_set</code>中。</p>
</li>
<li><p>检查目标参数角色是否在事件中被提及。</p>
</li>
<li><p>调用<code>generate_questions_with_contextual_args</code>函数生成带有上下文参数的查询。</p>
</li>
<li><p>根据参数个数，使用不同的阈值调用<code>template_fill_in</code>函数填充模板查询。这部分代码被注释掉了，因此不会执行。</p>
</li>
<li><p>在查询字典中选择具有最多上下文参数的模板作为训练查询。如果目标参数角色未在示例中提及，则选择基本模板。</p>
</li>
<li><p>针对每个训练查询，构建目标文本和输入文本，并使用分词器对其进行编码。</p>
</li>
<li><p>将编码后的输入ID、掩码ID、目标ID和特征索引添加到相应的列表中。</p>
</li>
<li><p>创建一个<code>QG_dataset</code>对象，将所有的输入ID、掩码ID、目标ID和特征索引传入。</p>
</li>
<li><p>返回数据集对象。</p>
</li>
</ol>
<p>总体来说，这段代码的作用是将输入的示例转换为适合问题生成任务的特征数据集，其中包含了输入文本、目标文本和相关信息。</p>
<h4 id="1-1-3-10-def-template-fill-in"><a href="#1-1-3-10-def-template-fill-in" class="headerlink" title="1.1.3.10  def template_fill_in()"></a>1.1.3.10  def template_fill_in()</h4><p>这段代码是一个递归函数，名为<code>template_fill_in</code>，用于填充模板。</p>
<p>函数接受多个输入参数，包括参数列表（<code>arguments</code>），起始索引（<code>start_idx</code>），角色个数（<code>num_role</code>），事件类型（<code>event_type</code>），其他角色集合（<code>other_role_set</code>），已找到的其他参数列表（<code>found_other_arg_list</code>），已找到的其他角色列表（<code>found_other_role_list</code>），角色映射（<code>role_mapping</code>），查询模板（<code>query_templates</code>），目标参数类型（<code>target_argument_type</code>），查询字典（<code>query_dic</code>），以及阈值参数（<code>threshold_arg</code>）。</p>
<p>函数的目的是根据输入的参数信息，填充查询模板，生成具体的查询语句。</p>
<p>具体来说，函数的主要步骤如下：</p>
<ol>
<li>在参数列表中遍历每个参数，从起始索引开始。</li>
<li>获取当前参数的角色，并将其转换为标准化的角色名称。</li>
<li>根据事件类型和标准化的角色名称，判断是否需要跳过该参数。</li>
<li>检查标准化的角色名称是否在其他角色集合中，如果不在则跳过该参数。</li>
<li>将当前参数添加到已找到的其他参数列表和角色列表中。</li>
<li>如果角色个数大于1，则递归调用<code>template_fill_in</code>函数，继续填充其他参数。</li>
<li>当角色个数减为1时，表示达到了阈值参数个数，开始构建查询语句。</li>
<li>根据已找到的其他参数列表的角色索引，选择相应的查询模板，并替换其中的参数占位符。</li>
<li>将生成的查询语句添加到查询字典中。</li>
<li>弹出已找到的其他参数列表和角色列表的最后一个元素，以便继续填充其他参数。</li>
<li>返回最终的已找到的其他参数列表、已找到的其他角色列表和查询字典。</li>
</ol>
<p>需要注意的是，该函数通过递归的方式实现了对不同参数组合的填充，最终生成完整的查询语句。</p>
<p>总之，该函数的作用是根据输入的参数信息，填充查询模板，生成具体的查询语句。</p>
<p>这段代码是一个递归函数，根据一系列参数和条件，生成查询语句。下面是逐句分析：</p>
<ol>
<li><p><code>for sub_idx in range(start_idx + 1, len(arguments)):</code>：通过循环遍历输入的参数列表，从指定的<code>start_idx</code>开始。</p>
</li>
<li><p><code>cur_argument = arguments[sub_idx]</code>：获取当前索引<code>sub_idx</code>处的参数。</p>
</li>
<li><p><code>argument_role = cur_argument[2]</code>：从参数中获取角色信息。</p>
</li>
<li><p><code>normalized_argument_role = normalize_ace_arg(argument_role, event_type)</code>：通过调用<code>normalize_ace_arg</code>函数，对角色进行规范化处理。</p>
</li>
<li><p><code>if event_type == &quot;Contact.Phone-Write&quot; and normalized_argument_role == &quot;Place&quot;:</code>：检查事件类型是否为”Contact.Phone-Write”，且规范化后的角色是否为”Place”，如果是，则跳过当前循环。</p>
</li>
<li><p><code>if normalized_argument_role not in other_role_set:</code>：检查规范化后的角色是否在给定的<code>other_role_set</code>中，如果不在，则跳过当前循环。</p>
</li>
<li><p><code>cur_argument[2] = normalized_argument_role</code>：将当前参数的角色更新为规范化后的角色。</p>
</li>
<li><p><code>if cur_argument in found_other_arg_list:</code>：如果当前参数已经在已找到的参数列表<code>found_other_arg_list</code>中，则跳过当前循环。</p>
</li>
<li><p><code>if role_mapping[normalized_argument_role] in found_other_role_list:</code>：如果规范化后的角色对应的映射在已找到的角色列表<code>found_other_role_list</code>中，则跳过当前循环。</p>
</li>
<li><p><code>else:</code>：如果以上条件都不满足，则执行以下操作：</p>
<ul>
<li><p><code>found_other_arg_list.append(cur_argument)</code>：将当前参数添加到已找到的参数列表。</p>
</li>
<li><p><code>found_other_role_list.append(role_mapping[normalized_argument_role])</code>：将规范化后的角色对应的映射添加到已找到的角色列表。</p>
</li>
<li><p><code>if num_role - 1 &gt; 0:</code>：检查剩余的角色数量是否大于0，如果是，则递归调用<code>template_fill_in</code>函数。</p>
</li>
<li><p><code>found_other_arg_list.pop()</code>和<code>found_other_role_list.pop()</code>：递归结束后，将最后添加的参数和角色移除。</p>
</li>
<li><p><code>else:</code>：如果剩余的角色数量为0，则执行以下操作：</p>
<ul>
<li><p><code>assert len(found_other_arg_list) == threshold_arg</code>：确保已找到的参数列表的长度等于阈值<code>threshold_arg</code>。</p>
</li>
<li><p><code>found_other_arg_index_list = [role_mapping[x[2]] for x in found_other_arg_list]</code>：获取已找到的参数对应的角色映射。</p>
</li>
<li><p><code>found_other_arg_index_list.sort(key=lambda x: x)</code>：对角色映射进行排序。</p>
</li>
<li><p><code>found_other_arg_index_list = [str(x) for x in found_other_arg_index_list]</code>：将角色映射转换为字符串格式。</p>
</li>
<li><p>通过索引获取查询模板，并替换其中的参数占位符。</p>
</li>
<li><p><code>query_dic[str(threshold_arg)].append(query)</code>：将生成的查询语句添加到结果字典中。</p>
</li>
<li><p><code>found_other_arg_list.pop()</code>和<code>found_other_role_list.pop()</code>：将最后添加的参数和角色移除。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>return found_other_arg_list, found_other_role_list, query_dic</code>：返回已找到的参数列表、角色列表和生成的查询语句字典。</p>
</li>
</ol>
<h4 id="1-1-3-11-def-convert-examples-to-features-qa-用了QG-checkpoint"><a href="#1-1-3-11-def-convert-examples-to-features-qa-用了QG-checkpoint" class="headerlink" title="1.1.3.11 def convert_examples_to_features_qa(用了QG checkpoint)"></a>1.1.3.11 def convert_examples_to_features_qa(用了QG checkpoint)</h4><p>该函数的作用是将输入的examples转换为模型需要的特征数据集。</p>
<p>参数解析：</p>
<ul>
<li>examples: 输入的样本列表。</li>
<li>tokenizer: 分词器，用于对文本进行分词和编码。</li>
<li>query_templates: 查询模板，包含了不同事件类型和参数类型的查询模板。</li>
<li>nth_query: 指定使用查询模板中的第几个查询。</li>
<li>is_training: 是否为训练模式。</li>
<li>multi_arg: 是否为多参数模式。</li>
<li>qg_model: 问题生成模型，用于生成问题。</li>
<li>na_format: 未找到答案时的格式。</li>
<li>transformer_name: 使用的transformer模型名称。</li>
<li>qg_length_penalty: 问题生成模型的长度惩罚因子。</li>
<li>lower_case: 是否将文本转换为小写。</li>
<li>qa_inf_batch_size: 问题回答推理的批次大小。</li>
<li>qg_num_beams: 问题生成模型的beam搜索数量。</li>
</ul>
<p>函数主要步骤：</p>
<ol>
<li>定义存储特征数据的列表和字典。</li>
<li>遍历每个样本和事件。</li>
<li>根据查询模板和事件类型生成问题，并根据问题生成模型生成问题的编码。</li>
<li>如果是训练模式，将问题、上下文和答案编码后加入特征数据集。</li>
<li>如果是推理模式，将问题的输入编码加入特征数据集。</li>
<li>将特征数据集转换为数据加载器，并通过问题生成模型生成问题。</li>
<li>更新特征数据集中的问题编码。</li>
<li>返回特征数据集和特征列表。</li>
</ol>
<p>这段代码看起来是用于生成问题（Question Generation）的部分。以下是逐行的解析：</p>
<ol>
<li><p><code>qg_model.eval()</code>: 将模型置于评估模式，这表示模型不会进行梯度计算。</p>
</li>
<li><p><code>for idx, batch in enumerate(query_dataset_loader):</code>: 遍历查询数据集加载器的批次。</p>
</li>
<li><p><code>input_ids, input_mask, example_indices = batch</code>: 从批次中提取输入ID、输入掩码和示例索引。</p>
</li>
<li><p><code>input_ids = input_ids.cuda()</code>: 将输入ID移至GPU。</p>
</li>
<li><p><code>input_mask = input_mask.cuda()</code>: 将输入掩码移至GPU。</p>
</li>
<li><p><code>with torch.no_grad():</code>: 在这个上下文中，禁用梯度计算。</p>
</li>
<li><p><code>outputs = qg_model.generate(...)</code>：使用模型生成问题。这里使用了模型的<code>generate</code>方法，通过传递输入ID和输入掩码，以及一些生成问题时的参数，如<code>num_beams</code>、<code>early_stopping</code>和<code>length_penalty</code>。生成的结果存储在<code>outputs</code>中。</p>
</li>
<li><p><code>for i, example_index in enumerate(example_indices):</code>: 遍历批次中的示例索引。</p>
</li>
<li><p><code>example_index = example_index.cpu().item()</code>: 将示例索引移回CPU。</p>
</li>
<li><p><code>if example_index not in input_text_dic: continue</code>: 如果示例索引不在<code>input_text_dic</code>中，则跳过当前循环。</p>
</li>
<li><p><code>pre_answer = qg_tokenizer.decode(outputs[i], skip_special_tokens=True)</code>: 将生成的回答解码为文本。这里使用了模型的tokenizer的<code>decode</code>方法。</p>
</li>
<li><p><code>pre_answer = pre_answer.strip()</code>: 去除生成的回答中的空白字符。</p>
</li>
<li><p>构建输入文本：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">input_text = <span class="string">&quot;question: %s in * %s * event? context: %s &lt;/s&gt;&quot;</span> % (</span><br><span class="line">    pre_answer[:-<span class="number">1</span>],</span><br><span class="line">    input_text_dic[example_index],</span><br><span class="line">    examples[cur_feature.example_id].sentence,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>构建了一个包含问题、上下文的输入文本。这似乎是<strong>为了重新输入生成的问题，以获得更多的上下文信息</strong>。</p>
</li>
<li><p><code>if lower_case: input_text = input_text.lower()</code>: 如果<code>lower_case</code>为True，则将输入文本转换为小写。</p>
</li>
<li><p><code>input_encodings = tokenizer.encode_plus(input_text)</code>: 使用tokenizer对输入文本进行编码。</p>
</li>
<li><p>更新特征和输入ID、输入掩码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">all_features[example_index].input_ids = input_ids</span><br><span class="line">all_features[example_index].input_mask = input_mask</span><br><span class="line"></span><br><span class="line">all_input_ids[example_index] = input_ids</span><br><span class="line">all_mask_ids[example_index] = input_mask</span><br></pre></td></tr></table></figure>
</li>
<li><p>构建<code>QA_dataset</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bucket_dataset = QA_dataset(</span><br><span class="line">    all_input_ids, all_mask_ids, all_target_ids, all_feature_idex</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>使用构建的输入ID、输入掩码、目标ID和特征索引构建<code>QA_dataset</code>对象。</p>
</li>
</ol>
<p>这段代码的目的似乎是使用模型生成问题，然后将生成的问题重新输入模型，以获取更多的上下文信息，并构建一个新的数据集（<code>QA_dataset</code>）。</p>
<p>【举例】</p>
<p>在这个上下文中，生成问题后，作者通过将生成的问题重新构造成一个新的输入文本，将其输入到模型中。这样做的目的可能是为了获取与生成问题相关的更多上下文信息，以便模型能够更全面地理解问题并生成更准确的回答。</p>
<p>举个例子，假设原始的输入文本是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;event: John attended the conference. context: The conference was about artificial intelligence.&quot;</span><br></pre></td></tr></table></figure>

<p>生成的问题是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;question: What did John do in the conference? context: John attended the conference. The conference was about artificial intelligence.&quot;</span><br></pre></td></tr></table></figure>

<p>重新构造后的输入文本可能是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;question: What did John do in the conference? context: John attended the conference. The conference was about artificial intelligence. &lt;/s&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，重新构造的输入文本将生成的问题放在了新的上下文环境中，并且添加了<code>&lt;/s&gt;</code>标记，可能是为了表示输入的结束。这样做的目的可能是为了确保生成的问题在模型中得到充分的上下文支持，以便更好地理解问题的语境并生成准确的答案。</p>
<p>【举例】</p>
<p>当生成问题后，将其重新构造成一个新的输入文本是为了结合原始上下文和生成的问题，以创建一个更为完整的输入，希望通过这种方式能够提供更多的信息给模型。让我们通过一个更详细的例子来解释：</p>
<p>假设原始上下文是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;event: John attended the conference. context: The conference was about artificial intelligence.&quot;</span><br></pre></td></tr></table></figure>

<p>生成的问题是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;question: What was the topic of the conference? context: John attended the conference. The conference was about artificial intelligence.&quot;</span><br></pre></td></tr></table></figure>

<p>现在，我们将生成的问题重新构造成一个新的输入文本：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;question: What was the topic of the conference? context: John attended the conference. The conference was about artificial intelligence. &lt;/s&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>在这个例子中，我们将生成的问题放回原始上下文中，并通过<code>&lt;/s&gt;</code>标记表示输入的结束。这个新的输入文本包含了原始上下文、生成的问题以及一个额外的结束标记。这样做的目的是向模型提供一个更丰富的输入，希望通过将生成的问题与原始上下文结合起来，模型能够更好地理解问题的语境，提高问题生成的质量。</p>
<p>在实际应用中，这种操作可能是为了引入生成的问题以及相关上下文，以更好地控制问题的语义和逻辑，从而改善模型对问题的生成能力。</p>
<h4 id="1-1-3-12-def-my-collate-qa-t5-batch"><a href="#1-1-3-12-def-my-collate-qa-t5-batch" class="headerlink" title="1.1.3.12 def my_collate_qa_t5(batch)"></a>1.1.3.12 def my_collate_qa_t5(batch)</h4><p>这段代码是一个自定义的数据处理函数，用于将输入的批量数据转换为模型训练或推理所需的Tensor格式。</p>
<p>函数的输入参数为一个批量数据的列表，其中每个元素是一个样本，包含输入特征、注意力掩码、输出特征和特征索引。</p>
<p>函数首先初始化了一些空列表和变量，用于存储转换后的特征数据和特征索引。然后，通过遍历批量数据，逐个处理每个样本。</p>
<p>在处理样本时，函数会根据输入特征和输出特征的长度，计算出当前样本的最大长度，并将所有样本的最大长度记录下来。</p>
<p>然后，函数将输入特征进行填充，使其长度与最大长度一致，并将填充后的结果添加到输入特征列表中。</p>
<p>接着，函数将注意力掩码进行填充，使其长度与最大长度一致，并将填充后的结果添加到注意力掩码列表中。</p>
<p>类似地，函数将输出特征进行填充，使其长度与最大长度一致，并将填充后的结果添加到输出特征列表中。</p>
<p>最后，函数将特征索引列表转换为Tensor格式，并返回输入特征Tensor、注意力掩码Tensor、输出特征Tensor和特征索引Tensor。</p>
<p>需要注意的是，在输出特征Tensor中，将所有填充位置的值设置为-100，这是因为在T5模型中，-100被用作忽略损失的标记。</p>
<h4 id="1-1-3-13-def-my-collate-qa-bart-batch"><a href="#1-1-3-13-def-my-collate-qa-bart-batch" class="headerlink" title="1.1.3.13 def my_collate_qa_bart(batch)"></a>1.1.3.13 def my_collate_qa_bart(batch)</h4><p>这段代码定义了一个名为<code>my_collate_qa_bart</code>的函数，用于将一个批次的样本整理成BART模型所需的张量格式。</p>
<p>函数首先遍历一次批次，找到输入序列和输出序列的最大长度，以便进行填充操作。然后，对于每个样本，将输入序列、注意力掩码和输出序列进行填充，使它们的长度与最大长度相同。同时，将样本对应的特征索引添加到列表中。</p>
<p>最后，将填充后的输入序列、注意力掩码、输出序列和特征索引转换为PyTorch张量，并返回。</p>
<p>这段代码与之前提到的<code>my_collate_qa_t5</code>函数非常相似，都是用于整理模型训练数据的函数。主要区别在于填充的数值不同，以及使用的模型不同（一个是T5模型，一个是BART模型）。</p>
<p>需要注意的是，这段代码中使用了<code>torch</code>库，因此需要确保已经正确导入了<code>torch</code>。</p>
<h4 id="1-1-3-14-def-my-collate-qa-inference-t5-batch"><a href="#1-1-3-14-def-my-collate-qa-inference-t5-batch" class="headerlink" title="1.1.3.14 def my_collate_qa_inference_t5(batch)"></a>1.1.3.14 def my_collate_qa_inference_t5(batch)</h4><p>这段代码定义了一个名为<code>my_collate_qa_inference_t5</code>的函数，用于将一个批次的样本整理成T5模型推断所需的张量格式。</p>
<ul>
<li><code>pad_id = 0</code>: 定义填充值的数值为0。</li>
<li><code>list_input_ids = []</code>: 定义一个空列表，用于存储填充后的输入序列。</li>
<li><code>list_attention_masks = []</code>: 定义一个空列表，用于存储填充后的注意力掩码。</li>
<li><code>list_feature_idx = []</code>: 定义一个空列表，用于存储每个样本对应的特征索引。</li>
<li><code>max_len = 0</code>: 定义一个变量，用于存储批次中最长的输入序列的长度。</li>
</ul>
<p>接下来通过两个for循环遍历每个样本：</p>
<ul>
<li>第一个for循环计算批次中最长的输入序列的长度，以便进行填充操作。</li>
<li>第二个for循环对于每个样本，将输入序列和注意力掩码进行填充，使它们的长度与最大长度相同。同时，将样本对应的特征索引添加到列表中。</li>
</ul>
<p>填充使用的是0值进行补齐，因为T5模型的tokenizer中默认的填充值是0。</p>
<p>最后，将填充后的输入序列、注意力掩码和特征索引转换为PyTorch张量，并返回。返回的三个张量分别是填充后的输入序列、注意力掩码和特征索引。这些张量可以直接输入到T5模型中进行推断。</p>
<p>需要注意的是，这段代码中使用了<code>torch</code>库，因此需要确保已经正确导入了<code>torch</code>。</p>
<h4 id="1-1-3-15-def-my-collate-qa-inference-bart-batch"><a href="#1-1-3-15-def-my-collate-qa-inference-bart-batch" class="headerlink" title="1.1.3.15 def my_collate_qa_inference_bart(batch)"></a>1.1.3.15 def my_collate_qa_inference_bart(batch)</h4><p>这段代码定义了一个名为<code>my_collate_qa_inference_bart</code>的函数，用于将一个批次的样本整理成BART模型推断所需的张量格式。</p>
<ul>
<li><code>pad_id = 1</code>: 定义填充值的数值为1。</li>
<li><code>list_input_ids = []</code>: 定义一个空列表，用于存储填充后的输入序列。</li>
<li><code>list_attention_masks = []</code>: 定义一个空列表，用于存储填充后的注意力掩码。</li>
<li><code>list_feature_idx = []</code>: 定义一个空列表，用于存储每个样本对应的特征索引。</li>
<li><code>max_len = 0</code>: 定义一个变量，用于存储批次中最长的输入序列的长度。</li>
</ul>
<p>接下来通过两个for循环遍历每个样本：</p>
<ul>
<li>第一个for循环计算批次中最长的输入序列的长度，以便进行填充操作。</li>
<li>第二个for循环对于每个样本，将输入序列和注意力掩码进行填充，使它们的长度与最大长度相同。同时，将样本对应的特征索引添加到列表中。</li>
</ul>
<p>填充使用的是1值进行补齐，因为BART模型的tokenizer中默认的填充值是1。</p>
<p>最后，将填充后的输入序列、注意力掩码和特征索引转换为PyTorch张量，并返回。返回的三个张量分别是填充后的输入序列、注意力掩码和特征索引。这些张量可以直接输入到BART模型中进行推断。</p>
<p>需要注意的是，这段代码中使用了<code>torch</code>库，因此需要确保已经正确导入了<code>torch</code>。</p>
<h4 id="1-1-3-16-def-generate-questions-with-contextual-args"><a href="#1-1-3-16-def-generate-questions-with-contextual-args" class="headerlink" title="1.1.3.16 def generate_questions_with_contextual_args()"></a>1.1.3.16 def generate_questions_with_contextual_args()</h4><p>该函数的作用是生成带有上下文参数的问题。具体而言，它接受如下参数：</p>
<ul>
<li>query_dic：一个字典，用于存储生成的问题。</li>
<li>num_args：一个整数，表示要在问题中使用的参数数量。</li>
<li>role_mapping：一个字典，将事件类型中的角色映射到模板中的角色。</li>
<li>target_argument_type：一个字符串，表示目标参数类型的事件角色。</li>
<li>arguments：一个字典，表示事件类型中的参数。</li>
<li>event_type：一个字符串，表示事件类型。</li>
<li>other_role_set：一个集合，其中包含与事件类型中的其他参数对应的角色。</li>
<li>query_templates：一个列表，其中包含要用于生成问题的模板。</li>
</ul>
<p>函数首先检查num_args是否大于等于1，如果是，则设置threshold_arg为1，将query_dic的键值对“1”初始化为空列表，将found_other_arg_list和found_other_role_list分别初始化为空列表和[target_argument_type]，并调用template_fill_in函数填充模板。 </p>
<p>然后，函数检查num_args是否大于等于2，如果是，则设置threshold_arg为2，将query_dic的键值对“2”初始化为空列表，将found_other_arg_list和found_other_role_list分别初始化为空列表和[target_argument_type]，并再次调用template_fill_in函数填充模板。</p>
<p>然后，函数继续检查num_args是否大于等于3和4，如果是，则按照类似的方式设置threshold_arg，调用template_fill_in函数填充模板。</p>
<p>最后，函数检查num_args是否小于6，并断言它是真的，然后返回query_dic字典，其中包含生成的问题。</p>
<h2 id="1-2-processors-py"><a href="#1-2-processors-py" class="headerlink" title="1.2 processors.py"></a>1.2 processors.py</h2><h3 id="1-2-1-def-load-data"><a href="#1-2-1-def-load-data" class="headerlink" title="1.2.1 def load_data()"></a>1.2.1 def load_data()</h3><p>这段代码定义了一个名为<code>load_data</code>的方法，用于加载训练、开发、测试和（可选的）黄金标准数据集。以下是代码的逐行解释：</p>
<ol>
<li><p>**<code>def load_data(self, train_path, dev_path, test_path, gold_path=None):</code>**：定义了一个名为<code>load_data</code>的方法，该方法接受四个参数，分别是训练数据路径（<code>train_path</code>）、开发数据路径（<code>dev_path</code>）、测试数据路径（<code>test_path</code>）和（可选的）黄金标准数据路径（<code>gold_path</code>）。</p>
</li>
<li><p>**<code>self.train_samples = loader.load_sentences(train_path)</code>**：使用名为<code>loader</code>的对象的<code>load_sentences</code>方法加载训练数据，并将结果存储在类属性<code>train_samples</code>中。</p>
</li>
<li><p>**<code>self.dev_samples = loader.load_sentences(dev_path)</code>**：使用<code>loader</code>对象的<code>load_sentences</code>方法加载开发数据，并将结果存储在类属性<code>dev_samples</code>中。</p>
</li>
<li><p>**<code>self.test_samples = loader.load_sentences(test_path)</code>**：使用<code>loader</code>对象的<code>load_sentences</code>方法加载测试数据，并将结果存储在类属性<code>test_samples</code>中。</p>
</li>
<li><p>**<code>if gold_path:</code>**：检查是否提供了黄金标准数据路径。</p>
<ul>
<li>**<code>self.gold_samples = loader.load_sentences(gold_path)</code>**：如果提供了黄金标准数据路径，使用<code>loader</code>对象的<code>load_sentences</code>方法加载黄金标准数据，并将结果存储在类属性<code>gold_samples</code>中。</li>
</ul>
</li>
</ol>
<p>这段代码的作用是将训练、开发、测试和（可选的）黄金标准数据加载到相应的类属性中。这样，在后续的代码中，可以通过访问这些属性来获取加载的数据。具体数据的结构和格式将取决于<code>loader</code>对象的<code>load_sentences</code>方法的实现。</p>
<h3 id="1-2-2-def-generate-vocab-self-files-list"><a href="#1-2-2-def-generate-vocab-self-files-list" class="headerlink" title="1.2.2 def generate_vocab(self, files_list)"></a>1.2.2 def generate_vocab(self, files_list)</h3><p>这段代码定义了一个名为<code>generate_vocab</code>的方法，用于生成一个词汇表（vocabulary）。以下是代码的逐行解释：</p>
<ol>
<li><p>**<code>def generate_vocab(self, files_list):</code>**：定义了一个名为<code>generate_vocab</code>的方法，该方法接受一个参数<code>files_list</code>，其中包含多个文件的路径。</p>
</li>
<li><p>**<code>self.category_to_index = dict()</code>**：创建一个空的字典，用于存储事件类型到索引的映射。</p>
</li>
<li><p>**<code>self.index_to_category = dict()</code>**：创建一个空的字典，用于存储索引到事件类型的映射。</p>
</li>
<li><p>**<code>self.counter_event = Counter()</code>**：创建一个空的计数器，用于统计每个事件类型的出现次数。</p>
</li>
<li><p><strong><code>self.category_to_index[&quot;O&quot;] = 0</code></strong> 和 **<code>self.index_to_category[0] = &quot;O&quot;</code>**：将”O”（表示非事件）添加到映射中，索引为0。</p>
</li>
<li><p>**<code>for file in files_list:</code>**：遍历传入的文件列表。</p>
<ul>
<li><p>**<code>with open(file) as f:</code>**：打开文件，使用<code>f</code>作为文件句柄。</p>
<ul>
<li><p>**<code>for line in f:</code>**：遍历文件的每一行。</p>
<ul>
<li><p>**<code>example = json.loads(line)</code>**：将每一行解析为 JSON 格式。</p>
</li>
<li><p>**<code>labels = example[&quot;trigger_label&quot;]</code>**：获取当前例子的触发标签。</p>
</li>
<li><p>**<code>for label in labels:</code>**：遍历触发标签列表。</p>
<ul>
<li><p>**<code>if label == &quot;O&quot;: continue</code>**：如果标签为”O”（非事件），则跳过当前循环。</p>
</li>
<li><p>**<code>event_type = label</code>**：将标签作为事件类型。</p>
</li>
<li><p>**<code>self.counter_event[event_type] += 1</code>**：对相应事件类型的计数加一。</p>
</li>
<li><p>**<code>if event_type not in self.category_to_index:</code>**：检查事件类型是否已存在于映射中。</p>
<ul>
<li><p>**<code>index = len(self.category_to_index)</code>**：如果不存在，则为当前事件类型分配一个新的索引。</p>
</li>
<li><p>**<code>self.category_to_index[event_type] = index</code>**：将事件类型到索引的映射添加到字典中。</p>
</li>
<li><p>**<code>self.index_to_category[index] = event_type</code>**：将索引到事件类型的映射添加到字典中。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>这段代码的目的是从给定的文件中读取 JSON 格式的例子，并生成一个事件类型的词汇表。词汇表包括每个事件类型到索引的映射，以及索引到事件类型的映射。同时，使用计数器来统计每个事件类型的出现次数。生成的信息存储在对象的属性中。</p>
<h3 id="1-2-3-def-construct-dataset-trigger"><a href="#1-2-3-def-construct-dataset-trigger" class="headerlink" title="1.2.3 def construct_dataset_trigger()"></a>1.2.3 def construct_dataset_trigger()</h3><p>这段代码定义了一个名为<code>construct_dataset_trigger</code>的方法，该方法用于构建触发词（trigger）的数据集。以下是代码的逐行解释：</p>
<ol>
<li><p>**<code>self.train_dataset, self.train_features = convert_examples_to_features_sequence(...)</code>**：使用名为<code>convert_examples_to_features_sequence</code>的函数将训练数据（<code>self.train_samples</code>）转换为适用于训练的特征集（<code>self.train_features</code>）和数据集（<code>self.train_dataset</code>）。这个过程可能涉及将文本序列转换为模型可接受的输入格式，使用了给定的tokenizer和事件类型到索引的映射。</p>
</li>
<li><p>**<code>self.dev_dataset, self.dev_features = convert_examples_to_features_sequence(...)</code>**：类似地，将开发数据转换为适用于开发的特征集和数据集。</p>
</li>
<li><p>**<code>self.test_dataset, self.test_features = convert_examples_to_features_sequence(...)</code>**：类似地，将测试数据转换为适用于测试的特征集和数据集。</p>
</li>
<li><p>**<code>self.tokenizer = tokenizer</code>**：将tokenizer存储在对象的属性中。</p>
</li>
<li><p><strong>数据加载器的设置</strong>：</p>
<ul>
<li>**<code>self.train_dataset_loader</code>**：使用<code>torch.utils.data.DataLoader</code>创建一个训练数据的加载器，指定批次大小、是否打乱数据、是否丢弃最后一个不完整的批次，并指定数据的处理函数<code>my_collate_trigger_train</code>。</li>
<li>**<code>self.dev_dataset_loader</code>**：类似地，为开发数据创建加载器。</li>
<li>**<code>self.test_dataset_loader</code>**：为测试数据创建加载器。</li>
</ul>
</li>
<li><p><strong>返回值</strong>：返回训练、开发和测试数据的加载器，以便在后续的训练和评估中使用。</p>
</li>
</ol>
<p>这段代码的主要目的是将原始数据转换为适用于模型训练的特征和数据集，并设置对应的数据加载器。这通常是在深度学习中准备数据以供模型训练的一般步骤。</p>
<h3 id="1-2-4-def-construct-dataset-qa"><a href="#1-2-4-def-construct-dataset-qa" class="headerlink" title="1.2.4 def construct_dataset_qa()"></a>1.2.4 def construct_dataset_qa()</h3><p>这段代码定义了一个名为<code>construct_dataset_qa</code>的方法，该方法用于构建问答（QA）任务的数据集。以下是代码的逐行解释：</p>
<ol>
<li><p>**<code>self.train_dataset, self.train_features = convert_examples_to_features_qa(...)</code>**：使用名为<code>convert_examples_to_features_qa</code>的函数将训练数据（<code>self.train_samples</code>）转换为适用于训练的特征集（<code>self.train_features</code>）和数据集（<code>self.train_dataset</code>）。这个过程可能涉及将文本序列转换为模型可接受的输入格式，使用了给定的tokenizer和问题模板等参数。</p>
</li>
<li><p>**<code>self.dev_dataset, self.dev_features = convert_examples_to_features_qa(...)</code>**：类似地，将开发数据转换为适用于开发的特征集和数据集。</p>
</li>
<li><p>**<code>self.test_dataset, self.test_features = convert_examples_to_features_qa(...)</code>**：类似地，将测试数据转换为适用于测试的特征集和数据集。</p>
</li>
<li><p>**<code>self.tokenizer = tokenizer</code>**：将tokenizer存储在对象的属性中。</p>
</li>
<li><p><strong>打印信息</strong>：使用<code>logger.info</code>打印训练、开发和测试数据集的样本数量信息。</p>
</li>
<li><p><strong>数据加载器的设置</strong>：</p>
<ul>
<li>如果模型名称中包含”t5”，则使用<code>t5</code>特定的数据加载器（<code>my_collate_qa_t5</code>）。</li>
<li>否则，使用<code>bart</code>特定的数据加载器（<code>my_collate_qa_bart</code>）。</li>
</ul>
</li>
<li><p><strong>返回值</strong>：返回训练、开发和测试数据的加载器，以便在后续的训练和评估中使用。</p>
</li>
</ol>
<p>这段代码的主要目的是将原始QA数据转换为适用于模型训练的特征和数据集，并设置对应的数据加载器。其中，可能还包括了问题生成模型（<code>qg_model</code>）的使用以及一些其他与QA任务相关的特殊处理。</p>
<h3 id="1-2-5-def-construct-dataset-qg"><a href="#1-2-5-def-construct-dataset-qg" class="headerlink" title="1.2.5  def construct_dataset_qg()"></a>1.2.5  def construct_dataset_qg()</h3><p>这段代码定义了一个名为<code>construct_dataset_qg</code>的方法，该方法用于构建问题生成（QG）任务的数据集。以下是代码的逐行解释：</p>
<ol>
<li><p>**<code>self.train_dataset = convert_examples_to_features_qg(...)</code>**：使用名为<code>convert_examples_to_features_qg</code>的函数将训练数据（<code>self.train_samples</code>）转换为适用于训练的数据集（<code>self.train_dataset</code>）。这个过程可能涉及将文本序列转换为模型可接受的输入格式，使用了给定的tokenizer和问题模板等参数。</p>
</li>
<li><p>**<code>self.dev_dataset = convert_examples_to_features_qg(...)</code>**：类似地，将开发数据转换为适用于开发的数据集。</p>
</li>
<li><p>**<code>self.test_dataset = convert_examples_to_features_qg(...)</code>**：类似地，将测试数据转换为适用于测试的数据集。</p>
</li>
<li><p>**<code>self.tokenizer = tokenizer</code>**：将tokenizer存储在对象的属性中。</p>
</li>
<li><p><strong>数据加载器的设置</strong>：</p>
<ul>
<li>如果模型名称中包含”t5”，则使用<code>t5</code>特定的数据加载器（<code>my_collate_qg_train_t5</code>）。</li>
<li>否则，使用<code>bart</code>特定的数据加载器（<code>my_collate_qg_train_bart</code>）。</li>
</ul>
</li>
<li><p><strong>返回值</strong>：返回训练、开发和测试数据的加载器，以便在后续的训练和评估中使用。</p>
</li>
</ol>
<p>这段代码的主要目的是将原始问题生成数据转换为适用于模型训练的数据集，并设置对应的数据加载器。其中，可能还包括了问题生成模型（<code>qg_model</code>）的使用以及一些其他与问题生成任务相关的特殊处理。</p>
<h2 id="1-3-LabelSmoother-py"><a href="#1-3-LabelSmoother-py" class="headerlink" title="1.3  LabelSmoother.py"></a>1.3  LabelSmoother.py</h2><p>这个名为<code>LabelSmoother</code>的类实现了对来自Transformers模型的预计算输出进行标签平滑。标签平滑是一种正则化技术，用于在分类问题中，不是将概率1分配给真实类别，而是分配一个小概率（epsilon）给所有类别，包括真实类别。这有助于防止过拟合，使模型更加健壮。</p>
<p>让我们逐步解析这个类的关键组成部分：</p>
<ol>
<li><p><strong><code>epsilon</code> 和 <code>ignore_index</code> 属性:</strong></p>
<ul>
<li><code>epsilon: float = 0.1</code>: 这是标签平滑因子，默认为0.1。</li>
<li><code>ignore_index: int = -100</code>: 这是在计算损失时要忽略的标签索引，默认为-100。</li>
</ul>
</li>
<li><p><strong><code>__call__</code> 方法:</strong></p>
<ul>
<li><code>__call__(self, model_output, labels)</code>: 当类的实例像函数一样被调用时，将调用这个方法。</li>
<li><code>model_output</code> 是来自Transformers模型的预计算输出。</li>
<li><code>labels</code> 是实际标签。</li>
</ul>
</li>
<li><p><strong>处理模型输出:</strong></p>
<ul>
<li><code>logits = model_output[&quot;logits&quot;] if isinstance(model_output, dict) else model_output[0]</code>: 从模型输出中提取logits。</li>
<li><code>log_probs = -nn.functional.log_softmax(logits, dim=-1)</code>: 使用log-softmax函数计算log概率。</li>
</ul>
</li>
<li><p><strong>处理标签维度:</strong></p>
<ul>
<li>如果<code>labels</code>的维度比<code>log_probs</code>少一维，使用<code>labels = labels.unsqueeze(-1)</code>添加新维度。</li>
</ul>
</li>
<li><p><strong>填充掩码:</strong></p>
<ul>
<li><code>padding_mask = labels.eq(self.ignore_index)</code>: 为标签等于<code>ignore_index</code>的位置创建掩码。</li>
<li><code>labels = torch.clamp(labels, min=0)</code>: 将负标签替换为0。</li>
</ul>
</li>
<li><p><strong>计算损失:</strong></p>
<ul>
<li><code>nll_loss = log_probs.gather(dim=-1, index=labels)</code>: 收集真实标签的负对数似然损失。</li>
<li><code>smoothed_loss = log_probs.sum(dim=-1, keepdim=True, dtype=torch.float32)</code>: 计算log概率的总和。</li>
</ul>
</li>
<li><p><strong>掩码损失:</strong></p>
<ul>
<li><code>nll_loss.masked_fill_(padding_mask, 0.0)</code>: 对填充位置的NLL损失进行掩码。</li>
<li><code>smoothed_loss.masked_fill_(padding_mask, 0.0)</code>: 对填充位置的平滑损失进行掩码。</li>
</ul>
</li>
<li><p><strong>计算最终损失:</strong></p>
<ul>
<li>计算标签维度上损失的均值。</li>
<li>除以活动元素的数量（非填充的元素）。</li>
<li>返回使用标签平滑因子<code>epsilon</code>对NLL损失和平滑损失进行加权求和的结果。</li>
</ul>
</li>
</ol>
<p>总之，这个类在训练过程中对模型输出应用标签平滑，以改善泛化能力并防止过拟合。标签平滑由<code>epsilon</code>参数控制，<code>ignore_index</code>参数处理在损失计算中应忽略的标签。</p>
<h2 id="1-4-evaluate-py"><a href="#1-4-evaluate-py" class="headerlink" title="1.4 evaluate.py"></a>1.4 evaluate.py</h2><h3 id="1-4-1-def-evaluate-qa"><a href="#1-4-1-def-evaluate-qa" class="headerlink" title="1.4.1 def evaluate_qa()"></a>1.4.1 def evaluate_qa()</h3><p>这段代码定义了一个用于评估QA模型的函数<code>evaluate_qa</code>。以下是代码的逐行解释：</p>
<ol>
<li><p><strong>导入库</strong>：</p>
<ul>
<li><code>collections</code>：Python标准库中的<code>collections</code>模块，用于创建有序字典。</li>
<li><code>torch</code>：PyTorch深度学习框架。</li>
<li><code>copy</code>：用于进行深拷贝。</li>
</ul>
</li>
<li><p><strong>初始化一些数据结构</strong>：</p>
<ul>
<li><code>all_pred</code>、<code>all_visualize</code>、<code>all_gold</code>：用于存储模型的预测结果、可视化信息以及黄金标准结果。</li>
<li><code>model.eval()</code>：将模型设置为评估模式，不进行梯度计算。</li>
</ul>
</li>
<li><p><strong>迭代评估数据加载器</strong>：</p>
<ul>
<li>遍历评估数据加载器中的每个批次。</li>
<li>对于每个批次，使用模型生成答案，并将生成的结果与标准答案进行比较。</li>
<li>将比较结果保存在<code>all_pred</code>中。</li>
</ul>
</li>
<li><p><strong>构建黄金标准</strong>：</p>
<ul>
<li>将黄金标准数据构建为<code>all_gold</code>结构，以便后续评估使用。</li>
</ul>
</li>
<li><p><strong>计算结果</strong>：</p>
<ul>
<li>统计生成的结果与黄金标准的交叉信息，包括精确度、召回率和F1得分，分为分类和识别两个方面。</li>
<li>将结果存储在<code>result</code>中。</li>
</ul>
</li>
<li><p><strong>返回结果</strong>：</p>
<ul>
<li>返回评估的结果以及初始化时的预测结果。</li>
</ul>
</li>
</ol>
<p>整个函数的目的是评估QA模型的性能，包括对生成的结果进行分类和识别两个方面的评估。这些评估指标包括精确度（precision）、召回率（recall）和F1得分，分别计算在分类和识别任务上。</p>

      </div>
      <div class="post-tags-categories">
        
      </div>
      
        <div class="copyright">
  <ul class="post-copyright">
    <li class="post-copyright-author">
    <strong>作者:  </strong>yuan long</a>
    </li>
    <li class="post-copyright-link">
    <strong>文章链接:  </strong>
    <a href="/2023/11/25/meeting23.11.25/" target="_blank" title="">http://humble2967738843.github.io/2023/11/25/meeting23.11.25/</a>
    </li>
    <li class="post-copyright-license">
      <strong>版权声明:   </strong>
      本网站所有文章除特别声明外,均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
      许可协议。转载请注明出处!
    </li>
  </ul>
<div>
      
    </article>
    <!-- 上一篇文章和下一篇文章 -->
    
      <!-- 文章详情页的上一页和下一页 -->
<div class="post-nav">





  
  <div class="post-nav-next post-nav-item">
    <div class="post-nav-img" style="background-size: cover; 
      background-position: center center;">
      <img class="lazyload lazyload placeholder" src="https://pic3.zhimg.com/80/v2-e5c15010b8ba4608a1974403a02a2da0_1440w.webp" class="lazyload placeholder" data-srcset="https://pic3.zhimg.com/80/v2-e5c15010b8ba4608a1974403a02a2da0_1440w.webp" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" src="" alt="">
    </div>
    <a href="/2023/11/16/kaggle-s-30-days-of-ml/" class="post-nav-link">
      <div class="title">
        下一篇: <i class="fas fa-angle-right"></i>
        <div class="title-text">Kaggle&#39;s_30_Days_Of_ML</div>
      </div>
      <!-- <div class="content">
        Kaggle’s 30 Days Of ML (Day-1): Getting Started With KaggleK
      </div> -->
    </a>
  </div>

</div>

    
    

    <!-- 打赏 -->
    
      <div id="appDonate" class="post-donate">
  <div id="donate_board" class="donate_bar center" ref="donate">
    <a id="btn_donate" class="btn_donate" href="javascript:;" title="打赏" @click="showDialogDrawer()"></a>
  </div>
  <transition name="fade">
    <div 
      class="donate-box-mask"
      v-cloak 
      v-show="visible"
      @click="cancelDialogDrawer()"
    >
    </div>
  </transition>
  <transition name="bounce">
    <div class="donate-box" v-cloak v-show="visible">
      <div class="donate-box_close">
        <i class="fas fa-times" aria-hidden="true" @click="cancelDialogDrawer" pointer></i>
      </div>
      <div class="donate-box_title">
        <h4>
          你的赏识是我前进的动力
        </h4>
      </div>
      <div class="donate-box_tab">
        <div class="Alipay" pointer :class="{'active': tabActive === 'Alipay'}" @click="changeTabActive('Alipay')">
          支付宝
        </div>
        <div class="WeChatpay" pointer :class="{'active': tabActive === 'WeChatpay'}" @click="changeTabActive('WeChatpay')">
          微信
        </div>
      </div>
      <div class="donate-box_img">
        <div class="AlipayImg" v-show="tabActive === 'Alipay'">
          <img src="https://pica.zhimg.com/80/v2-61f99f8dcf899f54cad2a1aa28b21e44_1440w.webp" class="lazyload placeholder" data-srcset="https://pica.zhimg.com/80/v2-61f99f8dcf899f54cad2a1aa28b21e44_1440w.webp" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="支付宝打赏" />
        </div> 
        <div class="WeChatpayImg" v-show="tabActive === 'WeChatpay'">
          <img src="https://pic2.zhimg.com/80/v2-29e78b52051ce542adf6d786d61fbd19_1440w.webp" class="lazyload placeholder" data-srcset="https://pic2.zhimg.com/80/v2-29e78b52051ce542adf6d786d61fbd19_1440w.webp" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="微信打赏" />
        </div>
      </div>
    </div>
  </transition>
</div>

<script>
  var body = document.body || document.documentElement || window;
  var vm = new Vue({
    el: '#appDonate',
    data: {
      visible: false,
      tabActive: 'Alipay',
      top: 0,
    },
    computed: {
    },
    mounted() {
    },
    methods: {
      showDialogDrawer() {
        this.visible = true;
        // 防止页面滚动，只能让弹框滚动
        // function getScroll() {
        //   return {
        //     left: window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0,
        //     top: window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0
        //   };
        // }
        this.top = $(document).scrollTop() // or getScroll().top
        // console.log('aa', $('.main-content'));
        body.style.cssText = 'overflow: hidden;';
      },
      cancelDialogDrawer() {
        this.visible = false;
        body.removeAttribute('style');
        $(document).scrollTop(this.top)
      },
      changeTabActive(name) {
        this.tabActive = name;
      }
    },
    created() {}
  })
</script>
    

    <!-- 分享 -->
    
      <!-- https://github.com/overtrue/share.js -->
<!-- 文章详情页的分享 -->
<div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>

<script src="/js/shareJs/social-share.min.js"></script>
</script>

<style>
  .social-share {
    margin: 20px 0;
  }
</style>


    
    
    <!-- 评论 -->
    <!-- 评论 -->

  <div id="myComment">
    
      <div id="gitment-container"></div>

    
  </div>

<!-- comment script in themes\hexo-theme-bamboo\layout\_partial\scripts\index.ejs -->


  </div>

  <!-- 目录 -->
  <aside id='l_side'>
  
    
      <section class="widget side_blogger">
  <div class='content'>
    
      
        <a class='avatar flat-box rectangle' href='/about/'>
          <img src='https://pic2.zhimg.com/80/v2-42b72d5ebee4b8d8aa70d9687effe87b_1440w.webp'/>
        </a>
      
    
    
      <div class='text'>
        
          <h2>欢迎来到我的博客</h2>
        
        
          <p>我是副标题</p>

        
        
          <p><span id="jinrishici-sentence">院龙的博客</span></p>
          <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
        
      </div>
    
    
      <div class="social-wrapper">
        
          
            <a href="/atom.xml"
              class="social fas fa-rss flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
              
            </a>
          
        
          
            <a href="mailto:humbleyl007@163.com"
              class="social fas fa-envelope flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
              
            </a>
          
        
          
            <a href="https://github.com/Humble2967738843"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
              
            </a>
          
        
          
            <a href="tencent://AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=2967738843"
              class="social fab fa-qq flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
              
            </a>
          
        
      </div>
    
  </div>
</section>

    
  
  
  

  <div class="layout_sticky">    
    
      
<section class="widget side_toc">
  
  <header>
    
      <i style="color: " class="fas fa-list fa-fw" aria-hidden="true"></i><span class='name' style="color: ">本文目录</span>
    
  </header>


  <div class='content'>
    <div class="toc-main">
      <div class="toc-content">
        <!-- <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E6%8F%90%E5%8F%96%E4%BD%9C%E4%B8%BA%E9%97%AE%E9%A2%98%E7%94%9F%E6%88%90%E5%92%8C%E5%9B%9E%E7%AD%94"><span class="toc-text">事件提取作为问题生成和回答</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Abstract"><span class="toc-text">Abstract</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Introduction"><span class="toc-text">1 Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Model"><span class="toc-text">2 Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Question-Generation-Model"><span class="toc-text">2.1 Question Generation Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-Question-Answering-Model"><span class="toc-text">2.2 Question Answering Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Experimental-Setup"><span class="toc-text">3 Experimental Setup</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-Dataset-and-Evalution-Metrics"><span class="toc-text">3.1 Dataset and Evalution Metrics</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-Compared-Baselines"><span class="toc-text">3.2 Compared Baselines</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-Implementation-Details"><span class="toc-text">3.3 Implementation Details</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Result"><span class="toc-text">4 Result</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Event-Argument-Extraction-Performance"><span class="toc-text">4.1 Event Argument Extraction Performance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-Event-Extraction-Performance"><span class="toc-text">4.2 Event Extraction Performance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-Ablation-Study"><span class="toc-text">4.3 Ablation Study</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-Impact-of-Data-Augmentation"><span class="toc-text">4.4 Impact of Data Augmentation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-Analysis-and-Discussion"><span class="toc-text">4.5 Analysis and Discussion</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Conclusion"><span class="toc-text">5 Conclusion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Limitations"><span class="toc-text">Limitations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#A-ACE05-E-Data-Preprocessing"><span class="toc-text">A ACE05-E Data Preprocessing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-Complete-Dynamic-Templates-for-ACE-ontology"><span class="toc-text">B Complete Dynamic Templates for ACE ontology</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-Implementation-Details"><span class="toc-text">C Implementation Details</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#C-1-Event-Trigger-Labeling-Model"><span class="toc-text">C.1 Event Trigger Labeling Model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-2-QG-model"><span class="toc-text">C.2 QG model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-3-QA-model"><span class="toc-text">C.3 QA model</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#D-Experiment-Details"><span class="toc-text">D Experiment Details</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#D-1-Event-Trigger-Labeling-Model"><span class="toc-text">D.1 Event Trigger Labeling Model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-2-QG-model"><span class="toc-text">D.2 QG model</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E5%AE%9E%E9%AA%8C%E8%AE%BE%E7%BD%AE"><span class="toc-text">1.实验设置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-%E5%B7%B2%E5%AE%8C%E6%88%90%E5%AE%9E%E9%AA%8C"><span class="toc-text">2.已完成实验</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-%E8%AE%AD%E7%BB%83%E8%BF%87%E7%A8%8B%E8%AE%B0%E5%BD%95%E4%B8%8E%E6%8C%87%E6%A0%87"><span class="toc-text">3.训练过程记录与指标</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C"><span class="toc-text">4.实验结果</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-trigger-predictions"><span class="toc-text">4.1 trigger_predictions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-t5-generated-questions"><span class="toc-text">4.2 t5_generated_questions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-t5-arg-predictions"><span class="toc-text">4.3 t5_arg_predictions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-evaluate-e2e-predicted-triggers-t5"><span class="toc-text">4.4 evaluate_e2e_predicted_triggers_t5</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-%E7%BB%93%E8%AE%BA"><span class="toc-text">5. 结论</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-%E6%94%B9%E8%BF%9B"><span class="toc-text">6. 改进</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E4%BB%A3%E7%A0%81%E5%8A%9F%E8%83%BD%E6%A0%87%E6%B3%A8"><span class="toc-text">1.代码功能标注</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-load-py"><span class="toc-text">1.1 load.py</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-class-AceExample-object"><span class="toc-text">1.1.1 class AceExample(object)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-class-InputFeatures-trigger-object"><span class="toc-text">1.1.2 class InputFeatures_trigger(object)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-3-class-InputFeatures-arg-t5-object"><span class="toc-text">1.1.3 class InputFeatures_arg_t5(object)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-1-def-load-template-t5-input-doc"><span class="toc-text">1.1.3.1 def load_template_t5(input_doc)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-2-def-load-sentences-path"><span class="toc-text">1.1.3.2 def load_sentences(path)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-3-def-convert-examples-to-features-sequence"><span class="toc-text">1.1.3.3 def convert_examples_to_features_sequence()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-4-def-normalize-ace-arg-arg-role-event-type"><span class="toc-text">1.1.3.4 def normalize_ace_arg(arg_role, event_type)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-5-def-is-whitespace-c"><span class="toc-text">1.1.3.5 def is_whitespace(c)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-6-def-my-collate-trigger-train-batch"><span class="toc-text">1.1.3.6 def my_collate_trigger_train(batch)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-7-def-my-collate-qg-train-t5-batch"><span class="toc-text">1.1.3.7 def my_collate_qg_train_t5(batch)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-8-def-my-collate-qg-train-bart-batch"><span class="toc-text">1.1.3.8 def my_collate_qg_train_bart(batch)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-9-def-convert-examples-to-features-qg"><span class="toc-text">1.1.3.9 def convert_examples_to_features_qg()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-10-def-template-fill-in"><span class="toc-text">1.1.3.10  def template_fill_in()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-11-def-convert-examples-to-features-qa-%E7%94%A8%E4%BA%86QG-checkpoint"><span class="toc-text">1.1.3.11 def convert_examples_to_features_qa(用了QG checkpoint)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-12-def-my-collate-qa-t5-batch"><span class="toc-text">1.1.3.12 def my_collate_qa_t5(batch)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-13-def-my-collate-qa-bart-batch"><span class="toc-text">1.1.3.13 def my_collate_qa_bart(batch)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-14-def-my-collate-qa-inference-t5-batch"><span class="toc-text">1.1.3.14 def my_collate_qa_inference_t5(batch)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-15-def-my-collate-qa-inference-bart-batch"><span class="toc-text">1.1.3.15 def my_collate_qa_inference_bart(batch)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-3-16-def-generate-questions-with-contextual-args"><span class="toc-text">1.1.3.16 def generate_questions_with_contextual_args()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-processors-py"><span class="toc-text">1.2 processors.py</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-def-load-data"><span class="toc-text">1.2.1 def load_data()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-2-def-generate-vocab-self-files-list"><span class="toc-text">1.2.2 def generate_vocab(self, files_list)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-3-def-construct-dataset-trigger"><span class="toc-text">1.2.3 def construct_dataset_trigger()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-4-def-construct-dataset-qa"><span class="toc-text">1.2.4 def construct_dataset_qa()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-5-def-construct-dataset-qg"><span class="toc-text">1.2.5  def construct_dataset_qg()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-LabelSmoother-py"><span class="toc-text">1.3  LabelSmoother.py</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-evaluate-py"><span class="toc-text">1.4 evaluate.py</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-1-def-evaluate-qa"><span class="toc-text">1.4.1 def evaluate_qa()</span></a></li></ol></li></ol></li></ol> -->
        <div class="toc"></div>
      </div>
    </div>
  </div>
</section>
<!-- 手机端目录按钮 -->
<div id="toc-mobile-btn">
  <i class="fas fa-list-ul" aria-hidden="true"></i>
</div>

      
  <section class="widget side_recent_post">
    
  <header>
    
      <a style="color: " href='/tags/'><i class="fas fa-book fa-fw" aria-hidden="true"></i><span class='name'>最新文章</span></a>
    
  </header>


    <div class='content'>
      
      <!-- hash算法 -->
      
      <div class="aside-list">
        
          <div class="aside-list-item">
            
            
            

            <div class="post-img-box">
              <a href="/2023/11/25/meeting23.11.25/" class="post-img " style="background-size: cover; 
                background-position: center center;">
                <img class="lazyload lazyload placeholder" style="width:100%;height:100%;object-fit:cover;" data-src="https://pic1.zhimg.com/80/v2-03a22891ccba9bccf6424dfd7cbf4be7_1440w.webp" class="lazyload placeholder" data-srcset="https://pic1.zhimg.com/80/v2-03a22891ccba9bccf6424dfd7cbf4be7_1440w.webp" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="">
              </a>
            </div>
            <div class="post-date-title">
              <div>
                
                  <span class="post-date">11-25</span>
                
              </div>
              <a class="post-title" href="/2023/11/25/meeting23.11.25/">暂无标题</a>
            </div>
          </div>
        
          <div class="aside-list-item">
            
            
            

            <div class="post-img-box">
              <a href="/2023/11/16/kaggle-s-30-days-of-ml/" class="post-img " style="background-size: cover; 
                background-position: center center;">
                <img class="lazyload lazyload placeholder" style="width:100%;height:100%;object-fit:cover;" data-src="https://pic3.zhimg.com/80/v2-e5c15010b8ba4608a1974403a02a2da0_1440w.webp" class="lazyload placeholder" data-srcset="https://pic3.zhimg.com/80/v2-e5c15010b8ba4608a1974403a02a2da0_1440w.webp" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="">
              </a>
            </div>
            <div class="post-date-title">
              <div>
                
                  <span class="post-date">11-16</span>
                
              </div>
              <a class="post-title" href="/2023/11/16/kaggle-s-30-days-of-ml/">Kaggle&#39;s_30_Days_Of_ML</a>
            </div>
          </div>
        
          <div class="aside-list-item">
            
            
            

            <div class="post-img-box">
              <a href="/2023/11/09/wen-xian-zheng-li/" class="post-img " style="background-size: cover; 
                background-position: center center;">
                <img class="lazyload lazyload placeholder" style="width:100%;height:100%;object-fit:cover;" data-src="https://picx.zhimg.com/80/v2-b44931ea513e5f7b3b06f2703f79653c_1440w.webp" class="lazyload placeholder" data-srcset="https://picx.zhimg.com/80/v2-b44931ea513e5f7b3b06f2703f79653c_1440w.webp" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="">
              </a>
            </div>
            <div class="post-date-title">
              <div>
                
                  <span class="post-date">11-09</span>
                
              </div>
              <a class="post-title" href="/2023/11/09/wen-xian-zheng-li/">文献整理</a>
            </div>
          </div>
        
          <div class="aside-list-item">
            
            
            

            <div class="post-img-box">
              <a href="/2023/11/06/ji-yu-ti-shi-de-ling-yang-ben-guan-xi-chou-qu-fang-fa-tan-suo/" class="post-img " style="background-size: cover; 
                background-position: center center;">
                <img class="lazyload lazyload placeholder" style="width:100%;height:100%;object-fit:cover;" data-src="https://picx.zhimg.com/80/v2-85c31120acff76826ab53ea8934ef4bb_1440w.webp" class="lazyload placeholder" data-srcset="https://picx.zhimg.com/80/v2-85c31120acff76826ab53ea8934ef4bb_1440w.webp" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="">
              </a>
            </div>
            <div class="post-date-title">
              <div>
                
                  <span class="post-date">11-06</span>
                
              </div>
              <a class="post-title" href="/2023/11/06/ji-yu-ti-shi-de-ling-yang-ben-guan-xi-chou-qu-fang-fa-tan-suo/">基于提示的零样本关系抽取方法探索</a>
            </div>
          </div>
        
          <div class="aside-list-item">
            
            
            

            <div class="post-img-box">
              <a href="/2023/11/06/wang-diao-ni-xiang-wang-diao-de-dong-xi-llms-de-gao-xiao-wang-que/" class="post-img " style="background-size: cover; 
                background-position: center center;">
                <img class="lazyload lazyload placeholder" style="width:100%;height:100%;object-fit:cover;" data-src="https://pic1.zhimg.com/80/v2-03a22891ccba9bccf6424dfd7cbf4be7_1440w.webp" class="lazyload placeholder" data-srcset="https://pic1.zhimg.com/80/v2-03a22891ccba9bccf6424dfd7cbf4be7_1440w.webp" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="">
              </a>
            </div>
            <div class="post-date-title">
              <div>
                
                  <span class="post-date">11-06</span>
                
              </div>
              <a class="post-title" href="/2023/11/06/wang-diao-ni-xiang-wang-diao-de-dong-xi-llms-de-gao-xiao-wang-que/">忘掉你想忘掉的东西：LLMs的高效忘却</a>
            </div>
          </div>
        
      </div>
    </div>
  </section>

    
  </div>
</aside>

  <!-- 图片放大 Wrap images with fancybox support -->
  <script src="/js/wrapImage.js"></script>
</div>

<!-- 文章详情页背景图 -->
<div id="appBgSwiper" style="position: fixed;left: 0;top: 0;width: 100%;height: 100%;z-index: -2;"
	:style="{'background-color': bgColor ? bgColor : 'transparent'}">
	<transition-group tag="ul" :name="names">
		<li v-for='(image,index) in img' :key='index' v-show="index === mark" class="bg-swiper-box">
			<img :src="image" class="bg-swiper-img no-lazy">
		</li>
	</transition-group>
</div>
<script>
	var vm = new Vue({
		el: '#appBgSwiper',
		data: {
			names: '' || 'fade' || 'fade', // translate-fade fade
			mark: 0,
			img: [],
			bgColor: '',
			time: null
		},
		methods: {   //添加方法
			change(i, m) {
				if (i > m) {
					// this.names = 'fade';
				} else if (i < m) {
					// this.names = 'fade';
				} else {
					return;
				}
				this.mark = i;
			},
			prev() {
				// this.names = 'fade';
				this.mark--;
				if (this.mark === -1) {
					this.mark = 3;
					return
				}
			},
			next() {
				// this.names = 'fade';
				this.mark++;
				if (this.mark === this.img.length) {
					this.mark = 0;
					return
				}
			},
			autoPlay() {
				// this.names = 'fade';
				this.mark++;
				if (this.mark === this.img.length) {
					this.mark = 0;
					return
				}
			},
			play() {
				let bgImgDelay = '' || '180000'
				let delay = parseInt(bgImgDelay) || 180000;
				this.time = setInterval(this.autoPlay, delay);
			},
			enter() {
				clearInterval(this.time);
			},
			leave() {
				this.play();
			}
		},
		created() {
			this.play()
		},
		beforeDestroy() {
			clearInterval(this.time);
		},
		mounted() {
			let prop = '' || '';
			let isImg = prop.includes('.bmp') || prop.includes('.jpg') || prop.includes('.png') || prop.includes('.tif') || prop.includes('.gif') || prop.includes('.pcx') || prop.includes('.tga') || prop.includes('.exif') || prop.includes('.fpx') || prop.includes('.psd') || prop.includes('.cdr') || prop.includes('.pcd') || prop.includes('.dxf') || prop.includes('.ufo') || prop.includes('.eps') || prop.includes('.ai') || prop.includes('.raw') || prop.includes('.WMF') || prop.includes('.webp') || prop.includes('.jpeg') || prop.includes('http://') || prop.includes('https://')
			if (isImg) {
				let img = prop.split(',');
				let configRoot = '/'
				let arrImg = [];
				img.forEach(el => {
					var Expression = /http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/;
					var objExp = new RegExp(Expression);

					if (objExp.test(el)) {
						// http or https
						arrImg.push(el);
					} else {
						// 非http or https开头
						// 本地文件
						let firstStr = el.charAt(0);
						if (firstStr == '/') {
							el = el.substr(1); // 删除第一个字符 '/',因为 configRoot最后一个字符为 /
						}
						el = configRoot + el;
						arrImg.push(el);
					}
				})
				this.img = arrImg;
			} else {
				this.bgColor = prop;
			}
		}
	})
</script>

<style>
	.bg-swiper-box {
		position: absolute;
		display: block;
		width: 100%;
		height: 100%;
	}

	.bg-swiper-img {
		object-fit: cover;
		width: 100%;
		height: 100%;
	}
</style>




  <script>
  function loadMermaid() {
    if (document.getElementsByClassName('mermaid').length) {
      if (window.mermaidJsLoad) mermaid.init()
      else {
        loadScript('https://unpkg.com/mermaid/dist/mermaid.min.js').then(() => {
          window.mermaidJsLoad = true
          mermaid.initialize({
            theme: 'default',
          })
          if ('true') {
            mermaid.init();
          }
        })
      }
    }
  };
  document.addEventListener("DOMContentLoaded", function () {
    loadMermaid();
  })

  document.addEventListener('pjax:complete', function () {
    loadMermaid();
  })
  
</script>


      </main>
    </div>

    <!-- 页脚 -->
    
  
  
    <!-- 底部鱼儿跳动效果，依赖于jquery-->
<div id="j-fish-skip" style=" position: relative;height: 153px;width: auto;"></div>
<script>
  var RENDERER = {
    POINT_INTERVAL: 5,
    FISH_COUNT: 3,
    MAX_INTERVAL_COUNT: 50,
    INIT_HEIGHT_RATE: .5,
    THRESHOLD: 50,
    FISH_COLOR: '',
    init: function () {
      this.setFishColor(); this.setParameters(), this.reconstructMethods(), this.setup(), this.bindEvent(), this.render()
    },
    setFishColor: function () {
      let isDark = JSON.parse(localStorage.getItem('dark')) || JSON.parse('false');
      if (isDark) {
        this.FISH_COLOR = '#222'; // 暗黑色，有时间把这整成一个变量
      } else {
        this.FISH_COLOR = '' || 'rgba(66, 185, 133, 0.8)';
      }
    },
    setParameters: function () {
      this.$window = $(window), this.$container = $("#j-fish-skip"), this.$canvas = $("<canvas />"), this.context = this.$canvas.appendTo(this.$container).get(0).getContext("2d"), this.points = [], this.fishes = [], this.watchIds = []
    },
    createSurfacePoints: function () {
      var t = Math.round(this.width / this.POINT_INTERVAL);
      this.pointInterval = this.width / (t - 1), this.points.push(new SURFACE_POINT(this, 0));
      for (var i = 1; i < t; i++) {
        var e = new SURFACE_POINT(this, i * this.pointInterval),
          h = this.points[i - 1];
        e.setPreviousPoint(h), h.setNextPoint(e), this.points.push(e)
      }
    },
    reconstructMethods: function () {
      this.watchWindowSize = this.watchWindowSize.bind(this), this.jdugeToStopResize = this.jdugeToStopResize.bind(this), this.startEpicenter = this.startEpicenter.bind(this), this.moveEpicenter = this.moveEpicenter.bind(this), this.reverseVertical = this.reverseVertical.bind(this), this.render = this.render.bind(this)
    },
    setup: function () {
      this.points.length = 0, this.fishes.length = 0, this.watchIds.length = 0, this.intervalCount = this.MAX_INTERVAL_COUNT, this.width = this.$container.width(), this.height = this.$container.height(), this.fishCount = this.FISH_COUNT * this.width / 500 * this.height / 500, this.$canvas.attr({
        width: this.width,
        height: this.height
      }), this.reverse = !1, this.fishes.push(new FISH(this)), this.createSurfacePoints()
    },
    watchWindowSize: function () {
      this.clearTimer(), this.tmpWidth = this.$window.width(), this.tmpHeight = this.$window.height(), this.watchIds.push(setTimeout(this.jdugeToStopResize, this.WATCH_INTERVAL))
    },
    clearTimer: function () {
      for (; this.watchIds.length > 0;) clearTimeout(this.watchIds.pop())
    },
    jdugeToStopResize: function () {
      var t = this.$window.width(),
        i = this.$window.height(),
        e = t == this.tmpWidth && i == this.tmpHeight;
      this.tmpWidth = t, this.tmpHeight = i, e && this.setup()
    },
    bindEvent: function () {
      this.$window.on("resize", this.watchWindowSize), this.$container.on("mouseenter", this.startEpicenter), this.$container.on("mousemove", this.moveEpicenter)
    },
    getAxis: function (t) {
      var i = this.$container.offset();
      return {
        x: t.clientX - i.left + this.$window.scrollLeft(),
        y: t.clientY - i.top + this.$window.scrollTop()
      }
    },
    startEpicenter: function (t) {
      this.axis = this.getAxis(t)
    },
    moveEpicenter: function (t) {
      var i = this.getAxis(t);
      this.axis || (this.axis = i), this.generateEpicenter(i.x, i.y, i.y - this.axis.y), this.axis = i
    },
    generateEpicenter: function (t, i, e) {
      if (!(i < this.height / 2 - this.THRESHOLD || i > this.height / 2 + this.THRESHOLD)) {
        var h = Math.round(t / this.pointInterval);
        h < 0 || h >= this.points.length || this.points[h].interfere(i, e)
      }
    },
    reverseVertical: function () {
      this.reverse = !this.reverse;
      for (var t = 0, i = this.fishes.length; t < i; t++) this.fishes[t].reverseVertical()
    },
    controlStatus: function () {
      for (var t = 0, i = this.points.length; t < i; t++) this.points[t].updateSelf();
      for (t = 0, i = this.points.length; t < i; t++) this.points[t].updateNeighbors();
      this.fishes.length < this.fishCount && 0 == --this.intervalCount && (this.intervalCount = this.MAX_INTERVAL_COUNT, this.fishes.push(new FISH(this)))
    },
    render: function () {
      requestAnimationFrame(this.render), this.controlStatus(), this.context.clearRect(0, 0, this.width, this.height), this.context.fillStyle = this.FISH_COLOR;
      for (var t = 0, i = this.fishes.length; t < i; t++) this.fishes[t].render(this.context);
      this.context.save(), this.context.globalCompositeOperation = "xor", this.context.beginPath(), this.context.moveTo(0, this.reverse ? 0 : this.height);
      for (t = 0, i = this.points.length; t < i; t++) this.points[t].render(this.context);
      this.context.lineTo(this.width, this.reverse ? 0 : this.height), this.context.closePath(), this.context.fill(), this.context.restore()
    }
  },
  SURFACE_POINT = function (t, i) {
    this.renderer = t, this.x = i, this.init()
  };
  SURFACE_POINT.prototype = {
    SPRING_CONSTANT: .03,
    SPRING_FRICTION: .9,
    WAVE_SPREAD: .3,
    ACCELARATION_RATE: .01,
    init: function () {
      this.initHeight = this.renderer.height * this.renderer.INIT_HEIGHT_RATE, this.height = this.initHeight, this.fy = 0, this.force = {
        previous: 0,
        next: 0
      }
    },
    setPreviousPoint: function (t) {
      this.previous = t
    },
    setNextPoint: function (t) {
      this.next = t
    },
    interfere: function (t, i) {
      this.fy = this.renderer.height * this.ACCELARATION_RATE * (this.renderer.height - this.height - t >= 0 ? -1 : 1) * Math.abs(i)
    },
    updateSelf: function () {
      this.fy += this.SPRING_CONSTANT * (this.initHeight - this.height), this.fy *= this.SPRING_FRICTION, this.height += this.fy
    },
    updateNeighbors: function () {
      this.previous && (this.force.previous = this.WAVE_SPREAD * (this.height - this.previous.height)), this.next && (this.force.next = this.WAVE_SPREAD * (this.height - this.next.height))
    },
    render: function (t) {
      this.previous && (this.previous.height += this.force.previous, this.previous.fy += this.force.previous), this.next && (this.next.height += this.force.next, this.next.fy += this.force.next), t.lineTo(this.x, this.renderer.height - this.height)
    }
  };
  var FISH = function (t) {
    this.renderer = t, this.init()
  };
  FISH.prototype = {
    GRAVITY: .4,
    init: function () {
      this.direction = Math.random() < .5, this.x = this.direction ? this.renderer.width + this.renderer.THRESHOLD : -this.renderer.THRESHOLD, this.previousY = this.y, this.vx = this.getRandomValue(4, 10) * (this.direction ? -1 : 1), this.renderer.reverse ? (this.y = this.getRandomValue(1 * this.renderer.height / 10, 4 * this.renderer.height / 10), this.vy = this.getRandomValue(2, 5), this.ay = this.getRandomValue(.05, .2)) : (this.y = this.getRandomValue(6 * this.renderer.height / 10, 9 * this.renderer.height / 10), this.vy = this.getRandomValue(-5, -2), this.ay = this.getRandomValue(-.2, -.05)), this.isOut = !1, this.theta = 0, this.phi = 0
    },
    getRandomValue: function (t, i) {
      return t + (i - t) * Math.random()
    },
    reverseVertical: function () {
      this.isOut = !this.isOut, this.ay *= -1
    },
    controlStatus: function (t) {
      this.previousY = this.y, this.x += this.vx, this.y += this.vy, this.vy += this.ay, this.renderer.reverse ? this.y > this.renderer.height * this.renderer.INIT_HEIGHT_RATE ? (this.vy -= this.GRAVITY, this.isOut = !0) : (this.isOut && (this.ay = this.getRandomValue(.05, .2)), this.isOut = !1) : this.y < this.renderer.height * this.renderer.INIT_HEIGHT_RATE ? (this.vy += this.GRAVITY, this.isOut = !0) : (this.isOut && (this.ay = this.getRandomValue(-.2, -.05)), this.isOut = !1), this.isOut || (this.theta += Math.PI / 20, this.theta %= 2 * Math.PI, this.phi += Math.PI / 30, this.phi %= 2 * Math.PI), this.renderer.generateEpicenter(this.x + (this.direction ? -1 : 1) * this.renderer.THRESHOLD, this.y, this.y - this.previousY), (this.vx > 0 && this.x > this.renderer.width + this.renderer.THRESHOLD || this.vx < 0 && this.x < -this.renderer.THRESHOLD) && this.init()
    },
    render: function (t) {
      t.save(), t.translate(this.x, this.y), t.rotate(Math.PI + Math.atan2(this.vy, this.vx)), t.scale(1, this.direction ? 1 : -1), t.beginPath(), t.moveTo(-30, 0), t.bezierCurveTo(-20, 15, 15, 10, 40, 0), t.bezierCurveTo(15, -10, -20, -15, -30, 0), t.fill(), t.save(), t.translate(40, 0), t.scale(.9 + .2 * Math.sin(this.theta), 1), t.beginPath(), t.moveTo(0, 0), t.quadraticCurveTo(5, 10, 20, 8), t.quadraticCurveTo(12, 5, 10, 0), t.quadraticCurveTo(12, -5, 20, -8), t.quadraticCurveTo(5, -10, 0, 0), t.fill(), t.restore(), t.save(), t.translate(-3, 0), t.rotate((Math.PI / 3 + Math.PI / 10 * Math.sin(this.phi)) * (this.renderer.reverse ? -1 : 1)), t.beginPath(), this.renderer.reverse ? (t.moveTo(5, 0), t.bezierCurveTo(10, 10, 10, 30, 0, 40), t.bezierCurveTo(-12, 25, -8, 10, 0, 0)) : (t.moveTo(-5, 0), t.bezierCurveTo(-10, -10, -10, -30, 0, -40), t.bezierCurveTo(12, -25, 8, -10, 0, 0)), t.closePath(), t.fill(), t.restore(), t.restore(), this.controlStatus(t)
    }
  }, $(function () {
    RENDERER.init()
    $('.dark').click(function () {
      setTimeout(() => {
        RENDERER.setFishColor();
        RENDERER.context.fill();
      });
    })
  });
</script>
  
  <div class="footer bg-color">
    <div class="footer-main">
      
        
          <div class="link">
            
          </div>
        
      
        
          <div class="footer-copyright">
            <p>Copyright © 2023 - 2023 <a target="_blank" rel="noopener" href="https://github.com/Humble2967738843">yuan long</a> | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/yuang01/theme">Bamboo</a> </p>

          </div>
        
      
        
          
            <!-- 不蒜子统计 -->
            <!-- 不蒜子统计 -->
<span id="busuanzi_container_site_pv">
      <i class="fas fa-eye" aria-hidden="true"></i>本站总访问量：<span id="busuanzi_value_site_pv"></span> 次
</span>
<span class="post-meta-divider">|</span>
<span id="busuanzi_container_site_uv" style='display:none'>
      <i class="fas fa-users" aria-hidden="true"></i>本站访客数：<span id="busuanzi_value_site_uv"></span> 人
</span>

          
        
      
        
          <div class="footer-custom">
            
          </div>
        
      
    </div>
  </div>



    <!-- 渲染暗黑按钮 -->
    
      <div class="dark">
  <div class="dark-content">
    <i class="fas fa-moon" aria-hidden="true"></i>
    <!-- <span>关灯</span> -->
  </div>
  
</div>

<script>
  $(function() {
    let isDark = JSON.parse(localStorage.getItem('dark'))  || JSON.parse('false');
    if (isDark) {
      $(".dark-content").replaceWith(
          `
          <div class='dark-content'>
            <i class="fas fa-lightbulb" aria-hidden="true"></i>
          </div>
          `
        );
    }
    $('.dark').click(function() {
      if ($(document.body).is('.darkModel')) {
        $(document.body).removeClass('darkModel');
        localStorage.setItem('dark', false);
        $(".dark-content").replaceWith(
          `
          <div class='dark-content'>
            <i class="fas fa-moon" aria-hidden="true"></i>
          </div>
          `
        );
      } else {
        $(document.body).addClass('darkModel');
        localStorage.setItem('dark', true);
        $(".dark-content").replaceWith(
          `
          <div class='dark-content'>
            <i class="fas fa-lightbulb" aria-hidden="true"></i>
          </div>
          `
        );
      }
    })
  })
</script>
    
    <!-- 渲染回到顶部按钮 -->
    
      <div class="goTop top-btn-color" pointer>
  <i class="fas fa-arrow-up" aria-hidden="true"></i>
</div>
<script src="/js/goTop.js"></script>

    
    <!-- 渲染左下角音乐播放器 -->
    
      <link rel="stylesheet" href="/js/aplayer/APlayer@1.10.1.min.css">
<style>
.aplayer .aplayer-lrc p {
  
  font-size: 12px;
  font-weight: 700;
  line-height: 16px !important;
}

.aplayer .aplayer-lrc p.aplayer-lrc-current {
  
  font-size: 15px;
  color: #42b983;
}


.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
  left: -66px !important;
}

.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
  left: 0px !important;
}


</style>
<meting-js  
  class=""
  server="tencent"
  type="playlist"
  id="8062553743"
  fixed='true'
  autoplay='false'
  theme='#42b983'
  loop='all'
  order='random'
  preload='auto'
  volume='0.7'
  list-folded='true'
>
</meting-js>

<!-- <style>
  #aplayer {
    position: fixed;
    left: 0;
    bottom: 300px;
  }
</style> -->
<script src="https://unpkg.com/aplayer@1.10.1/dist/APlayer.min.js"></script>
<script src="https://unpkg.com/meting@2/dist/Meting.min.js"></script>
    

    <!-- 图片放大 -->
    
      <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
    

    <!-- 百度解析 -->
    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <!-- 背景彩带 -->
    
      <script type="text/javascript" size="100" alpha='0.4' zIndex="-1" src="/js/ribbon.min.js"></script>
    

    <script src="/js/utils/index.js"></script>
    <script src="/js/app.js"></script>
    
    <!-- 文章目录所需js -->
<!-- <link href="/js/tocbot/tocbot.css" rel="stylesheet">
<script src="/js/tocbot/tocbot.min.js"></script> -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.min.js"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.css">

<script>
  var headerEl = 'h2, h3, h4',  //headers 
    content = '.post-detail',//文章容器
    idArr = {};  //标题数组以确定是否增加索引id
  //add #id
  var option = {
    // Where to render the table of contents.
    tocSelector: '.toc',
    // Where to grab the headings to build the table of contents.
    contentSelector: content,
    // Which headings to grab inside of the contentSelector element.
    headingSelector: headerEl,
    scrollSmooth: true,
    scrollSmoothOffset: -70,
    // headingsOffset: -($(window).height() * 0.4 - 45),
    headingsOffset: -($(window).height() * 0.4 - 70),
    // positionFixedSelector: '.toc-main',
    // positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto',
    activeLinkClass: 'is-active-link',
    orderedList: true,
    collapseDepth: 20,
    // onClick: function (e) {},
  }
  if ($('.toc').length > 0) {

    $(content).children(headerEl).each(function () {
      //去除空格以及多余标点
      var headerId = $(this).text().replace(/[\s|\~|`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\_|\+|\=|\||\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|\：|\，|\。]/g, '');

      headerId = headerId.toLowerCase();
      if (idArr[headerId]) {
        //id已经存在
        $(this).attr('id', headerId + '-' + idArr[headerId]);
        idArr[headerId]++;
      }
      else {
        //id未存在
        idArr[headerId] = 1;
        $(this).attr('id', headerId);
      }
    });

    document.addEventListener("DOMContentLoaded", function () {
      tocbot.init(option);
      mobileTocClick();
    });

  }

  window.tocScrollFn = function () {
    return bamboo.throttle(function () {
      findHeadPosition();
    }, 100)()
  }
  window.addEventListener('scroll', tocScrollFn);

  const findHeadPosition = function (top) {
    if ($('.toc-list').length <= 0) {
      return false;
    }
    setTimeout(() => {  // or DOMContentLoaded 
      autoScrollToc();
    }, 0);
  }

  const autoScrollToc = function () {
    const $activeItem = document.querySelector('.is-active-link');
    const $cardToc = document.querySelector('.toc-content');
    const activePosition = $activeItem.getBoundingClientRect().top
    const sidebarScrollTop = $cardToc.scrollTop
    if (activePosition > (document.documentElement.clientHeight - 100)) {
      $cardToc.scrollTop = sidebarScrollTop + 150
    }
    if (activePosition < 150) {
      $cardToc.scrollTop = sidebarScrollTop - 150
    }
  }

  document.addEventListener('pjax:send', function () {
    if ($('.toc').length) {
      tocbot.destroy();
    }
  });

  document.addEventListener('pjax:complete', function () {
    if ($('.toc').length) {
      tocbot.init(option);
      mobileTocClick();
    }
  });
  
  // 手机端toc按钮点击出现目录
  const mobileTocClick = function () {
    const $cardTocLayout = document.getElementsByClassName('side_toc')[0];
    const $cardToc = $cardTocLayout.getElementsByClassName('toc-content')[0];
    let right = '45px';
    if (window.innerWidth >= 551 && window.innerWidth <= 992) {
      right = '100px'
    }
    const mobileToc = {
      open: () => {
        $cardTocLayout.style.cssText = 'animation: toc-open .3s; opacity: 1; right: ' + right
      },

      close: () => {
        $cardTocLayout.style.animation = 'toc-close .2s'
        setTimeout(() => {
          $cardTocLayout.style.cssText = "opacity:''; animation: ''; right: ''"
        }, 100)
      }
    }
    document.getElementById('toc-mobile-btn').addEventListener('click', () => {
      if (window.getComputedStyle($cardTocLayout).getPropertyValue('opacity') === '0') mobileToc.open()
      else mobileToc.close()
    })

    $cardToc.addEventListener('click', (e) => {
      if (window.innerWidth < 992) { // 小于992px的时候
        mobileToc.close()
      }
    })
  }
</script>

<style>
  /* .is-position-fixed {
    position: sticky !important;
    top: 74px;
  }

  .toc-main ul {
    counter-reset: show-list;
  }

  .toc-main ul li::before {
    content: counter(item)".";
    display: block;
    position: absolute;
    left: 12px;
    top: 0;
  } */
</style>
 

<!-- 设置导航背景 -->
<script>
  let setHeaderClass = () => {
    const nav = $('#navHeader');
    const navTop = nav.outerHeight();
    const winTop = $(window).scrollTop();
    if(winTop > navTop) {
      nav.addClass('header-bg-color');
    }
    else {
      nav.removeClass('header-bg-color');
    }
  };

  let scrollCollect = () => {
    return bamboo.throttle(function (e) {
      setHeaderClass();
    }, 200)()
  }

  let initHeaderBg = () => {
    setHeaderClass();
  }

  setHeaderClass();
  window.addEventListener('scroll', scrollCollect);

  document.addEventListener('pjax:send', function () {
    window.removeEventListener('scroll', scrollCollect)
  })
  document.addEventListener('pjax:complete', function () {
    window.addEventListener('scroll', scrollCollect);
    setHeaderClass();
  })
</script> 

<!-- 渲染issues标签里的内容 -->
<script>
  function loadIssuesJS() {
    if ($(".post-detail").find(".issues-api").length == 0) {
      return;
    } 
    loadScript('/js/issues/index.js');
  };
  $(function () {
    loadIssuesJS();
  });
  document.addEventListener('pjax:complete', function () {
    if (typeof IssuesAPI == "undefined") {
      loadIssuesJS();
    }
  })
</script>

<!-- 渲染远程json加载的图片标签(getPhotoOnline)里的内容 -->
<script>
  function loadPhotoOnlineJS() {
    if ($(".post-detail").find(".getJsonPhoto-api").length == 0) {
      return;
    } 
    loadScript('/js/getPhotoOnline/index.js');
  };
  $(function () {
    loadPhotoOnlineJS();
  });
  document.addEventListener('pjax:complete', function () {
    if (typeof getPhotoJson == "undefined") {
      loadPhotoOnlineJS();
    }
  })
</script>

<!-- 渲染远程json加载的talk标签(getTalkOnline)里的内容 -->
<script>
  function loadTalkOnlineJS() {
    if ($(".post-detail").find(".getJsonTalk-api").length == 0) {
      return;
    } 
    loadScript('https://cdnjs.cloudflare.com/ajax/libs/waterfall.js/1.0.2/waterfall.min.js'); // 瀑布流插件，https://raphamorim.io/waterfall.js/
    loadScript('/js/getTalkOnline/index.js');
  };
  $(function () {
    loadTalkOnlineJS();
  });
  document.addEventListener('pjax:complete', function () {
    if (typeof getTalkJson == "undefined") {
      loadTalkOnlineJS();
    }
  })
</script>

<!-- 渲染远程json加载的site-card标签(getSiteOnline)里的内容 -->
<script>
  function loadSiteOnlineJS() {
    if ($(".post-detail").find(".getJsonSite-api").length == 0) {
      return;
    } 
    loadScript('/js/getSiteOnline/index.js');
  };
  $(function () {
    loadSiteOnlineJS();
  });
  document.addEventListener('pjax:complete', function () {
    if (typeof getSiteJson == "undefined") {
      loadSiteOnlineJS();
    }
  })
</script>

<!-- 输入框打字特效 -->
<!-- 输入框打字特效 -->

  <script src="/js/activate-power-mode.js"></script>
  <script>
    POWERMODE.colorful = true;  // 打开随机颜色特效
    POWERMODE.shake = false;    // 关闭输入框抖动
    document.body.addEventListener('input', POWERMODE);//监听打字事件
  </script>


<!-- markdown代码一键复制功能 -->

  <link rel="stylesheet" href="https://unpkg.com/v-plugs-ayu/lib/ayu.css">
  <script src="https://unpkg.com/v-plugs-ayu/lib/ayu.umd.min.js"></script>
  <script src="/js/clipboard/clipboard.min.js"></script>
  <div id="appCopy">
  </div>
  <script data-pjax>
    var vm = new Vue({
      el: '#appCopy',
      data: {
      },
      computed: {
      },
      mounted() {
        const that = this;
        var copy = '复制';
        /* code */
        var initCopyCode = function () {
          var copyHtml = '';
          copyHtml += '<button class="btn-copy" data-clipboard-snippet="" style="position:absolute;top:0;right:0;z-index:1;">';
          copyHtml += '<i class="fas fa-copy"></i><span>' + copy + '</span>';
          copyHtml += '</button>';
          $(".post-detail pre").not('.gutter pre').wrap("<div class='codeBox' style='position:relative;width:100%;'></div>")
          $(".post-detail pre").not('.gutter pre').before(copyHtml);
          new ClipboardJS('.btn-copy', {
            target: function (trigger) {
              return trigger.nextElementSibling;
            }
          });
        }
        initCopyCode();
        $('.btn-copy').unbind('click').bind('click', function () {
          doSomething();
        })
        $(document).unbind('keypress').bind('keypress', function (e) {
          if (e.ctrlKey && e.keyCode == 67) {
            doSomething();
          }
        })

        function doSomething() {
          that.$notify({
            title: "成功",
            content: "代码已复制，请遵守相关授权协议。",
            type: 'success'
          })
        }
      },
      methods: {
      },
      created() { }
    })
  </script>
  

<!-- 图片懒加载 -->
<script defer src="https://unpkg.com/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
  document.addEventListener('pjax:complete', function () {
    lazyLoadInstance.update();
  });
</script>


<!-- 卡片滚动动画 -->
   

<!-- 评论所需js -->

  
    <script type="text/javascript">
  var utteranceCommon = {};

  function check_utterance() {
    let isDark = JSON.parse(localStorage.getItem('dark')) || JSON.parse('false');
    if (isDark) {
      utteranceCommon.Theme = 'github-dark';
    } else {
      utteranceCommon.Theme = 'github-light';
    }

    return document.getElementById("gitment-container");
  }
  comment_el = '#gitment-container';
  load_utterance = function () {
    if ($(comment_el).length) {
      // 匿名函数，防止污染全局变量
      const HEAD = check_utterance();

      var utterances = document.createElement('script');
      utterances.type = 'text/javascript';
      utterances.async = true;
      utterances.setAttribute('issue-term', 'pathname')
      utterances.setAttribute('theme', utteranceCommon.Theme)
      utterances.setAttribute('repo', 'Humble2967738843/Humble2967738843.github.io')
      utterances.crossorigin = 'anonymous';
      utterances.src = 'https://utteranc.es/client.js';
      // content 是要插入评论的地方
      document.getElementById('gitment-container').appendChild(utterances);

    }
  }

  function dark_utterance() {
    const HEAD = check_utterance();
    if (!HEAD) return;
    const message = {
      type: 'set-theme',
      theme: utteranceCommon.Theme
    };
    const utteranceIframe = document.querySelector('iframe');
    utteranceIframe.contentWindow.postMessage(message, 'https://utteranc.es');
  }

  $(document).ready(load_utterance);
  document.addEventListener('pjax:complete', function () {
    load_utterance();
  });

  $('.dark').click(function () {
    setTimeout(() => {
      dark_utterance();
    });
  })

</script>

<style>
  .utterances {
    max-width: inherit !important;
  }
</style>
  


<!-- 鼠标点击特效 -->
<!-- 爱心点击 -->

  
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 999; pointer-events: none;" ></canvas>
    <script src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script src="/js/cursor/explosion.min.js"></script>
  




  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" data-pjax></script>


<!-- 轮播图标签 -->
<script>
  var bambooSwiperTag = {};
  function load_swiper() {
    if (!document.querySelectorAll(".post-swiper-container")[0]) return;
    loadCSS("https://unpkg.com/swiper@6/swiper-bundle.min.css")
    loadScript("https://unpkg.com/swiper@6/swiper-bundle.min.js").then(() => {
      pjax_swiper();
    });
  }

  load_swiper();

  function pjax_swiper() {
    bambooSwiperTag.swiper = new Swiper('.post-swiper-container', {
      slidesPerView: 'auto',
      spaceBetween: 8,
      centeredSlides: true,
      loop: true,
      autoplay: true ? {
        delay: 3000,
        stopOnLastSlide: false,
        disableOnInteraction: false,
      } : false,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      on:{
        init: function(){
          swiperAnimateCache(this); //隐藏动画元素 
          swiperAnimate(this); //初始化完成开始动画
        }, 
        slideChangeTransitionEnd: function(){ 
          swiperAnimate(this); //每个slide切换结束时也运行当前slide动画
          //this.slides.eq(this.activeIndex).find('.ani').removeClass('ani'); 动画只展现一次，去除ani类名
        } 
      }
    });
  }

  document.addEventListener('pjax:complete', function () {
    if (!document.querySelectorAll(".post-swiper-container")[0]) return;
    if (typeof bambooSwiperTag.swiper === "undefined") {
      load_swiper();
    } else {
      pjax_swiper();
    }
  });
</script>
    <!-- pjax -->
    

<!-- pjax -->


  <script src="/js/pjax@0.2.8/index.js"></script>
  
    <!-- 样式位于：source/css/_third-party/pjaxanimate.styl -->

<div class="pjax-animate">
  
    <div class="loading-circle"><div id="loader-circle"></div></div>
    <script>
      window.ShowLoading = function() {
        $(".loading-circle").css("display", "block");
      };
      window.HideLoading = function() {
        $(".loading-circle").css("display", "none");
      }
    </script>
  
	<script>
    document.addEventListener('pjax:complete', function () {
      window.HideLoading();
    })
    document.addEventListener('pjax:send', function () {
      window.ShowLoading();
    })
    document.addEventListener('pjax:error', function () {
      window.HideLoading();
    })
	</script>
</div>

  

  <script>
    var pjax = new Pjax({
      elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([no-pjax])',   // 拦截正常带链接的 a 标签
      selectors: ["#pjax-container","title"],                                   // 根据实际需要确认重载区域
      cacheBust: false,   // url 地址追加时间戳，用以避免浏览器缓存
      timeout: 5000
    });

    document.addEventListener('pjax:send', function (e) {

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      $(window).unbind('resize');
      $(window).unbind('scroll');
      $(document).unbind('scroll');
      $(document).unbind('click');
      $('body').unbind('click');

    })
    
    document.addEventListener('pjax:complete', function () {
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
    });

    document.addEventListener('pjax:error', function (e) {
      window.location.href = e.triggerElement.href;
    })
    
    // 刷新不从顶部开始
    document.addEventListener("DOMContentLoaded", function () {
      history.scrollRestoration = 'auto';
    })
  </script>



  </body>
</html>